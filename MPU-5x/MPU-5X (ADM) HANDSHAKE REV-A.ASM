
; PICBASIC PRO(TM) Compiler 3.1.1.4, (c) 1997, 2018 ME Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        "Error: PM does not support this device.  Use MPASM."
        NOLIST
    else
        LIST
        LIST p = 18F26K22, r = dec, w = -311, w = -230, f = inhx32
        INCLUDE "P18F26K22.INC"	; MPASM  Header
        NOLIST
    endif
        LIST
EEPROM_START	EQU	0F00000h
BLOCK_SIZE	EQU	64


PBP_HARDWAREDEF  macro
  endm


    CONFIG  FOSC = INTIO67        ; Internal oscillator block
    CONFIG  PLLCFG = OFF          ; Oscillator used directly
    CONFIG  PRICLKEN = OFF        ; Primary clock can be disabled by software
    CONFIG  FCMEN = OFF           ; Fail-Safe Clock Monitor disabled
    CONFIG  IESO = OFF            ; Oscillator Switchover mode disabled
    CONFIG  PWRTEN = OFF          ; Power up timer disabled
    CONFIG  BOREN = SBORDIS       ; Brown-out Reset enabled in hardware only (SBOREN is disabled)
    CONFIG  BORV = 190            ; VBOR set to 1.90 V nominal
    CONFIG  WDTEN = ON            ; WDT is always enabled. SWDTEN bit has no effect
    CONFIG  WDTPS = 32768         ; 1:32768
    CONFIG  CCP2MX = PORTC1       ; CCP2 input/output is multiplexed with RC1
    CONFIG  PBADEN = OFF          ; PORTB<5:0> pins are configured as digital I/O on Reset
    CONFIG  CCP3MX = PORTB5       ; P3A/CCP3 input/output is multiplexed with RB5
    CONFIG  HFOFST = ON           ; HFINTOSC output and ready status are not delayed by the oscillator stable status
    CONFIG  T3CMX = PORTC0        ; T3CKI is on RC0
    CONFIG  P2BMX = PORTB5        ; P2B is on RB5
    CONFIG  MCLRE = EXTMCLR       ; MCLR pin enabled, RE3 input pin disabled
    CONFIG  STVREN = ON           ; Stack full/underflow will cause Reset
    CONFIG  LVP = OFF             ; Single-Supply ICSP disabled
    CONFIG  XINST = OFF           ; Instruction set extension and Indexed Addressing mode disabled (Legacy mode)
    CONFIG  DEBUG = OFF           ; Disabled
    CONFIG  CP0 = OFF             ; Block 0 (000800-003FFFh) not code-protected
    CONFIG  CP1 = OFF             ; Block 1 (004000-007FFFh) not code-protected
    CONFIG  CP2 = OFF             ; Block 2 (008000-00BFFFh) not code-protected
    CONFIG  CP3 = OFF             ; Block 3 (00C000-00FFFFh) not code-protected
    CONFIG  CPB = OFF             ; Boot block (000000-0007FFh) not code-protected
    CONFIG  CPD = OFF             ; Data EEPROM not code-protected
    CONFIG  WRT0 = OFF            ; Block 0 (000800-003FFFh) not write-protected
    CONFIG  WRT1 = OFF            ; Block 1 (004000-007FFFh) not write-protected
    CONFIG  WRT2 = OFF            ; Block 2 (008000-00BFFFh) not write-protected
    CONFIG  WRT3 = OFF            ; Block 3 (00C000-00FFFFh) not write-protected
    CONFIG  WRTC = OFF            ; Configuration registers (300000-3000FFh) not write-protected
    CONFIG  WRTB = OFF            ; Boot Block (000000-0007FFh) not write-protected
    CONFIG  WRTD = OFF            ; Data EEPROM not write-protected
    CONFIG  EBTR0 = OFF           ; Block 0 (000800-003FFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR1 = OFF           ; Block 1 (004000-007FFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR2 = OFF           ; Block 2 (008000-00BFFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR3 = OFF           ; Block 3 (00C000-00FFFFh) not protected from table reads executed in other blocks
    CONFIG  EBTRB = OFF           ; Boot Block (000000-0007FFh) not protected from table reads executed in other blocks



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00392	DEFINE  ADC_CHANNELS  1
#define		ADC_CHANNELS		  1
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00151	define OSC 32        
#define		OSC		 32        

RAM_START       		EQU	00000h
RAM_END         		EQU	00F37h
RAM_BANKS       		EQU	00010h
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANK8_START     		EQU	00800h
BANK8_END       		EQU	008FFh
BANK9_START     		EQU	00900h
BANK9_END       		EQU	009FFh
BANK10_START    		EQU	00A00h
BANK10_END      		EQU	00AFFh
BANK11_START    		EQU	00B00h
BANK11_END      		EQU	00BFFh
BANK12_START    		EQU	00C00h
BANK12_END      		EQU	00CFFh
BANK13_START    		EQU	00D00h
BANK13_END      		EQU	00DFFh
BANK14_START    		EQU	00E00h
BANK14_END      		EQU	00EFFh
BANK15_START    		EQU	00F00h
BANK15_END      		EQU	00F37h
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00027	A00001	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 001h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00012	A00002	R0      VAR     WORD BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00013	A00004	R1      VAR     WORD BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00014	A00006	R2      VAR     WORD BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00015	A00008	R3      VAR     WORD BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00016	A0000A	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00017	A0000C	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00018	A0000E	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00019	A00010	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00020	A00012	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 012h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00001	A00014	'****************************************************************
T1              		EQU	RAM_START + 014h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00001	A00016	'****************************************************************
T2              		EQU	RAM_START + 016h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00001	A00018	'****************************************************************
T3              		EQU	RAM_START + 018h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00001	A0001A	'****************************************************************
T4              		EQU	RAM_START + 01Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00023	A0001C	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 01Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00026	A0001D	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 01Dh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00021	A0001E	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 01Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00024	A0001F	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 01Fh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00022	A00020	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 020h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00025	A00021	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 021h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00001	A00022	'****************************************************************
PB01            		EQU	RAM_START + 022h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00252	A00023	ACCEL_FILTER            VAR     WORD                      'ACCELEROMETER FILTER BANDWIDTH (HZ) (ACCEPTABLE VALUES: 5,10,20,41,92,184,460,11
_ACCEL_FILTER    		EQU	RAM_START + 023h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00248	A00025	ACCEL_GYRO_SAMPLE_RATE  VAR     WORD                      'ACCELEROMETER AND GYROSCOPE SAMPLE RATE (DO NOT CHANGE, NOT SUPPORTED IN THIS RE
_ACCEL_GYRO_SAMPLE_RATE		EQU	RAM_START + 025h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00250	A00027	ACCEL_SENSITIVITY       VAR     WORD                      'ACCELEROMETER SENSITIVITY (G'S) (ACCEPTABLE VALUES: 2, 4, 8, 16)--> DEFAULTS TO 
_ACCEL_SENSITIVITY		EQU	RAM_START + 027h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00352	A00029	BYTES_LEFT_IN_SECTOR    var     WORD                             'DETERMINES HOW MUCH TO INCREMENT THE WRITE_ADDR TO MOVE TO THE NEXT SECTO
_BYTES_LEFT_IN_SECTOR		EQU	RAM_START + 029h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00273	A0002B	COUNTER                  var    WORD                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_COUNTER         		EQU	RAM_START + 02Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00259	A0002D	DELAY_PERIOD_US         VAR   WORD                      'VARIABLE THAT HOLD CALCULATED DELAY PER SAMPLE TO MEET USER DEFINED SAMPLE RATE
_DELAY_PERIOD_US 		EQU	RAM_START + 02Dh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00370	A0002F	END_WRITE_ADDR_H    VAR WORD                           'HIGH WORD THAT MARKS END OF TEST WHEN EXPORTING DATA 
_END_WRITE_ADDR_H		EQU	RAM_START + 02Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00371	A00031	END_WRITE_ADDR_L    VAR WORD                           'LOW WORD THAT MARKS END OF TEST WHEN EXPORTING DATA 
_END_WRITE_ADDR_L		EQU	RAM_START + 031h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00375	A00033	ERASE_SECTOR_COUNT  VAR WORD                           'STORES NUMBER OF SECTORS TO ERASE
_ERASE_SECTOR_COUNT		EQU	RAM_START + 033h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00278	A00035	FLASH_READ_COUNTER       var    word                             'TRACKS HOW MANY SECTORS HAVE BEEN READ FROM FLASH
_FLASH_READ_COUNTER		EQU	RAM_START + 035h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00258	A00037	FLASH_READ_LENGTH       var   WORD                      'CALCULATED NUMBER OF SECTORS THAT WILL BE READ FROM THE FLASH MEMORY AND SENT TO T
_FLASH_READ_LENGTH		EQU	RAM_START + 037h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00253	A00039	GYRO_FILTER             VAR     WORD                      'GYROSCOPE FILTER BANDWIDTH (HZ) (ACCEPTABLE VALUES: 5,10,20,41,92,184,250,3600,8
_GYRO_FILTER     		EQU	RAM_START + 039h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00251	A0003B	GYRO_SENSITIVITY        VAR     WORD                      'GYROSCOPE SENSITIVITY (DPS) (ACCEPTABLE VALUES: 250, 500, 1000, 2000)--> DEFAULT
_GYRO_SENSITIVITY		EQU	RAM_START + 03Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00271	A0003D	I                        var    WORD                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_I               		EQU	RAM_START + 03Dh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00282	A0003F	INTERRUPT_COUNTER        VAR    WORD                             'USED TO TRACK THE CORRECT DELAY PERIOD FOR DATA SAMPLING
_INTERRUPT_COUNTER		EQU	RAM_START + 03Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00272	A00041	J                        var    WORD                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_J               		EQU	RAM_START + 041h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00277	A00043	LED_COUNTER              VAR    WORD                             'INCREMENTAL VARIABLE FOR LED SEQUENCES
_LED_COUNTER     		EQU	RAM_START + 043h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00249	A00045	MAG_SAMPLE_RATE         VAR     WORD                      'MAGNETOMETER SAMPLE RATE (DO NOT CHANGE, NOT SUPPORTED IN THIS REV)
_MAG_SAMPLE_RATE 		EQU	RAM_START + 045h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00397	A00047	MAIN_CYCLE_CNTR         VAR     WORD                'Counts the number of loops through MAIN; Used to determine user inactivity so module c
_MAIN_CYCLE_CNTR 		EQU	RAM_START + 047h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00374	A00049	META_ADDR           var word                           'LOW WORD OF FLASH META ADDRESS (META SECTOR SPANS FROM 0 TO 503 SO NO HIGH WORD NEE
_META_ADDR       		EQU	RAM_START + 049h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00285	A0004B	RAW_ACCEL_XOUT          var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 ACCELEROMETER
_RAW_ACCEL_XOUT  		EQU	RAM_START + 04Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00286	A0004D	RAW_ACCEL_YOUT          var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 ACCELEROMETER
_RAW_ACCEL_YOUT  		EQU	RAM_START + 04Dh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00287	A0004F	RAW_ACCEL_ZOUT          var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 ACCELEROMETER
_RAW_ACCEL_ZOUT  		EQU	RAM_START + 04Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00288	A00051	RAW_GYRO_XOUT           var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 GYROSCOPE
_RAW_GYRO_XOUT   		EQU	RAM_START + 051h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00289	A00053	RAW_GYRO_YOUT           var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 GYROSCOPE
_RAW_GYRO_YOUT   		EQU	RAM_START + 053h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00290	A00055	RAW_GYRO_ZOUT           var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 GYROSCOPE
_RAW_GYRO_ZOUT   		EQU	RAM_START + 055h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00291	A00057	RAW_MAG_XOUT            var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 MAGNETOMETER
_RAW_MAG_XOUT    		EQU	RAM_START + 057h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00292	A00059	RAW_MAG_YOUT            var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 MAGNETOMETER
_RAW_MAG_YOUT    		EQU	RAM_START + 059h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00293	A0005B	RAW_MAG_ZOUT            var     WORD                'TEMPORARILY STORES RAW A/D VALUE READ FROM MPU-9250 MAGNETOMETER
_RAW_MAG_ZOUT    		EQU	RAM_START + 05Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00297	A0005D	ACCEL_CONFIG_2_DATA     VAR     BYTE                'STORES THE ACTUAL VALUE THAT WILL BE SENT TO THE ACCEL_CONFIG_2 REGISTER
_ACCEL_CONFIG_2_DATA		EQU	RAM_START + 05Dh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00296	A0005E	ACCEL_CONFIG_DATA       VAR     BYTE                'STORES THE ACTUAL VALUE THAT WILL BE SENT TO THE ACCEL_CONFIG REGISTER
_ACCEL_CONFIG_DATA		EQU	RAM_START + 05Eh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00233	A0005F	ACKNOWLEDGE_BYTE        VAR     BYTE
_ACKNOWLEDGE_BYTE		EQU	RAM_START + 05Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00372	A00060	READ_ADDR_H         var word                           'HIGH WORD OF FLASH READ ADDRESS
_READ_ADDR_H     		EQU	RAM_START + 060h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00373	A00062	READ_ADDR_L         var word                           'LOW WORD OF FLASH READ ADDRESS
_READ_ADDR_L     		EQU	RAM_START + 062h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00279	A00064	READ_COUNTER             var    WORD                             'USED FOR FLASH READ NAVIGATION
_READ_COUNTER    		EQU	RAM_START + 064h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00256	A00066	SAMPLE_NUM              var   WORD                      'CALCULATED NUMBER OF SAMPLES THAT THE PROCCESOR WILL TAKE FROM THE MPU
_SAMPLE_NUM      		EQU	RAM_START + 066h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00257	A00068	SECOND_COUNTER          VAR   WORD                      'TEST PARAMETER USED IN MAIN DATA COLLECTION FOR LOOP
_SECOND_COUNTER  		EQU	RAM_START + 068h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00276	A0006A	SECTOR_COUNT             var    word                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_SECTOR_COUNT    		EQU	RAM_START + 06Ah
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00230	A0006C	TEMP_RX_BUFFER          VAR     WORD
_TEMP_RX_BUFFER  		EQU	RAM_START + 06Ch
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00368	A0006E	TEMP_WRITE_ADDR_H   VAR WORD                           'TEMPORARY HIGH WORD OF FLASH WRITE ADDRESS
_TEMP_WRITE_ADDR_H		EQU	RAM_START + 06Eh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00369	A00070	TEMP_WRITE_ADDR_L   VAR WORD                           'TEMPERARY LOW WORD OF FLASH WRITE ADDRESS
_TEMP_WRITE_ADDR_L		EQU	RAM_START + 070h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00280	A00072	TEST_COUNTER             var    WORD                             'USED TO IDENTIFY TEST START ADDRESSES IN SERIAL DATA TRANSMISSION
_TEST_COUNTER    		EQU	RAM_START + 072h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00247	A00074	TEST_DURATION           VAR     WORD                      'TEST DURATION
_TEST_DURATION   		EQU	RAM_START + 074h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00281	A00076	TEST_TX_COUNTER          VAR    WORD                             'USED TO TRACK HOW MANY TESTS HAVE BEEN TRANSMITTED
_TEST_TX_COUNTER 		EQU	RAM_START + 076h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00171	A00078	TMR0_TICK_THRESHOLD     var     word        'THIS IS THE VARIABLE USED TO WHEN DETEMININING WHEN TO SAMPLE DATA 
_TMR0_TICK_THRESHOLD		EQU	RAM_START + 078h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00366	A0007A	WRITE_ADDR_H        VAR WORD                           'HIGH WORD OF FLASH WRITE ADDRESS
_WRITE_ADDR_H    		EQU	RAM_START + 07Ah
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00367	A0007C	WRITE_ADDR_L        VAR WORD                           'LOW WORD OF FLASH WRITE ADDRESS
_WRITE_ADDR_L    		EQU	RAM_START + 07Ch
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00238	A0007E	BIT_INDEX 			    var	    Byte                             'USED TO BIT BANG UART
_BIT_INDEX       		EQU	RAM_START + 07Eh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00274	A0007F	DATA_COUNTER             var    BYTE                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_DATA_COUNTER    		EQU	RAM_START + 07Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00357	A00080	DEVICE_ID               VAR     BYTE                             'STORES DEVICE ID (USED AS HELLO WORLD IF USER SUSPECTS SPI OR COMMUNICATI
_DEVICE_ID       		EQU	RAM_START + 080h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00294	A00081	GEN_CONFIG_DATA         VAR     BYTE                'STORES THE ACTUAL VALUE THAT WILL BE SENT TO THE GEN_CONFIG REGISTER
_GEN_CONFIG_DATA 		EQU	RAM_START + 081h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00295	A00082	GYRO_CONFIG_DATA        VAR     BYTE                'STORES THE ACTUAL VALUE THAT WILL BE SENT TO THE GYRO_CONFIG REGISTER
_GYRO_CONFIG_DATA		EQU	RAM_START + 082h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00239	A00083	HEX_DIGIT_COUNTER	    VAR	    BYTE                             'USED TO CONVERT A BYTE TO HEX
_HEX_DIGIT_COUNTER		EQU	RAM_START + 083h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00240	A00084	HEX_INDEX			    VAR	    BYTE                             'USED TO CONVERT A BYTE TO HEX
_HEX_INDEX       		EQU	RAM_START + 084h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00235	A00085	HEX_RETURN              VAR     BYTE                             'GLOBAL VARIABLE THAT STORES THE RESULT OF THE STRING TO HEX CONVERSION
_HEX_RETURN      		EQU	RAM_START + 085h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00392	A00086	I2C_DATA                VAR     BYTE                                         'GLOBAL VARIABLE TO BE SET WHEN USING THE I2C_WRITE SUBROUTINE
_I2C_DATA        		EQU	RAM_START + 086h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00391	A00087	I2C_REG_ADDR            VAR     BYTE                                         'GLOBAL VARIABLE TO BE SET WHEN USING THE I2C_WRITE SUBROUTINE
_I2C_REG_ADDR    		EQU	RAM_START + 087h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00390	A00088	I2C_SLAVE_W_ADDR        VAR     BYTE                                         'GLOBAL VARIABLE TO BE SET WHEN USING THE I2C_WRITE SUBROUTINE
_I2C_SLAVE_W_ADDR		EQU	RAM_START + 088h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00358	A00089	MANUF_ID                VAR     BYTE                             'STORES DEVICE ID (USED AS HELLO WORLD IF USER SUSPECTS SPI OR COMMUNICATI
_MANUF_ID        		EQU	RAM_START + 089h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00359	A0008A	NUM_OF_TESTS            VAR     BYTE                             'TRACKS HOW MANY TESTS ARE STORED IN THE FLASH
_NUM_OF_TESTS    		EQU	RAM_START + 08Ah
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00232	A0008B	PARAM_COUNTER           var     BYTE
_PARAM_COUNTER   		EQU	RAM_START + 08Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00243	A0008C	SERIAL_COUNTER          var     BYTE                             'USED TO NAVIGATE IN SERIAL DATA TRANSMISSION
_SERIAL_COUNTER  		EQU	RAM_START + 08Ch
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00275	A0008D	SET_COUNTER              var    BYTE                             'INCREMENTAL VARIABLE FOR ITERATIVE "FOR" LOOP
_SET_COUNTER     		EQU	RAM_START + 08Dh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00351	A0008E	STATUS_REG_DATA         var     BYTE                             'STORES STATUS REGISTER DATA FOR TIMING PURPOSES
_STATUS_REG_DATA 		EQU	RAM_START + 08Eh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00173	A0008F	T0CON_CONFIG_DATA       VAR     BYTE        'THIS VARIABLE STORES THE VALUE THAT WILL BE WRITTEN TO THE T0CON
_T0CON_CONFIG_DATA		EQU	RAM_START + 08Fh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00242	A00090	TEMP_BYTE               var     BYTE                             'TEMPORARILY STORES A BYTE FOR DATA CONVERSION
_TEMP_BYTE       		EQU	RAM_START + 090h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00237	A00091	TX_BYTE				    VAR		BYTE                             'VARIABLE THAT WILL BE CONVERTED TO HEX BEFORE TRANSMITTING VIA UART
_TX_BYTE         		EQU	RAM_START + 091h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00236	A00092	TX_DATA				    var		byte                             'VARIABLE THAT STORES WHAT WILL BE TRANSMITTED VIA UART
_TX_DATA         		EQU	RAM_START + 092h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00229	A00093	TEST_PARAMS             VAR     WORD[12]                      'HOLDS ALL TEST PARAMETERS IN AN ARRAY SO IT CAN BE EASILY ITERATED OVER
_TEST_PARAMS     		EQU	RAM_START + 093h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00231	A000AB	RAW_RX_DATA             VAR     BYTE[28]                         'BYTE ARRAY THAT STORES TEST PARAMETERS SENT FROM THE PC 
_RAW_RX_DATA     		EQU	RAM_START + 0ABh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00355	A000C7	META_BUFFER_1           var     BYTE[252]                        'STORES A BUFFER OF FLASH MEMORY META DATA
_META_BUFFER_1   		EQU	RAM_START + 0C7h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00356	A001C3	META_BUFFER_2           var     BYTE[252]                        'STORES A BUFFER OF FLASH MEMORY META DATA
_META_BUFFER_2   		EQU	RAM_START + 001C3h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00353	A002BF	READ_BUFFER_1           var     BYTE[252]                        'STORES A BUFFER OF FLASH MEMORY DATA
_READ_BUFFER_1   		EQU	RAM_START + 002BFh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00354	A003BB	READ_BUFFER_2           var     BYTE[252]                        'STORES A BUFFER OF FLASH MEMORY DATA
_READ_BUFFER_2   		EQU	RAM_START + 003BBh
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00393	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00394	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00395	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00396	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
_TEMP_WRITE_ADDR_H??BYTE1		EQU	_TEMP_WRITE_ADDR_H + 001h
_TEMP_WRITE_ADDR_H??BYTE0		EQU	_TEMP_WRITE_ADDR_H
_TEMP_WRITE_ADDR_L??BYTE1		EQU	_TEMP_WRITE_ADDR_L + 001h
_TEMP_WRITE_ADDR_L??BYTE0		EQU	_TEMP_WRITE_ADDR_L
_ACCEL_GYRO_SAMPLE_RATE??BYTE1		EQU	_ACCEL_GYRO_SAMPLE_RATE + 001h
_ACCEL_GYRO_SAMPLE_RATE??BYTE0		EQU	_ACCEL_GYRO_SAMPLE_RATE
_MAG_SAMPLE_RATE??BYTE1		EQU	_MAG_SAMPLE_RATE + 001h
_MAG_SAMPLE_RATE??BYTE0		EQU	_MAG_SAMPLE_RATE
_TEST_DURATION??BYTE1		EQU	_TEST_DURATION + 001h
_TEST_DURATION??BYTE0		EQU	_TEST_DURATION
_ACCEL_SENSITIVITY??BYTE1		EQU	_ACCEL_SENSITIVITY + 001h
_ACCEL_SENSITIVITY??BYTE0		EQU	_ACCEL_SENSITIVITY
_GYRO_SENSITIVITY??BYTE1		EQU	_GYRO_SENSITIVITY + 001h
_GYRO_SENSITIVITY??BYTE0		EQU	_GYRO_SENSITIVITY
_ACCEL_FILTER??BYTE1		EQU	_ACCEL_FILTER + 001h
_ACCEL_FILTER??BYTE0		EQU	_ACCEL_FILTER
_GYRO_FILTER??BYTE1		EQU	_GYRO_FILTER + 001h
_GYRO_FILTER??BYTE0		EQU	_GYRO_FILTER
_WRITE_ADDR_H??BYTE1		EQU	_WRITE_ADDR_H + 001h
_WRITE_ADDR_H??BYTE0		EQU	_WRITE_ADDR_H
_WRITE_ADDR_L??BYTE1		EQU	_WRITE_ADDR_L + 001h
_WRITE_ADDR_L??BYTE0		EQU	_WRITE_ADDR_L
_META_ADDR??BYTE1		EQU	_META_ADDR + 001h
_META_ADDR??BYTE0		EQU	_META_ADDR
_END_WRITE_ADDR_H??BYTE1		EQU	_END_WRITE_ADDR_H + 001h
_END_WRITE_ADDR_H??BYTE0		EQU	_END_WRITE_ADDR_H
_END_WRITE_ADDR_L??BYTE1		EQU	_END_WRITE_ADDR_L + 001h
_END_WRITE_ADDR_L??BYTE0		EQU	_END_WRITE_ADDR_L
_RAW_ACCEL_XOUT??BYTE1		EQU	_RAW_ACCEL_XOUT + 001h
_RAW_ACCEL_XOUT??BYTE0		EQU	_RAW_ACCEL_XOUT
_RAW_ACCEL_YOUT??BYTE1		EQU	_RAW_ACCEL_YOUT + 001h
_RAW_ACCEL_YOUT??BYTE0		EQU	_RAW_ACCEL_YOUT
_RAW_ACCEL_ZOUT??BYTE1		EQU	_RAW_ACCEL_ZOUT + 001h
_RAW_ACCEL_ZOUT??BYTE0		EQU	_RAW_ACCEL_ZOUT
_RAW_GYRO_XOUT??BYTE1		EQU	_RAW_GYRO_XOUT + 001h
_RAW_GYRO_XOUT??BYTE0		EQU	_RAW_GYRO_XOUT
_RAW_GYRO_YOUT??BYTE1		EQU	_RAW_GYRO_YOUT + 001h
_RAW_GYRO_YOUT??BYTE0		EQU	_RAW_GYRO_YOUT
_RAW_GYRO_ZOUT??BYTE1		EQU	_RAW_GYRO_ZOUT + 001h
_RAW_GYRO_ZOUT??BYTE0		EQU	_RAW_GYRO_ZOUT
_RAW_MAG_XOUT??BYTE0		EQU	_RAW_MAG_XOUT
_RAW_MAG_XOUT??BYTE1		EQU	_RAW_MAG_XOUT + 001h
_RAW_MAG_YOUT??BYTE0		EQU	_RAW_MAG_YOUT
_RAW_MAG_YOUT??BYTE1		EQU	_RAW_MAG_YOUT + 001h
_RAW_MAG_ZOUT??BYTE0		EQU	_RAW_MAG_ZOUT
_RAW_MAG_ZOUT??BYTE1		EQU	_RAW_MAG_ZOUT + 001h
#define _INIT_FLAG       	 PB01, 000h
#define _INT_EN_FLAG     	 PB01, 001h
#define _REMOTE_FLAG     	 PB01, 002h
#define _TEMP_REMOTE_FLAG	 PB01, 003h
#define _ADO             	_PORTA??3
#define _GRN_LED         	_PORTC??0
#define _FLASH_CS        	_PORTC??1
#define _SCK             	_PORTC??3
#define _SDO             	_PORTC??4
#define _SDI             	_PORTC??5
#define _UART_TX         	_PORTC??7
#define _UART_RX         	_PORTB??0
#define _SCL             	_PORTB??1
#define _SDA             	_PORTB??2
#define _INT_9250        	_PORTB??3
#define _PB              	_PORTB??5
#define _DSP             	_PORTB??7
#define _BLUE_LED        	_PORTA??0
#define _RED_LED         	_PORTA??1
#define _PWR_ON          	_PORTA??2
#define _RCVR_D0         	_PORTA??5
#define _RCVR_D1         	_PORTC??2
#define _RCVR_VT         	_PORTC??6
#define _VBATT_MON       	_PORTB??4
#define _PORTA??3        	 PORTA, 003h
#define _PORTC??0        	 PORTC, 000h
#define _PORTC??1        	 PORTC, 001h
#define _PORTC??3        	 PORTC, 003h
#define _PORTC??4        	 PORTC, 004h
#define _PORTC??5        	 PORTC, 005h
#define _PORTC??7        	 PORTC, 007h
#define _PORTB??0        	 PORTB, 000h
#define _PORTB??1        	 PORTB, 001h
#define _PORTB??2        	 PORTB, 002h
#define _PORTB??3        	 PORTB, 003h
#define _PORTB??5        	 PORTB, 005h
#define _PORTB??7        	 PORTB, 007h
#define _PORTA??0        	 PORTA, 000h
#define _PORTA??1        	 PORTA, 001h
#define _PORTA??2        	 PORTA, 002h
#define _PORTA??5        	 PORTA, 005h
#define _PORTC??2        	 PORTC, 002h
#define _PORTC??6        	 PORTC, 006h
#define _PORTB??4        	 PORTB, 004h
#define _SSP2CON2??0     	 SSP2CON2, 000h
#define _SSP2CON2??2     	 SSP2CON2, 002h
#define _SSP2STAT??0     	 SSP2STAT, 000h
#define _ACCEL_CONFIG_DATA??4	_ACCEL_CONFIG_DATA, 004h
#define _ACCEL_CONFIG_DATA??3	_ACCEL_CONFIG_DATA, 003h
#define _GYRO_CONFIG_DATA??4	_GYRO_CONFIG_DATA, 004h
#define _GYRO_CONFIG_DATA??3	_GYRO_CONFIG_DATA, 003h
#define _ACCEL_CONFIG_2_DATA??3	_ACCEL_CONFIG_2_DATA, 003h
#define _ACCEL_CONFIG_2_DATA??2	_ACCEL_CONFIG_2_DATA, 002h
#define _ACCEL_CONFIG_2_DATA??1	_ACCEL_CONFIG_2_DATA, 001h
#define _ACCEL_CONFIG_2_DATA??0	_ACCEL_CONFIG_2_DATA, 000h
#define _GYRO_CONFIG_DATA??1	_GYRO_CONFIG_DATA, 001h
#define _GYRO_CONFIG_DATA??0	_GYRO_CONFIG_DATA, 000h
#define _GEN_CONFIG_DATA??2	_GEN_CONFIG_DATA, 002h
#define _GEN_CONFIG_DATA??1	_GEN_CONFIG_DATA, 001h
#define _GEN_CONFIG_DATA??0	_GEN_CONFIG_DATA, 000h
#define _STATUS_REG_DATA??0	_STATUS_REG_DATA, 000h
#define _TX_DATA??0      	_TX_DATA, 000h
#define _INTCON??2       	 INTCON, 002h
#define _SSP2CON2??3     	 SSP2CON2, 003h
#define _SSP2CON2??4     	 SSP2CON2, 004h
#define _SSP2CON2??5     	 SSP2CON2, 005h

; Constants.
_T2400           		EQU	00000h
_T1200           		EQU	00001h
_T9600           		EQU	00002h
_T300            		EQU	00003h
_N2400           		EQU	00004h
_N1200           		EQU	00005h
_N9600           		EQU	00006h
_N300            		EQU	00007h
_OT2400          		EQU	00008h
_OT1200          		EQU	00009h
_OT9600          		EQU	0000Ah
_OT300           		EQU	0000Bh
_ON2400          		EQU	0000Ch
_ON1200          		EQU	0000Dh
_ON9600          		EQU	0000Eh
_ON300           		EQU	0000Fh
_MSBPRE          		EQU	00000h
_LSBPRE          		EQU	00001h
_MSBPOST         		EQU	00002h
_LSBPOST         		EQU	00003h
_LSBFIRST        		EQU	00000h
_MSBFIRST        		EQU	00001h
_CLS             		EQU	00000h
_HOME            		EQU	00001h
_BELL            		EQU	00007h
_BKSP            		EQU	00008h
_TAB             		EQU	00009h
_CR              		EQU	0000Dh
_UnitOn          		EQU	00012h
_UnitOff         		EQU	0001Ah
_UnitsOff        		EQU	0001Ch
_LightsOn        		EQU	00014h
_LightsOff       		EQU	00010h
_Dim             		EQU	0001Eh
_Bright          		EQU	00016h
_TMR0_THRESH_1000_100		EQU	00E68h
_TMR0_THRESH_960_96		EQU	00F13h
_TMR0_THRESH_500_50		EQU	01E08h
_TMR0_THRESH_480_48		EQU	01F5Eh
_TMR0_THRESH_240_24		EQU	03FF3h
_TMR0_THRESH_120_120		EQU	0811Fh
_TMR0_THRESH_60_60		EQU	08195h
_NOCURS          		EQU	00004h
_CLRLCD          		EQU	0000Ch
_LITEON          		EQU	0000Eh
_LITEOFF         		EQU	0000Fh
_POSCMD          		EQU	00010h
_LINE1           		EQU	00040h
_LINE2           		EQU	00054h
_LINE3           		EQU	00068h
_LINE4           		EQU	0007Ch
_DATA_OUT_BYPASS 		EQU	00001h
_UART_PERIOD_VAR_115200		EQU	00002h
_FLASH_STATUS_1_DATA		EQU	00000h
_FLASH_CONFIG_DATA		EQU	00000h
_FLASH_STATUS_2_DATA		EQU	000C0h
_PWR_MGMT_1_DATA 		EQU	00001h
_PWR_MGMT_2_DATA 		EQU	00000h
_INT_PIN_CFG_DATA		EQU	00012h
_INT_ENABLE_DATA 		EQU	00001h
_CNTL1_CONFIG_DATA		EQU	00011h
_MPU_RESET_CMD   		EQU	00080h
_TEST_PARAM_TIMEOUT		EQU	02710h
_START_LISTENER_TIMOUT		EQU	00001h
_CONFIRM_TIMEOUT 		EQU	00032h
_NUM_PARAMS      		EQU	0000Ch
_DEF_ACCEL_GYRO_SAMPLE_RATE		EQU	000F0h
_DEF_MAG_SAMPLE_RATE		EQU	000F0h
_DEF_TEST_DURATION		EQU	00005h
_DEF_ACCEL_SENSITIVITY		EQU	00010h
_DEF_GYRO_SENSITIVITY		EQU	007D0h
_DEF_ACCEL_FILTER		EQU	0005Ch
_DEF_GYRO_FILTER 		EQU	0005Ch
_MPU_ADDR_W      		EQU	000D0h
_MPU_ADDR_R      		EQU	000D1h
_MAG_ADDR_W      		EQU	00018h
_MAG_ADDR_R      		EQU	00019h
_MAG_XOUT_L_ADDR 		EQU	00003h
_MAG_XOUT_H_ADDR 		EQU	00004h
_MAG_YOUT_L_ADDR 		EQU	00005h
_MAG_YOUT_H_ADDR 		EQU	00006h
_MAG_ZOUT_L_ADDR 		EQU	00007h
_MAG_ZOUT_H_ADDR 		EQU	00008h
_CNTL1_ADDR      		EQU	0000Ah
_CNTL2_ADDR      		EQU	0000Bh
_XACCEL_FACT_ST  		EQU	0000Dh
_YACCEL_FACT_ST  		EQU	0000Eh
_ZACCEL_FACT_ST  		EQU	0000Fh
_SMPLRT_DIV_ADDR 		EQU	00019h
_GEN_CONFIG_ADDR 		EQU	0001Ah
_GYRO_CONFIG_ADDR		EQU	0001Bh
_ACCEL_CONFIG_ADDR		EQU	0001Ch
_ACCEL_CONFIG_2_ADDR		EQU	0001Dh
_I2C_MSTR_ADDR   		EQU	00024h
_INT_PIN_CFG_ADDR		EQU	00037h
_INT_ENABLE_ADDR 		EQU	00038h
_INT_STATUS_ADDR 		EQU	0003Ah
_ACCEL_XOUT_H_ADDR		EQU	0003Bh
_ACCEL_XOUT_L_ADDR		EQU	0003Ch
_ACCEL_YOUT_H_ADDR		EQU	0003Dh
_ACCEL_YOUT_L_ADDR		EQU	0003Eh
_ACCEL_ZOUT_H_ADDR		EQU	0003Fh
_ACCEL_ZOUT_L_ADDR		EQU	00040h
_TEMP_OUT_H_ADDR 		EQU	00041h
_TEMP_OUT_L_ADDR 		EQU	00042h
_GYRO_XOUT_H_ADDR		EQU	00043h
_GYRO_XOUT_L_ADDR		EQU	00044h
_GYRO_YOUT_H_ADDR		EQU	00045h
_GYRO_YOUT_L_ADDR		EQU	00046h
_GYRO_ZOUT_H_ADDR		EQU	00047h
_GYRO_ZOUT_L_ADDR		EQU	00048h
_USER_CONTROL_ADDR		EQU	0006Ah
_PWR_MGMT_1_ADDR 		EQU	0006Bh
_PWR_MGMT_2_ADDR 		EQU	0006Ch
_XA_OFFS_H_ADDR  		EQU	00077h
_XA_OFFS_L_ADDR  		EQU	00078h
_YA_OFFS_H_ADDR  		EQU	00079h
_YA_OFFS_L_ADDR  		EQU	00080h
_ZA_OFFS_H_ADDR  		EQU	00081h
_ZA_OFFS_L_ADDR  		EQU	00082h
_STATUS_REGISTER_1_ADDR		EQU	00005h
_STATUS_REGISTER_2_ADDR		EQU	00007h
_WRITE_REG       		EQU	00001h
_READ_4B_ADDR_CMD		EQU	00013h
_PP_4B_ADDR_CMD  		EQU	00012h
_BULK_ERASE_CMD  		EQU	00060h
_SECTOR_ERASE_CMD		EQU	000D8h
_WRITE_ENABLE_CMD		EQU	00006h
_INACTIVE_LIMIT  		EQU	01388h

; EEPROM data.


	INCLUDE	"MPU-5X (ADM) HANDSHAKE REV-A.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00036	#HEADER
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00061	#CONFIG
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00365	BANKA   $0000, $005F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00366	BANK0   $0060, $00FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00367	BANK1   $0100, $01FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00368	BANK2   $0200, $02FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00369	BANK3   $0300, $03FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00370	BANK4   $0400, $04FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00371	BANK5   $0500, $05FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00372	BANK6   $0600, $06FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00373	BANK7   $0700, $07FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00374	BANK8   $0800, $08FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00375	BANK9   $0900, $09FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00376	BANK10  $0A00, $0AFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00377	BANK11  $0B00, $0BFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00378	BANK12  $0C00, $0CFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00379	BANK13  $0D00, $0DFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00380	BANK14  $0E00, $0EFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00381	BANK15  $0F00, $0F37
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00387	    INCLUDE "PBPPI18L.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00388	#ELSE
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00389	    LIBRARY  "PBPPIC18"

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00390	    INCLUDE "PBPPIC18.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00391	#ENDIF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00392	DEFINE  ADC_CHANNELS  1
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F26K22.PBPINC	00400	#HEADER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00150	include "MODEDEFS.BAS"
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00014	Symbol T2400  = 0       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00015	Symbol T1200  = 1       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00016	Symbol T9600  = 2       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00017	Symbol T300   = 3       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00019	Symbol N2400  = 4       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00020	Symbol N1200  = 5       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00021	Symbol N9600  = 6       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00022	Symbol N300   = 7       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00024	Symbol OT2400 = 8       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00025	Symbol OT1200 = 9       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00026	Symbol OT9600 = 10      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00027	Symbol OT300  = 11      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00029	Symbol ON2400 = 12      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00030	Symbol ON1200 = 13      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00031	Symbol ON9600 = 14      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00032	Symbol ON300  = 15      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00036	Symbol MSBPRE = 0       ' MSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00037	Symbol LSBPRE = 1       ' LSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00038	Symbol MSBPOST = 2      ' MSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00039	Symbol LSBPOST = 3      ' LSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00042	Symbol LSBFIRST = 0     ' LSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00043	Symbol MSBFIRST = 1     ' MSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00047	Symbol CLS = 0
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00048	Symbol HOME = 1
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00049	Symbol BELL = 7
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00050	Symbol BKSP = 8
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00051	Symbol TAB = 9
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00052	Symbol CR = 13
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00056	Symbol UnitOn = %10010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00057	Symbol UnitOff = %11010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00058	Symbol UnitsOff = %11100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00059	Symbol LightsOn = %10100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00060	Symbol LightsOff = %10000
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00061	Symbol Dim = %11110
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00062	Symbol Bright = %10110
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00151	define OSC 32        
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00163	TMR0_THRESH_1000_100    con     3688           '    2          250nS      (See Note Above About Non-SMPTE Synched Rates)  
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00164	TMR0_THRESH_960_96      con     3859           '    2          250nS      Base = 29.97 @ 30fps  0.00104270937    4171 (4170.83748)
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00165	TMR0_THRESH_500_50      con     7688           '    2          250nS      (See Note Above About Non-SMPTE Synched Rates) 
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00166	TMR0_THRESH_480_48      con     8030           '    2          250nS      Base = 29.97 @ 30fps  0.00208541875    8342 (8341.675)
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00167	TMR0_THRESH_240_24      con     16371          '    2          250nS      Base = 29.97 @ 30fps  0.00417083748   16683 (16683.35)
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00168	TMR0_THRESH_120_120     con     33055          '    2          250nS      Base = 29.97 @ 30fps  0.008341675     33367 (33366.7)
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00169	TMR0_THRESH_60_60       con     33173          '    4          500nS      Base = 29.97 @ 30fps  0.01668334992   33367 (33366.7) NOTE: Origi

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00177	OSCCON = %11101000		'USE CRYSTAL OSCILLATOR AT 8 MHZ
	MOVE?CB	0E8h, OSCCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00178	OSCCON2 = %10000000		'ENABLE 4xPLL
	MOVE?CB	080h, OSCCON2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00179	OSCTUNE = %01000000		'ENABLE 4xPLL FOR INTOSC
	MOVE?CB	040h, OSCTUNE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00180	INTCON = %00000000      'DISABLE ALL INTERRUPTS, ENABLED LATER IN COLLECT_DATA SUBROUTINE
	MOVE?CB	000h, INTCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00181	WPUB = %00000000        'DISABLE PULLUPS ON PORTB
	MOVE?CB	000h, WPUB

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00182	ANSELA = %00000000      'SET ALL A PORTS TO DIGITAL
	MOVE?CB	000h, ANSELA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00183	ANSELB = %00000000      'SET ALL B PORTS TO DIGITAL
	MOVE?CB	000h, ANSELB

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00184	ANSELC = %00000000      'SET ALL C PORTS TO DIGITAL
	MOVE?CB	000h, ANSELC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00185	TRISE = %00000001       'DISABLE PULLUPS ON PORTE
	MOVE?CB	001h, TRISE
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00188	HOME		       CON        1			'CURSOR HOME
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00189	NOCURS             CON        4          'TURNS CURSOR OFF
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00190	CLRLCD		       CON       12			'CLEAR SCREEN, USE FOR 4x40
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00191	LITEON		       CON       14			'TURN ON BACKLIGHT - 4x40 ONLY
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00192	LITEOFF			   CON       15			'TURN OFF BACKLIGHT - 4x40 ONLY
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00193	POSCMD			   CON       16			'POSITION CURSOR
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00200	LINE1              CON       64          'Position of Line #1 Cursor in a 4x20 display   SerOut LCD_RF,N9600,[POSCMD,64]
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00201	LINE2              CON       84          'Position of Line #2 Cursor in a 4x20 display   SerOut LCD_RF,N9600,[POSCMD,64+20]
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00202	LINE3              CON       104         'Position of Line #3 Cursor in a 4x20 display   SerOut LCD_RF,N9600,[POSCMD,64+40]
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00203	LINE4              CON       124         'Position of Line #4 Cursor in a 4x20 display   SerOut LCD_RF,N9600,[POSCMD,64+60]
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00205	DATA_OUT_BYPASS    CON        1          'IF DATA_OUT_BYPASS=1 THEN Bypass All DSP commands; IF DATA_OUT_BYPASS=0 THEN execute all DSP comm
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00208	UART_PERIOD_VAR_115200 	con		2        'DO NOT CHANGE, CRITICAL FOR UART
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00211	FLASH_STATUS_1_DATA   con %00000000              'DEFAULT STATUS 1 SETTINGS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00212	FLASH_CONFIG_DATA     con %00000000              'DEFAULT CONFIG REGISTER SETTINGS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00213	FLASH_STATUS_2_DATA   con %11000000              'SET RECEIVE BUFFER TO 512 BYTES    
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00216	PWR_MGMT_1_DATA         con     %00000001               'USE INTERNAL 20MHZ OSCILLATOR AS CLOCK SOURCE FOR MPU-9250
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00217	PWR_MGMT_2_DATA         con     %00000000               'ENABLE GYRO AND ACCEL IN ALL DIMENSIONS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00218	INT_PIN_CFG_DATA        CON     %00010010               'DISBALE INTERRUPTS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00219	INT_ENABLE_DATA         CON     %00000001               'DISABLE INTERRUPTS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00220	CNTL1_CONFIG_DATA       con     %00010001               '16 BIT RESOLUTION, SINGLE SHOT MODE (TAKES 10MS TO SAMPLE MINIMUM)               
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00221	MPU_RESET_CMD           con     $80                     'SENT TO PWR_MGMT_1_ADDR TO RESET THE MPU-9250
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00224	TEST_PARAM_TIMEOUT      CON   10000                'DURATION (IN MS) BEFORE THE MODULE WILL STOP LOOKING FOR TEST PARAMETER DATA FROM THE P
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00225	START_LISTENER_TIMOUT   CON   1
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00226	CONFIRM_TIMEOUT         CON   50
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00246	NUM_PARAMS              CON     12
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00262	DEF_ACCEL_GYRO_SAMPLE_RATE   CON   240                  'DEFAULTS ACCEL AND GYRO SAMPLE RATE TO 120HZ
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00263	DEF_MAG_SAMPLE_RATE          CON   240                  'DEFAULTS MAG SAMPLE RATE TO 50HZ
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00264	DEF_TEST_DURATION            CON   5                    'DEFAULTS TEST DURATION TO 30 SECONDS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00265	DEF_ACCEL_SENSITIVITY        CON   16                   'DEFAULTS ACCEL SENSITIVITY TO 8G
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00266	DEF_GYRO_SENSITIVITY         CON   2000                 'DEFAULTS GYRO SENSITIVITY TO 100DPS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00267	DEF_ACCEL_FILTER             CON   92                   'DEFAULTS ACCEL FILTER TO 92HZ
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00268	DEF_GYRO_FILTER              CON   92                   'DEFAULTS GYRO FILTER TO 92HZ
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00300	MPU_ADDR_W    con     $D0                                   'WRITE ADDRESS OF THE MPU-9250
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00301	MPU_ADDR_R    con     $D1                                   'READ ADDRESS OF THE MPU-9250
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00302	MAG_ADDR_W    con     $18                                   'WRITE ADDRESS OF THE AK8963 MAG
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00303	MAG_ADDR_R    con     $19                                   'READ ADDRESS OF THE AK8963 MAG
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00305	MAG_XOUT_L_ADDR       con $03                              'SEE MPU-9250 REGISTER MAP FOR MORE INFO:
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00307	MAG_XOUT_H_ADDR       con $04
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00308	MAG_YOUT_L_ADDR       con $05
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00309	MAG_YOUT_H_ADDR       con $06
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00310	MAG_ZOUT_L_ADDR       con $07
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00311	MAG_ZOUT_H_ADDR       con $08
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00312	CNTL1_ADDR            con $0A
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00313	CNTL2_ADDR            con $0B
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00314	XACCEL_FACT_ST        con $0D
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00315	YACCEL_FACT_ST        con $0E
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00316	ZACCEL_FACT_ST        con $0F
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00317	SMPLRT_DIV_ADDR       con $19
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00318	GEN_CONFIG_ADDR       con $1A
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00319	GYRO_CONFIG_ADDR      con $1B
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00320	ACCEL_CONFIG_ADDR     con $1C
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00321	ACCEL_CONFIG_2_ADDR   con $1D
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00322	I2C_MSTR_ADDR         con $24
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00323	INT_PIN_CFG_ADDR      con $37
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00324	INT_ENABLE_ADDR       con $38
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00325	INT_STATUS_ADDR       con $3A
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00326	ACCEL_XOUT_H_ADDR     con $3B
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00327	ACCEL_XOUT_L_ADDR     con $3C
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00328	ACCEL_YOUT_H_ADDR     con $3D
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00329	ACCEL_YOUT_L_ADDR     con $3E
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00330	ACCEL_ZOUT_H_ADDR     con $3F
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00331	ACCEL_ZOUT_L_ADDR     con $40
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00332	TEMP_OUT_H_ADDR       con $41
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00333	TEMP_OUT_L_ADDR       con $42
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00334	GYRO_XOUT_H_ADDR      con $43
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00335	GYRO_XOUT_L_ADDR      con $44
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00336	GYRO_YOUT_H_ADDR      con $45
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00337	GYRO_YOUT_L_ADDR      con $46
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00338	GYRO_ZOUT_H_ADDR      con $47
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00339	GYRO_ZOUT_L_ADDR      con $48
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00340	USER_CONTROL_ADDR     con $6A
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00341	PWR_MGMT_1_ADDR       con $6B
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00342	PWR_MGMT_2_ADDR       con $6C
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00343	XA_OFFS_H_ADDR        con $77
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00344	XA_OFFS_L_ADDR        con $78
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00345	YA_OFFS_H_ADDR        con $79
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00346	YA_OFFS_L_ADDR        con $80
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00347	ZA_OFFS_H_ADDR        con $81
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00348	ZA_OFFS_L_ADDR        con $82
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00378	STATUS_REGISTER_1_ADDR con $05                       'ADDRESS FOR THE S25FL127S'S STATUS REGISTER
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00379	STATUS_REGISTER_2_ADDR con $07                       'ADDRESS FOR THE S25FL127S'S STATUS REGISTER
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00382	WRITE_REG              con $01                       'WRITE FLASH REGISTER COMMAND
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00383	READ_4B_ADDR_CMD       con $13                       'READ COMMAND FOR A 4 BYTE ADDRESS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00384	PP_4B_ADDR_CMD         con $12                       'PAGE PROGRAM COMMAND FOR A 4 BYTE ADDRESS
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00385	BULK_ERASE_CMD         con $60                       'BULK ERASE COMMAND
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00386	SECTOR_ERASE_CMD       con $D8                       'SECTOR ERASE COMMAND
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00387	WRITE_ENABLE_CMD       con $06                       'WRITE ENABLE COMMAND
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00398	INACTIVE_LIMIT          CON     5000                'Number of loops through MAIN required to turn PWR_ON off (LOW); IF set = 5000, delay i

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00427	INIT_FLAG = 0
	MOVE?CT	000h, _INIT_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00428	INT_EN_FLAG = 0  
	MOVE?CT	000h, _INT_EN_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00429	REMOTE_FLAG = 0             
	MOVE?CT	000h, _REMOTE_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00430	disable
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00431	gosub DISABLE_TMR0
	GOSUB?L	_DISABLE_TMR0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00432	INIT:    

	LABEL?L	_INIT	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00435	    input SDO                         'SLAVE DATA OUT (MISO)
	INPUT?T	_SDO

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00436	    input PB                          'Pushbutton S3 (Black PB; Right-Angle mount next to USB)
	INPUT?T	_PB

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00437	    INPUT VBATT_MON                   '(ELC)
	INPUT?T	_VBATT_MON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00438	    INput SCL                         'I2C CLOCK (CONFIGURED AS INPUTS AS REQUIRED BY HARDWARE I2C)
	INPUT?T	_SCL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00439	    INput SDA                         'I2C DATA  (CONFIGURED AS INPUTS AS REQUIRED BY HARDWARE I2C)
	INPUT?T	_SDA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00440	    INPUT UART_RX                     'PIC'S UART rX PIN (CONNECTS TO PC'S tX PIN); must be configured as INPUT when not in use
	INPUT?T	_UART_RX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00441	    INPUT DSP                         'LCD DATA; must be configured as INPUT when not in use
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00442	    INPUT UART_TX                     'PIC'S UART TX PIN (CONNECTS TO PC'S RX PIN); must be configured as INPUT when not in use
	INPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00444	    INPUT INT_9250                    'Interrupt from the 9250; unused at this time (Does this INT require a pull-up R?)
	INPUT?T	_INT_9250

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00446	    INPUT RCVR_D0
	INPUT?T	_RCVR_D0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00447	    INPUT RCVR_D1
	INPUT?T	_RCVR_D1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00448	    INPUT RCVR_VT
	INPUT?T	_RCVR_VT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00449	    INPUT VBATT_MON
	INPUT?T	_VBATT_MON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00452	    output GRN_LED
	OUTPUT?T	_GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00453	    output BLUE_LED
	OUTPUT?T	_BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00454	    output RED_LED
	OUTPUT?T	_RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00455	    output FLASH_CS                  'FLASH CHIP SELECT
	OUTPUT?T	_FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00456	    output SCK                       'SPI CLOCK
	OUTPUT?T	_SCK

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00457	    output SDI                       'SLAVE DATA IN (MOSI)
	OUTPUT?T	_SDI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00458	    OUTPUT ADO                       'MPU ADDRESS SELECT PIN (MUST PULL LOW FOR I2C TO WORK WITH CURRENT SLAVE ADDRESS!!!!!)
	OUTPUT?T	_ADO

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00459	    OUTPUT PWR_ON
	OUTPUT?T	_PWR_ON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00462	    GRN_LED = 0:BLUE_LED = 0:RED_LED = 0  'Ensure LED's are OFF when module powers up
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00462	    GRN_LED = 0:BLUE_LED = 0:RED_LED = 0  'Ensure LED's are OFF when module powers up
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00462	    GRN_LED = 0:BLUE_LED = 0:RED_LED = 0  'Ensure LED's are OFF when module powers up
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00463	    PWR_ON = 0                       'Initially ensure that PWR_ON is LOW
	MOVE?CT	000h, _PWR_ON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00464	    PAUSE 1000                       'When battery powered and PB enables PWR_ON, this delay forces user to press PB for 1 second before po
	PAUSE?C	003E8h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00465	    HIGH PWR_ON                      'Force Q1 into conduction; provides battery power to VREG_IN (see schematic)
	HIGH?T	_PWR_ON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00466	    RED_LED = 1:PAUSE 1000:RED_LED = 0
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00466	    RED_LED = 1:PAUSE 1000:RED_LED = 0
	PAUSE?C	003E8h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00466	    RED_LED = 1:PAUSE 1000:RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00467	    OUTPUT DSP:SerOut DSP,N9600,[CLRLCD]:PAUSE 10                   'This line is the same as GOSUB CLR; it always allows the program name 
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00467	    OUTPUT DSP:SerOut DSP,N9600,[CLRLCD]:PAUSE 10                   'This line is the same as GOSUB CLR; it always allows the program name 
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_CLRLCD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00467	    OUTPUT DSP:SerOut DSP,N9600,[CLRLCD]:PAUSE 10                   'This line is the same as GOSUB CLR; it always allows the program name 
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00468	    serout DSP, N9600, [LITEON,POSCMD,LINE1,"MPU-5x (ADM)"]         'PRINT PROGRAM NAME ON LINE 1
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_LITEON
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	04Dh
	SEROUT?C	050h
	SEROUT?C	055h
	SEROUT?C	02Dh
	SEROUT?C	035h
	SEROUT?C	078h
	SEROUT?C	020h
	SEROUT?C	028h
	SEROUT?C	041h
	SEROUT?C	044h
	SEROUT?C	04Dh
	SEROUT?C	029h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00469	    serout DSP, N9600, [POSCMD,LINE2,"CAL REV-D"]
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE2
	SEROUT?C	043h
	SEROUT?C	041h
	SEROUT?C	04Ch
	SEROUT?C	020h
	SEROUT?C	052h
	SEROUT?C	045h
	SEROUT?C	056h
	SEROUT?C	02Dh
	SEROUT?C	044h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00470	    serout DSP, N9600, [POSCMD,LINE3,"(3 Sec ON)"]
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE3
	SEROUT?C	028h
	SEROUT?C	033h
	SEROUT?C	020h
	SEROUT?C	053h
	SEROUT?C	065h
	SEROUT?C	063h
	SEROUT?C	020h
	SEROUT?C	04Fh
	SEROUT?C	04Eh
	SEROUT?C	029h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00471	    serout DSP, N9600, [POSCMD,LINE4,"5/13/2018"]                   'PRINT DATE OF LAST PROGRAM EDIT ON LINE 2
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE4
	SEROUT?C	035h
	SEROUT?C	02Fh
	SEROUT?C	031h
	SEROUT?C	033h
	SEROUT?C	02Fh
	SEROUT?C	032h
	SEROUT?C	030h
	SEROUT?C	031h
	SEROUT?C	038h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00472	    INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00477	WAKE_UP:

	LABEL?L	_WAKE_UP	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00478	    MAIN_CYCLE_CNTR = 0
	MOVE?CW	000h, _MAIN_CYCLE_CNTR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00479	    PAUSE 250                        'PAUSE 1 second before illumating LED's
	PAUSE?C	0FAh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00480	    GRN_LED = 1:PAUSE 300:GRN_LED=0  'Power-Up GRN_LED
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00480	    GRN_LED = 1:PAUSE 300:GRN_LED=0  'Power-Up GRN_LED
	PAUSE?C	0012Ch

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00480	    GRN_LED = 1:PAUSE 300:GRN_LED=0  'Power-Up GRN_LED
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00481	    PAUSEUS 10                       'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00482	    BLUE_LED = 1:PAUSE 300:BLUE_LED=0'Power-Up BLUE_LED
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00482	    BLUE_LED = 1:PAUSE 300:BLUE_LED=0'Power-Up BLUE_LED
	PAUSE?C	0012Ch

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00482	    BLUE_LED = 1:PAUSE 300:BLUE_LED=0'Power-Up BLUE_LED
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00483	    PAUSEUS 10                       'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00484	    RED_LED = 1:PAUSE 300:RED_LED=0  'Power-Up RED_LED
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00484	    RED_LED = 1:PAUSE 300:RED_LED=0  'Power-Up RED_LED
	PAUSE?C	0012Ch

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00484	    RED_LED = 1:PAUSE 300:RED_LED=0  'Power-Up RED_LED
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00485	    PAUSEUS 10                       'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00486	    GRN_LED = 1                      'Turn ON GRN_LED
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00487	    PAUSEUS 10                       'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00488	    FLASH_CS = 1                     'INITIALIZE FLASH CS HIGH
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00489	    PAUSEUS 1                        'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00490	    SCK = 1                          'INITIALIZE SPI CLOCK HIGH
	MOVE?CT	001h, _SCK

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00491	    PAUSEUS 1                        'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00492	    SDI = 0                          'INITIALIZE SLAVE DATA IN (MOSI) LOW
	MOVE?CT	000h, _SDI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00493	    PAUSEUS 1                        'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00494	    SCL = 1                          'INITIALIZE I2C CLOCK HIGH
	MOVE?CT	001h, _SCL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00495	    PAUSEUS 1                        'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00496	    SDA = 1                          'INITIALIZE I2C CLOCK HIGH
	MOVE?CT	001h, _SDA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00497	    PAUSEUS 1                        'PAUSE TO PREVENT ANOMALIES
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00498	    ADO = 0                          'INITIALIZE MPU-9250 ADDRESS SELECT PIN LOW (MUST PULL LOW FOR I2C TO WORK WITH CURRENT SLAVE ADDRESS!
	MOVE?CT	000h, _ADO

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00500	    gosub INIT_FLASH                                       'INITIALIZE FLASH MEMORY CONFIGURATIONS (1 SECOND PAUSE BUILT IN TO SUBROUTINE T
	GOSUB?L	_INIT_FLASH

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00501	    GOSUB INIT_I2C                                         'INITIALIZE HARDWARE I2C REGISTERS (MSSP2 BUS)
	GOSUB?L	_INIT_I2C

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00502	    GOSUB INIT_SPI                                         'INITIALIZE HARDWARE SPI REGISTERS (MSSP1 BUS)
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00507	    GOSUB INIT_NAVIG_VARS                                  'INITIALIZE PROGRAM ADDRESSING VARIABLES (META_ADDR, WRITE_ADDR, ETC.)
	GOSUB?L	_INIT_NAVIG_VARS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00510	    PAUSE 10                                               'PAUSE FOR LCD READIBILITY
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00511	    GOSUB CLR                                              'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00512	    INIT_FLAG = 1
	MOVE?CT	001h, _INIT_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00513	    gosub INIT_MPU                  'INITIALIZE MPU WITH TEST CONFIGURATION SETTINGS (SENSITIVITY AND FILTERS) 
	GOSUB?L	_INIT_MPU

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00514	MAIN:	

	LABEL?L	_MAIN	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00515	    MAIN_CYCLE_CNTR=MAIN_CYCLE_CNTR+1
	ADD?WCW	_MAIN_CYCLE_CNTR, 001h, _MAIN_CYCLE_CNTR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00516	    GRN_LED = 0                                           'TURN ON THE GREEN LED (STANDBY MODE)  
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00517	    IF DATA_OUT_BYPASS == 1 THEN BYPASS1
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00518	    OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00519	    serout DSP, N9600, [POSCMD,LINE1,"STANDBY"]           'NOTIFY THE USER THAT THE MODULE IS IN STANDBY MODE
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	053h
	SEROUT?C	054h
	SEROUT?C	041h
	SEROUT?C	04Eh
	SEROUT?C	044h
	SEROUT?C	042h
	SEROUT?C	059h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00520	    INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00521	BYPASS1:

	LABEL?L	_BYPASS1	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00522	    IF RCVR_D0 == 1 THEN
	CMPNE?TCL	_RCVR_D0, 001h, L00005

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00523	        GOSUB PROCESS_RCVR_D0
	GOSUB?L	_PROCESS_RCVR_D0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00524	        REMOTE_FLAG = 1
	MOVE?CT	001h, _REMOTE_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00525		    gosub COLLECT_DATA                            'COLLECT DATA FROM THE MPU AND STORE IT IN THE FLASH
	GOSUB?L	_COLLECT_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00526		    GOTO WAKE_UP
	GOTO?L	_WAKE_UP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00527	    endif
	LABEL?L	L00005	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00529	    input UART_RX
	INPUT?T	_UART_RX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00530	    OUTPUT UART_TX
	OUTPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00532	    serin2 UART_RX, 6, [WAIT("11111"), STR RAW_RX_DATA\1]          '01234E = E 
	SERIN2DPIN?T	_UART_RX
	SERIN2MODE?C	006h

	LABEL?L	L00001	
	SERIN2WAIT?CL	031h, L00001
	SERIN2WAIT?CL	031h, L00001
	SERIN2WAIT?CL	031h, L00001
	SERIN2WAIT?CL	031h, L00001
	SERIN2WAIT?CL	031h, L00001
	SERIN2COUNT?C	001h
	SERIN2STR?B	_RAW_RX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00534	    IF RAW_RX_DATA[0] = "E" THEN        'EXPORT DATA
	CMPNE?BCL	_RAW_RX_DATA, 045h, L00007

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00535	        GRN_LED = 0
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00536	        RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00537	        BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00538	        SEROUT2 UART_TX, 6, [RAW_RX_DATA[0]]
	SEROUT2DPIN?T	_UART_TX
	SEROUT2MODE?C	006h
	SEROUT2PACE?C	000h
	SEROUT2?B	_RAW_RX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00539	        GOSUB SEND_DATA_TO_PC           'BEGIN TEST DATA TRANSFER TO PC
	GOSUB?L	_SEND_DATA_TO_PC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00540	        BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00541	        GOTO WAKE_UP                    'GO BACK TO PB AND SERIAL LISTERNER LOOP
	GOTO?L	_WAKE_UP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00542	    ELSEIF RAW_RX_DATA[0] = "S" THEN    'SAVE TEST NEW TEST PARAMETERS    
	GOTO?L	L00008
	LABEL?L	L00007	
	CMPNE?BCL	_RAW_RX_DATA, 053h, L00009

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00543	        RED_LED = 0                               
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00544	        GRN_LED = 1                               
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00545	        BLUE_LED = 1                              
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00546	        SEROUT2 UART_TX, 6, [RAW_RX_DATA[0]]
	SEROUT2DPIN?T	_UART_TX
	SEROUT2MODE?C	006h
	SEROUT2PACE?C	000h
	SEROUT2?B	_RAW_RX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00547	        GOSUB SAVE_TEST_PARAMS                    
	GOSUB?L	_SAVE_TEST_PARAMS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00548	        GOTO INIT                               
	GOTO?L	_INIT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00549	    else                                'UNKNOWN COMMAND
	GOTO?L	L00008
	LABEL?L	L00009	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00550	        SEROUT2 UART_TX, 6, ["?"] 
	SEROUT2DPIN?T	_UART_TX
	SEROUT2MODE?C	006h
	SEROUT2PACE?C	000h
	SEROUT2?C	03Fh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00551	        GOSUB COMM_ERROR_BLINK      
	GOSUB?L	_COMM_ERROR_BLINK

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00552	    ENDIF
	LABEL?L	L00008	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00554	START_LISTENER_TIMEOUT_LABEL:

	LABEL?L	_START_LISTENER_TIMEOUT_LABEL	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00556	    IF PB == 1 OR RCVR_D1 = 1 then                        'EXECUTES IF THE PUSH BUTTON IS PRESSED
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00011

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00557	        GRN_LED = 0                                       'TURN OFF THE GREEN LED TO NOTIFY THE USER THAT THE PUSH BUTTON PRESS WAS ACKNOWL
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00558	        IF DATA_OUT_BYPASS == 1 THEN BYPASS2
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00559	        OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00560	        serout DSP, N9600, [POSCMD,LINE1,"RUN TEST?"]     'NOTIFY THE USER - RELEASING THE PB WILL START THE TEST
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	052h
	SEROUT?C	055h
	SEROUT?C	04Eh
	SEROUT?C	020h
	SEROUT?C	054h
	SEROUT?C	045h
	SEROUT?C	053h
	SEROUT?C	054h
	SEROUT?C	03Fh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00561	        INPUT DSP        
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00562	BYPASS2:

	LABEL?L	_BYPASS2	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00563	        pause 2000                                        'WAIT 2 SECONDS
	PAUSE?C	007D0h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00564	        if PB == 1 OR RCVR_D1 = 1 then                                   'EXECUTES IF THE PUSH BUTTON IS STILL BEING HELD AFTER 2 SECONDS 
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00013

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00565	            BLUE_LED = 1                                  'TURN ON THE BLUE LED NOTIFYING THE USER THAT THE MENU IS CURRENTLY POINTING TOWA
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00566	            IF DATA_OUT_BYPASS == 1 THEN BYPASS3
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00567	            OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00568	            serout DSP, N9600, [POSCMD,LINE1,"SEND DATA TO PC?"] 'NOTIFY THE USER - RELEASING THE PB WILL SEND DATA TO THE PC
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	053h
	SEROUT?C	045h
	SEROUT?C	04Eh
	SEROUT?C	044h
	SEROUT?C	020h
	SEROUT?C	044h
	SEROUT?C	041h
	SEROUT?C	054h
	SEROUT?C	041h
	SEROUT?C	020h
	SEROUT?C	054h
	SEROUT?C	04Fh
	SEROUT?C	020h
	SEROUT?C	050h
	SEROUT?C	043h
	SEROUT?C	03Fh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00569	            INPUT DSP        
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00570	BYPASS3:

	LABEL?L	_BYPASS3	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00571	            pause 2000                                    'WAIT 2 SECONDS
	PAUSE?C	007D0h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00572	            if PB == 1 OR RCVR_D1 = 1 then                               'EXECUTES IF THE PUSH BUTTON IS STILL BEING HELD AFTER AN ADDITION
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00015

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00573	                PAUSEUS 1                                    'PAUSE TO ENSURE THE RED_LED TURNS ON
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00574	                RED_LED = 1                                  'TURN ON THE BLUE LED NOTIFYING THE USER THAT THE MENU IS CURRENTLY POINTING T
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00575	                PAUSEUS 1                                    'PAUSE TO ENSURE THE BLUE TURNS OFF
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00576	                BLUE_LED = 0                                 'TURN THE BLUE LED OFF
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00577	                IF DATA_OUT_BYPASS == 1 THEN BYPASS4
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00578	                OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00579	                serout DSP, N9600, [POSCMD,LINE1,"ERASE?             "] 'NOTIFY THE USER - RELEASING THE PB WILL BULK ERASE EEPROM
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	045h
	SEROUT?C	052h
	SEROUT?C	041h
	SEROUT?C	053h
	SEROUT?C	045h
	SEROUT?C	03Fh
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00580	                INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00581	BYPASS4:

	LABEL?L	_BYPASS4	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00582	                pause 2000                                    'WAIT 2 SECONDS
	PAUSE?C	007D0h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00583	                if PB == 1 OR RCVR_D1 = 1 then                               'EXECUTES IF THE PUSH BUTTON IS STILL BEING HELD AFTER AN ADDI
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00017

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00584	                    RED_LED = 0                               'TURN THE RED LED OFF 
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00585	                    GRN_LED = 1                               'TURN THE GREEN LED ON 
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00586	                    BLUE_LED = 1                              'TURN THE BLUE LED ON 
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00587	                    GOSUB SAVE_TEST_PARAMS                    'START LISTENING FOR TEST PARAMETERS FROM THE PC (UART) AND SAVE THEM IN THE 
	GOSUB?L	_SAVE_TEST_PARAMS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00588	                    GOTO INIT                                 'REINITIALIZE THE MODULE
	GOTO?L	_INIT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00589	                ELSE                                          'EXECUTES IF THE BUTTON WAS RELEASED WHILE THE RED LED WAS ILLUMINATED
	GOTO?L	L00018
	LABEL?L	L00017	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00590	                    RED_LED = 1                               'TURN ON THE RED LED AND GREEN LEDS TO NOTIFY THE USER THAT THE MODULE IS EXE
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00591	                    GRN_LED = 1                               '^^^
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00592	                    BLUE_LED = 0                              'TURN OFF THE BLUE LED
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00593	                    IF DATA_OUT_BYPASS == 0 THEN
	CMPNE?CCL	_DATA_OUT_BYPASS, 000h, L00019

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00594	                        GOSUB CLR                                 'CLEAR THE DISPLAY
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00595	                        OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00596	                        serout DSP, N9600, [POSCMD,LINE1,"SECTOR ERASE?         "]  'PRINT TO THE LCD TO NOTIFY THE USER THAT THE MODULE IS
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	053h
	SEROUT?C	045h
	SEROUT?C	043h
	SEROUT?C	054h
	SEROUT?C	04Fh
	SEROUT?C	052h
	SEROUT?C	020h
	SEROUT?C	045h
	SEROUT?C	052h
	SEROUT?C	041h
	SEROUT?C	053h
	SEROUT?C	045h
	SEROUT?C	03Fh
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00597	                        INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00598	                        ENDIF 
	LABEL?L	L00019	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00599	                    while PB == 1 OR RCVR_D1 = 1 
	LABEL?L	L00021	
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00022

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00600	                    wend
	GOTO?L	L00021
	LABEL?L	L00022	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00601	                    GRN_LED = 0
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00602	                    for I = 0 to 12                           'TOTAL DELAY LENGTH OF 3 SECONDS
	MOVE?CW	000h, _I
	LABEL?L	L00023	
	CMPGT?WCL	_I, 00Ch, L00024

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00603	                        IF PB == 1 OR RCVR_D1 = 1 THEN                       'IF THE PB IS PRESSED, BULK ERASE AND NAVIGATE TO THE END OF T
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00025

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00604	                            IF DATA_OUT_BYPASS == 0 THEN
	CMPNE?CCL	_DATA_OUT_BYPASS, 000h, L00027

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00605	                                GOSUB CLR                                 'CLEAR THE DISPLAY
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00606	                                OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00607	                                serout DSP, N9600, [POSCMD,LINE1,"BULK ERASING?       "]  'PRINT TO THE LCD TO NOTIFY THE USER THAT THE MOD
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	042h
	SEROUT?C	055h
	SEROUT?C	04Ch
	SEROUT?C	04Bh
	SEROUT?C	020h
	SEROUT?C	045h
	SEROUT?C	052h
	SEROUT?C	041h
	SEROUT?C	053h
	SEROUT?C	049h
	SEROUT?C	04Eh
	SEROUT?C	047h
	SEROUT?C	03Fh
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00608	                                INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00609	                                ENDIF 
	LABEL?L	L00027	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00610	                            GRN_LED = 1
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00611	                            RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00616	                            GOSUB BULK_ERASE
	GOSUB?L	_BULK_ERASE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00617	                            GOTO BYPASS5
	GOTO?L	_BYPASS5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00618	                        ENDIF
	LABEL?L	L00025	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00619	                        RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00620	                        PAUSE 125
	PAUSE?C	07Dh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00621	                        RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00622	                        BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00623	                        PAUSE 125
	PAUSE?C	07Dh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00624	                        BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00625	                        NEXT I
	NEXT?WCL	_I, 001h, L00023
	LABEL?L	L00024	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00628	                    GRN_LED = 1
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00629	                    RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00634	                    gosub SECTOR_ERASE                        'SECTOR ERASE THE FLASH
	GOSUB?L	_SECTOR_ERASE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00635	BYPASS5:

	LABEL?L	_BYPASS5	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00636	                    RED_LED = 0                               'TURN OFF THE RED LED
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00637	                    goto WAKE_UP                              'REINITIALIZE MODULE
	GOTO?L	_WAKE_UP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00638	                ENDIF
	LABEL?L	L00018	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00639	            else                                          'EXECUTES IF THE BUTTON WAS RELEASED WHILE THE BLUE LED WAS ILLUMINATED
	GOTO?L	L00016
	LABEL?L	L00015	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00640	                GRN_LED = 0                               'TURN OFF THE GREEN (STANDBY) LED
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00641	                BLUE_LED = 1                              'TURN ON THE BLUE LED TO NOTIFY THE USER THAT A DATA TRANSFER IS OCCURING
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00642	                IF DATA_OUT_BYPASS == 1 THEN BYPASS6
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS6

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00643	                GOSUB CLR                                 'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00644	                OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00645	                serout DSP, N9600, [POSCMD,LINE1,"SENDING DATA TO PC  "] 'PRINT TO THE LCD TO NOTIFY THE USER THAT THE MODULE IS EXECUTING 
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	053h
	SEROUT?C	045h
	SEROUT?C	04Eh
	SEROUT?C	044h
	SEROUT?C	049h
	SEROUT?C	04Eh
	SEROUT?C	047h
	SEROUT?C	020h
	SEROUT?C	044h
	SEROUT?C	041h
	SEROUT?C	054h
	SEROUT?C	041h
	SEROUT?C	020h
	SEROUT?C	054h
	SEROUT?C	04Fh
	SEROUT?C	020h
	SEROUT?C	050h
	SEROUT?C	043h
	SEROUT?C	020h
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00646	                INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00647	BYPASS6:

	LABEL?L	_BYPASS6	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00648	                gosub SEND_DATA_TO_PC                     'TRANSFER DATA VIA UART TO PC
	GOSUB?L	_SEND_DATA_TO_PC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00649	                GOSUB CLR                                 'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00650	                BLUE_LED = 0                              'TURN OFF THE BLUE LED TO NOTIFY THE USER THAT THE DATA TRANSFER IS COMPLETE
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00651	                GOTO WAKE_UP                              'REINITIALIZE MODULE
	GOTO?L	_WAKE_UP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00652	            endif
	LABEL?L	L00016	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00653	        else                                              'EXECUTES IF THE BUTTON WAS RELEASED WHILE THE NONE OF THE LEDS WERE ON
	GOTO?L	L00014
	LABEL?L	L00013	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00654	            IF DATA_OUT_BYPASS == 1 THEN BYPASS7
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS7

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00655	                GOSUB CLR                                     'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00656	                OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00657	                serout DSP, N9600, [POSCMD,LINE1,"RUNNING TEST        "]  'PRINT TO THE LCD TO NOTIFY THE USER THAT THE MODULE IS COLLECTIN
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	052h
	SEROUT?C	055h
	SEROUT?C	04Eh
	SEROUT?C	04Eh
	SEROUT?C	049h
	SEROUT?C	04Eh
	SEROUT?C	047h
	SEROUT?C	020h
	SEROUT?C	054h
	SEROUT?C	045h
	SEROUT?C	053h
	SEROUT?C	054h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00658	                INPUT DSP      
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00659	BYPASS7:

	LABEL?L	_BYPASS7	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00660	                gosub COLLECT_DATA                            'COLLECT DATA FROM THE MPU AND STORE IT IN THE FLASH
	GOSUB?L	_COLLECT_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00661	                GOSUB CLR                                     'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00662	                GOSUB CLR                                     'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00663	                GOTO WAKE_UP
	GOTO?L	_WAKE_UP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00664	            endif
	LABEL?L	L00014	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00665	        endif                                                 'LOOP
	LABEL?L	L00011	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00666	    NAP 0
	NAP?C	000h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00667	    IF MAIN_CYCLE_CNTR=INACTIVE_LIMIT THEN LOW PWR_ON
	CMPNE?WCL	_MAIN_CYCLE_CNTR, _INACTIVE_LIMIT, L00029
	LOW?T	_PWR_ON
	LABEL?L	L00029	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00668	    goto MAIN
	GOTO?L	_MAIN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00672	INIT_I2C:                  'SETS NECESSARY REGISTERS FOR HARDWARE I2C

	LABEL?L	_INIT_I2C	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00673	    INPUT SDA              'SDA MUST ME A DIGITAL INPUT FOR HARDWARE I2C TO WORK
	INPUT?T	_SDA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00674	    INPUT SCL              'SCL MUST ME A DIGITAL INPUT FOR HARDWARE I2C TO WORK
	INPUT?T	_SCL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00675	    SSP2STAT = %00010000   'HIGH SPEED SLEW RATE, CLEAR FLAGS
	MOVE?CB	010h, SSP2STAT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00676	    SSP2CON1 = %00101000   'ENABLE MSSP MODULE, CONFIGURE AS I2C MASTER
	MOVE?CB	028h, SSP2CON1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00677	    SSP2CON2 = %00000000   'CLEAR FLAGS
	MOVE?CB	000h, SSP2CON2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00678	    SSP2CON3 = %00000000   'CLEAR FLAGS
	MOVE?CB	000h, SSP2CON3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00679	    SSP2ADD = %00010001    'SET SCL FREQUENCY TO 400KHZ 
	MOVE?CB	011h, SSP2ADD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00680	    GOSUB I2C_START        'ISSUE START COMMAND (ANOMALY)
	GOSUB?L	_I2C_START

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00681	    gosub I2C_STOP         'ISSUE STOP COMMAND  (ANOMALY)
	GOSUB?L	_I2C_STOP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00682	RETURN                     
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00683	I2C_START:                 'ISSUES START COMMAND ON I2C BUS

	LABEL?L	_I2C_START	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00684	    SSP2CON2.0 = 1         'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00685	    while SSP2CON2.0 == 1  'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00031	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00032

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00686	    wend 
	GOTO?L	L00031
	LABEL?L	L00032	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00687	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00688	I2C_STOP:                 'ISSUES STOP COMMAND ON I2C BUS

	LABEL?L	_I2C_STOP	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00689	    SSP2CON2.2 = 1        'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00690	    while SSP2CON2.2 == 1 'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00033	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00034

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00691	    wend 
	GOTO?L	L00033
	LABEL?L	L00034	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00692	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00694	I2C_WRITE_1B:                    'SUBROUTINE THAT WILL WRITE 1 BYTE OF DATA TO A PASSED IN SLAVE ADDRESS AND REGISTER ADDRESS

	LABEL?L	_I2C_WRITE_1B	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00695	    GOSUB I2C_START              'ISSUE START COMMAND ON I2C BUS
	GOSUB?L	_I2C_START

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00696	    SSP2BUF = I2C_SLAVE_W_ADDR   'SEND THE PASSED IN I2C SLAVE WRITE ADDRESS ON THE I2C BUS
	MOVE?BB	_I2C_SLAVE_W_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00697	    while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00035	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00036

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00698	    WEND
	GOTO?L	L00035
	LABEL?L	L00036	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00699	    PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00700	    SSP2BUF = I2C_REG_ADDR       'SEND THE PASSED IN REGISTER ADDRESS ON THE I2C BUS
	MOVE?BB	_I2C_REG_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00701	    while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00037	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00038

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00702	    WEND
	GOTO?L	L00037
	LABEL?L	L00038	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00703	    PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00704	    SSP2BUF = I2C_DATA           'SEND THE PASSED IN DATA ON THE I2C BUS
	MOVE?BB	_I2C_DATA, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00705	    PAUSEUS 1                    'PAUSE TO ENSURE DATA TRANSMISSION FLAG IS SET (ANOMALY)
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00706	    while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00039	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00040

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00707	    WEND                         
	GOTO?L	L00039
	LABEL?L	L00040	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00708	    PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00709	    GOSUB I2C_STOP               'ISSUE STOP COMMAND ON I2C BUS
	GOSUB?L	_I2C_STOP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00710	RETURN  
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00712	INIT_MPU:                                     'INITIALIZES PROGRAM VARIABLES AND MPU REGISTERS

	LABEL?L	_INIT_MPU	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00713	    GOSUB SET_ACCEL_SENS_VAR                  'INITIALIZE VARIABLE FOR THE ACCELEROMETER SENSITIVITY BASED ON CONSTANTS AT THE TOP
	GOSUB?L	_SET_ACCEL_SENS_VAR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00714	    GOSUB SET_GYRO_SENS_VAR                   'INITIALIZE VARIABLE FOR THE GYROSCOPE SENSITIVITY BASED ON CONSTANTS AT THE TOP
	GOSUB?L	_SET_GYRO_SENS_VAR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00715	    GOSUB SET_ACCEL_FILTER_VAR                'INITIALIZE VARIABLE FOR THE ACCELEROMETER FILTER BASED ON CONSTANTS AT THE TOP
	GOSUB?L	_SET_ACCEL_FILTER_VAR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00716	    GOSUB SET_GYRO_FILTER_VAR                 'INITIALIZE VARIABLE FOR THE GYROSCOPE FILTER BASED ON CONSTANTS AT THE TOP
	GOSUB?L	_SET_GYRO_FILTER_VAR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00721	    I2C_SLAVE_W_ADDR = MPU_ADdr_W            'SET THE GLOBAL VARIABLE SO THE MPU WILL BE WRITTEN TO
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00722	    I2C_REG_ADDR = Pwr_mgmt_1_ADDR           'SET THE GLOBAL VARIABLE SO THE PWR_MGMT_1 REGISTER WILL BE WRITTEN TO
	MOVE?CB	_PWR_MGMT_1_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00723	    I2C_DATA = MPU_RESET_CMD                 'SET THE GLOBAL VARIABLE TO SEND THE RESET COMMAND
	MOVE?CB	_MPU_RESET_CMD, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00724	    GOSUB I2C_WRITE_1B                       'SEND THE I2C_SLAVE_W_ADDR, I2C_REG_ADDR, AND THE I2C_DATA ON THE I2C BUS
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00725	    pause 100                                'PAUSE TO ALLOW FOR PROPER RESET
	PAUSE?C	064h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00727	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00728	    I2C_REG_ADDR = Pwr_mgmt_1_ADDR
	MOVE?CB	_PWR_MGMT_1_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00729	    I2C_DATA = PWR_MGMT_1_DATA
	MOVE?CB	_PWR_MGMT_1_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00730	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00732	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00733	    I2C_REG_ADDR = Pwr_mgmt_2_ADDR
	MOVE?CB	_PWR_MGMT_2_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00734	    I2C_DATA = PWR_MGMT_2_DATA
	MOVE?CB	_PWR_MGMT_2_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00735	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00737	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00738	    I2C_REG_ADDR = GEN_CONFIG_ADDR
	MOVE?CB	_GEN_CONFIG_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00739	    I2C_DATA = GEN_CONFIG_DATA
	MOVE?BB	_GEN_CONFIG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00740	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00742	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00743	    I2C_REG_ADDR = gyro_config_addr
	MOVE?CB	_GYRO_CONFIG_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00744	    I2C_DATA = GYRO_CONFIG_DATA
	MOVE?BB	_GYRO_CONFIG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00745	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00747	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00748	    I2C_REG_ADDR = ACCEL_CONFIG_ADDR 
	MOVE?CB	_ACCEL_CONFIG_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00749	    I2C_DATA = ACCEL_CONFIG_DATA
	MOVE?BB	_ACCEL_CONFIG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00750	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00752	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00753	    I2C_REG_ADDR = accel_config_2_addr
	MOVE?CB	_ACCEL_CONFIG_2_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00754	    I2C_DATA = ACCEL_CONFIG_2_DATA
	MOVE?BB	_ACCEL_CONFIG_2_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00755	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00757	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00758	    I2C_REG_ADDR = INT_PIN_CFG_ADDR
	MOVE?CB	_INT_PIN_CFG_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00759	    I2C_DATA = INT_PIN_CFG_DATA
	MOVE?CB	_INT_PIN_CFG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00760	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00762	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00763	    I2C_REG_ADDR = INT_ENABLE_ADDR
	MOVE?CB	_INT_ENABLE_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00764	    I2C_DATA = INT_ENABLE_DATA
	MOVE?CB	_INT_ENABLE_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00765	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00766	    PAUSE 10
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00768	    I2C_SLAVE_W_ADDR = MPU_ADdr_W
	MOVE?CB	_MPU_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00769	    I2C_REG_ADDR = CNTL1_ADDR
	MOVE?CB	_CNTL1_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00770	    I2C_DATA = CNTL1_CONFIG_DATA
	MOVE?CB	_CNTL1_CONFIG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00771	    GOSUB I2C_WRITE_1B
	GOSUB?L	_I2C_WRITE_1B

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00772	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00775	SET_ACCEL_SENS_VAR:                                               'SET CONFIGURATION BITS TO MATCH THE ACCEL_SENSITIVITY CONSTANT

	LABEL?L	_SET_ACCEL_SENS_VAR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00776	    SELECT CASE ACCEL_SENSITIVITY                                 'SELECT THE CASE BASED ON THE VALUE OF ACCEL_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00777	        CASE 2                                                    '2G
	CMPNE?WCL	_ACCEL_SENSITIVITY, 002h, L00043

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00778	             ACCEL_CONFIG_DATA.4 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00779	             ACCEL_CONFIG_DATA.3 = 0    
	MOVE?CT	000h, _ACCEL_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00780	        CASE 4                                                    '4G
	GOTO?L	L00042
	LABEL?L	L00043	
	CMPNE?WCL	_ACCEL_SENSITIVITY, 004h, L00044

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00781	             ACCEL_CONFIG_DATA.4 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00782	             ACCEL_CONFIG_DATA.3 = 1    
	MOVE?CT	001h, _ACCEL_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00783	        CASE 8                                                    '8G
	GOTO?L	L00042
	LABEL?L	L00044	
	CMPNE?WCL	_ACCEL_SENSITIVITY, 008h, L00045

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00784	             ACCEL_CONFIG_DATA.4 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00785	             ACCEL_CONFIG_DATA.3 = 0    
	MOVE?CT	000h, _ACCEL_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00786	        CASE 16                                                   '16G
	GOTO?L	L00042
	LABEL?L	L00045	
	CMPNE?WCL	_ACCEL_SENSITIVITY, 010h, L00046

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00787	             ACCEL_CONFIG_DATA.4 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00788	             ACCEL_CONFIG_DATA.3 = 1    
	MOVE?CT	001h, _ACCEL_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00789	        CASE ELSE                                                'EXECUTES IF THE USER DID NOT INPUT A VALID NUMBER (8G)
	GOTO?L	L00042
	LABEL?L	L00046	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00790	             ACCEL_CONFIG_DATA.4 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00791	             ACCEL_CONFIG_DATA.3 = 0  
	MOVE?CT	000h, _ACCEL_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00792	    END SELECT
	LABEL?L	L00042	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00793	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00794	SET_GYRO_SENS_VAR:                                               'SET CONFIGURATION BITS TO MATCH THE GYRO_SENSITIVITY CONSTANT

	LABEL?L	_SET_GYRO_SENS_VAR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00795	    SELECT CASE GYRO_SENSITIVITY                                 'SELECT THE CASE BASED ON THE VALUE OF GYRO_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00796	        CASE 250                                                 '250DPS
	CMPNE?WCL	_GYRO_SENSITIVITY, 0FAh, L00049

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00797	             GYRO_CONFIG_DATA.4 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00798	             GYRO_CONFIG_DATA.3 = 0    
	MOVE?CT	000h, _GYRO_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00799	        CASE 500                                                 '500DPS
	GOTO?L	L00048
	LABEL?L	L00049	
	CMPNE?WCL	_GYRO_SENSITIVITY, 001F4h, L00050

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00800	             GYRO_CONFIG_DATA.4 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00801	             GYRO_CONFIG_DATA.3 = 1    
	MOVE?CT	001h, _GYRO_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00802	        CASE 1000                                                '1000DPS
	GOTO?L	L00048
	LABEL?L	L00050	
	CMPNE?WCL	_GYRO_SENSITIVITY, 003E8h, L00051

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00803	             GYRO_CONFIG_DATA.4 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00804	             GYRO_CONFIG_DATA.3 = 0    
	MOVE?CT	000h, _GYRO_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00805	        CASE 2000                                                '2000DPS
	GOTO?L	L00048
	LABEL?L	L00051	
	CMPNE?WCL	_GYRO_SENSITIVITY, 007D0h, L00052

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00806	             GYRO_CONFIG_DATA.4 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00807	             GYRO_CONFIG_DATA.3 = 1    
	MOVE?CT	001h, _GYRO_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00808	        CASE ELSE                                                'EXECUTES IF THE USER DID NOT INPUT A VALID NUMBER (500DPS)
	GOTO?L	L00048
	LABEL?L	L00052	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00809	             GYRO_CONFIG_DATA.4 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00810	             GYRO_CONFIG_DATA.3 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00811	    END SELECT
	LABEL?L	L00048	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00812	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00813	SET_ACCEL_FILTER_VAR:                                           'SET CONFIGURATION BITS TO MATCH THE ACCEL_FILTER CONSTANT

	LABEL?L	_SET_ACCEL_FILTER_VAR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00814	    SELECT CASE ACCEL_FILTER                                    'SELECT THE CASE BASED ON THE VALUE OF ACCEL_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00815	        CASE 5                                                  '5 HZ
	CMPNE?WCL	_ACCEL_FILTER, 005h, L00055

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00816	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00817	             ACCEL_CONFIG_2_DATA.2 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00818	             ACCEL_CONFIG_2_DATA.1 = 1 
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00819	             ACCEL_CONFIG_2_DATA.0 = 0     
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00820	        CASE 10                                                 '10 HZ
	GOTO?L	L00054
	LABEL?L	L00055	
	CMPNE?WCL	_ACCEL_FILTER, 00Ah, L00056

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00821	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00822	             ACCEL_CONFIG_2_DATA.2 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00823	             ACCEL_CONFIG_2_DATA.1 = 0 
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00824	             ACCEL_CONFIG_2_DATA.0 = 1  
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00825	        CASE 20                                                 '20 HZ
	GOTO?L	L00054
	LABEL?L	L00056	
	CMPNE?WCL	_ACCEL_FILTER, 014h, L00057

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00826	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00827	             ACCEL_CONFIG_2_DATA.2 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00828	             ACCEL_CONFIG_2_DATA.1 = 0 
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00829	             ACCEL_CONFIG_2_DATA.0 = 0  
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00830	        CASE 41                                                 '41 HZ
	GOTO?L	L00054
	LABEL?L	L00057	
	CMPNE?WCL	_ACCEL_FILTER, 029h, L00058

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00831	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00832	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00833	             ACCEL_CONFIG_2_DATA.1 = 1 
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00834	             ACCEL_CONFIG_2_DATA.0 = 1            
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00835	        CASE 92                                                 '92 HZ
	GOTO?L	L00054
	LABEL?L	L00058	
	CMPNE?WCL	_ACCEL_FILTER, 05Ch, L00059

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00836	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00837	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00838	             ACCEL_CONFIG_2_DATA.1 = 1 
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00839	             ACCEL_CONFIG_2_DATA.0 = 0  
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00840	        CASE 184                                                '184 HZ
	GOTO?L	L00054
	LABEL?L	L00059	
	CMPNE?WCL	_ACCEL_FILTER, 0B8h, L00060

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00841	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00842	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00843	             ACCEL_CONFIG_2_DATA.1 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00844	             ACCEL_CONFIG_2_DATA.0 = 1  
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00845	        CASE 460                                                '460 HZ
	GOTO?L	L00054
	LABEL?L	L00060	
	CMPNE?WCL	_ACCEL_FILTER, 001CCh, L00061

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00846	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00847	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00848	             ACCEL_CONFIG_2_DATA.1 = 0 
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00849	             ACCEL_CONFIG_2_DATA.0 = 0  
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00850	        CASE 1130                                              '1130 HZ
	GOTO?L	L00054
	LABEL?L	L00061	
	CMPNE?WCL	_ACCEL_FILTER, 0046Ah, L00062

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00851	             ACCEL_CONFIG_2_DATA.3 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00852	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00853	             ACCEL_CONFIG_2_DATA.1 = 0 
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00854	             ACCEL_CONFIG_2_DATA.0 = 0  
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00855	        CASE ELSE                                                   'EXECUTES IF THE USER DID NOT INPUT A VALID NUMBER (92HZ)
	GOTO?L	L00054
	LABEL?L	L00062	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00856	             ACCEL_CONFIG_2_DATA.3 = 1
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00857	             ACCEL_CONFIG_2_DATA.2 = 0
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00858	             ACCEL_CONFIG_2_DATA.1 = 1 
	MOVE?CT	001h, _ACCEL_CONFIG_2_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00859	             ACCEL_CONFIG_2_DATA.0 = 0   
	MOVE?CT	000h, _ACCEL_CONFIG_2_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00860	    END SELECT
	LABEL?L	L00054	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00861	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00862	SET_GYRO_FILTER_VAR:                                                'SET CONFIGURATION BITS TO MATCH THE GYRO_FILTER CONSTANT

	LABEL?L	_SET_GYRO_FILTER_VAR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00863	    SELECT CASE GYRO_FILTER                                         'SELECT THE CASE BASED ON THE VALUE OF GYRO_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00864	        CASE 5                                                      '5 HZ
	CMPNE?WCL	_GYRO_FILTER, 005h, L00065

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00865	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00866	             GYRO_CONFIG_DATA.0 = 1 
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00867	             GEN_CONFIG_DATA.2 = 1
	MOVE?CT	001h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00868	             GEN_CONFIG_DATA.1 = 1 
	MOVE?CT	001h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00869	             GEN_CONFIG_DATA.0 = 0                                  '10 HZ
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00870	        CASE 10
	GOTO?L	L00064
	LABEL?L	L00065	
	CMPNE?WCL	_GYRO_FILTER, 00Ah, L00066

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00871	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00872	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00873	             GEN_CONFIG_DATA.2 = 1
	MOVE?CT	001h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00874	             GEN_CONFIG_DATA.1 = 0 
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00875	             GEN_CONFIG_DATA.0 = 1  
	MOVE?CT	001h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00876	        CASE 20                                                     '20 HZ
	GOTO?L	L00064
	LABEL?L	L00066	
	CMPNE?WCL	_GYRO_FILTER, 014h, L00067

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00877	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00878	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00879	             GEN_CONFIG_DATA.2 = 1
	MOVE?CT	001h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00880	             GEN_CONFIG_DATA.1 = 0 
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00881	             GEN_CONFIG_DATA.0 = 0  
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00882	        CASE 41                                                     '41 HZ
	GOTO?L	L00064
	LABEL?L	L00067	
	CMPNE?WCL	_GYRO_FILTER, 029h, L00068

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00883	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00884	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00885	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00886	             GEN_CONFIG_DATA.1 = 1 
	MOVE?CT	001h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00887	             GEN_CONFIG_DATA.0 = 1            
	MOVE?CT	001h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00888	        CASE 92                                                     '92 HZ
	GOTO?L	L00064
	LABEL?L	L00068	
	CMPNE?WCL	_GYRO_FILTER, 05Ch, L00069

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00889	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00890	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00891	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00892	             GEN_CONFIG_DATA.1 = 1 
	MOVE?CT	001h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00893	             GEN_CONFIG_DATA.0 = 0  
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00894	        CASE 184                                                    '184 HZ
	GOTO?L	L00064
	LABEL?L	L00069	
	CMPNE?WCL	_GYRO_FILTER, 0B8h, L00070

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00895	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00896	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00897	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00898	             GEN_CONFIG_DATA.1 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00899	             GEN_CONFIG_DATA.0 = 1  
	MOVE?CT	001h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00900	        CASE 250                                                    '250 HZ
	GOTO?L	L00064
	LABEL?L	L00070	
	CMPNE?WCL	_GYRO_FILTER, 0FAh, L00071

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00901	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00902	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00903	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00904	             GEN_CONFIG_DATA.1 = 0 
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00905	             GEN_CONFIG_DATA.0 = 0  
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00906	        CASE 3600                                                   '3600 HZ
	GOTO?L	L00064
	LABEL?L	L00071	
	CMPNE?WCL	_GYRO_FILTER, 00E10h, L00072

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00907	             GYRO_CONFIG_DATA.1 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00908	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00909	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00910	             GEN_CONFIG_DATA.1 = 0 
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00911	             GEN_CONFIG_DATA.0 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00912	        CASE 8800                                                   '8800 HZ
	GOTO?L	L00064
	LABEL?L	L00072	
	CMPNE?WCL	_GYRO_FILTER, 02260h, L00073

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00913	             GYRO_CONFIG_DATA.1 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00914	             GYRO_CONFIG_DATA.0 = 0
	MOVE?CT	000h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00915	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00916	             GEN_CONFIG_DATA.1 = 0 
	MOVE?CT	000h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00917	             GEN_CONFIG_DATA.0 = 0  
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00918	        CASE ELSE                                                   'EXECUTES IF THE USER DID NOT INPUT A VALID NUMBER (92HZ)
	GOTO?L	L00064
	LABEL?L	L00073	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00919	             GYRO_CONFIG_DATA.1 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00920	             GYRO_CONFIG_DATA.0 = 1
	MOVE?CT	001h, _GYRO_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00921	             GEN_CONFIG_DATA.2 = 0
	MOVE?CT	000h, _GEN_CONFIG_DATA??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00922	             GEN_CONFIG_DATA.1 = 1 
	MOVE?CT	001h, _GEN_CONFIG_DATA??1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00923	             GEN_CONFIG_DATA.0 = 0   
	MOVE?CT	000h, _GEN_CONFIG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00924	    END SELECT
	LABEL?L	L00064	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00925	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00929	INIT_SPI:                   'SETS NECESSARY REGISTERS FOR HARDWARE SPI

	LABEL?L	_INIT_SPI	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00930	    SSP1STAT = %00000000    'DATA SAMPLED IN MIDDLE OF DATA OUTPUT TIME, TRANSMIT OCCURS ON TRANSITION FROM IDLE TO ACTIVE CLOCK, RESET FLA
	MOVE?CB	000h, SSP1STAT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00931	    SSP1CON1 = %00110000    'ENABLE MSSP MODULE, ENABLE SPI AS MASTER WITH CLOCK SPEED = FOSC/4, CLOCK IDLES HIGH 
	MOVE?CB	030h, SSP1CON1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00932	    SSP1CON3 = %00010000    'ENABLE BUFFER OVERWRITING SO IF THE DATA IS WRITTEN TO THE BUFFER WHILE A WRITE IS IN PROGRESS THE MSSP DOESN'
	MOVE?CB	010h, SSP1CON3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00933	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00934	INIT_FLASH:                         'INITIALZES FLASH MEMORY SECTOR SIZES AND SPI MODE

	LABEL?L	_INIT_FLASH	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00935	    GOSUB READ_METADATA             'ALLOWS FLASH TO DETECT THE SPI MODE (EQUIVALENT TO SENDING NULL CHARACTERS TO INITIALIZE UART)
	GOSUB?L	_READ_METADATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00936	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00937	    SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00938	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00939	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00940	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00941	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00942	    SSP1BUF = write_reg             'SEND THE WRITE REGISTER COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_REG, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00943	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00944	    SSP1BUF = flash_status_1_Data   'SEND THE FLASH_STATUS_1_DATA ON THE SPI BUS
	MOVE?CB	_FLASH_STATUS_1_DATA, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00945	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00946	    SSP1BUF = flash_config_data     'SEND THE FLASH_CONFIG_DATA ON THE SPI BUS
	MOVE?CB	_FLASH_CONFIG_DATA, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00947	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00948	    SSP1BUF = flash_status_2_data   'SEND THE FLASH_STATUS_2_DATA ON THE SPI BUS
	MOVE?CB	_FLASH_STATUS_2_DATA, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00949	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00950	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE                          
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00951	    PAUSE 1000                      'GIVE FLASH 1 SECOND TO PROCESS CONFIGURATION SETTINGS (DO NOT DELETE!!!!)
	PAUSE?C	003E8h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00952	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00954	READ_FLASH_AUTO_INC:                  'READS A SECTOR OF THE FLASH MEMORY AND STORES IT INTO 2 252 BYTE ARRAYS (1 SINGLE 504 BYTE ARRAY NOT

	LABEL?L	_READ_FLASH_AUTO_INC	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00955	    GOSUB INIT_SPI
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00956	    FOR I = 0 TO 251                  
	MOVE?CW	000h, _I
	LABEL?L	L00074	
	CMPGT?WCL	_I, 0FBh, L00075

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00957	        READ_BUFFER_1[I] = 0          
	AIN?CBW	000h, _READ_BUFFER_1, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00958	    NEXT I
	NEXT?WCL	_I, 001h, L00074
	LABEL?L	L00075	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00959	    FOR I = 0 TO 251                  
	MOVE?CW	000h, _I
	LABEL?L	L00076	
	CMPGT?WCL	_I, 0FBh, L00077

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00960	        READ_BUFFER_2[I] = 0          
	AIN?CBW	000h, _READ_BUFFER_2, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00961	    NEXT I
	NEXT?WCL	_I, 001h, L00076
	LABEL?L	L00077	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00963	    FLASH_CS = 0                      'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00964	    SSP1BUF = READ_4B_ADDR_CMD        'SEND THE BLOCK READ, 4 BYTE ADDRESS COMMAND ON THE SPI BUS
	MOVE?CB	_READ_4B_ADDR_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00965	    PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00966	    SSP1BUF = TEMP_WRITE_ADDR_H.BYTE1 'SEND 1 BYTE OF THE DESIRED READ ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_TEMP_WRITE_ADDR_H??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00967	    PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00968	    SSP1BUF = TEMP_WRITE_ADDR_H.BYTE0 'SEND 1 BYTE OF THE DESIRED READ ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_TEMP_WRITE_ADDR_H??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00969	    PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00970	    SSP1BUF = TEMP_WRITE_ADDR_L.BYTE1 'SEND 1 BYTE OF THE DESIRED READ ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_TEMP_WRITE_ADDR_L??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00971	    PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00972	    SSP1BUF = TEMP_WRITE_ADDR_L.BYTE0 'SEND 1 BYTE OF THE DESIRED READ ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_TEMP_WRITE_ADDR_L??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00973	    PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00974	    FOR I = 0 TO 251                  'READS 252 BYTES AND STORES THEM IN READ_BUFFER_1
	MOVE?CW	000h, _I
	LABEL?L	L00078	
	CMPGT?WCL	_I, 0FBh, L00079

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00975	        SSP1BUF = 0                   'SEND DUMMY CLOCK CYCLE
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00976	        PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00977	        READ_BUFFER_1[I] = SSP1BUF    'STORE THE DATA THAT WAS SHIFTED IN FROM THE FLASH ON THE DUMMY CLOCK CYCLE
	AIN?BBW	SSP1BUF, _READ_BUFFER_1, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00978	        PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00979	    NEXT I
	NEXT?WCL	_I, 001h, L00078
	LABEL?L	L00079	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00980	    FOR I = 0 TO 251                  'READS 252 BYTES AND STORES THEM IN READ_BUFFER_2
	MOVE?CW	000h, _I
	LABEL?L	L00080	
	CMPGT?WCL	_I, 0FBh, L00081

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00981	        SSP1BUF = 0                   'SEND DUMMY CLOCK CYCLE
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00982	        PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00983	        READ_BUFFER_2[I] = SSP1BUF    'STORE THE DATA THAT WAS SHIFTED IN FROM THE FLASH ON THE DUMMY CLOCK CYCLE
	AIN?BBW	SSP1BUF, _READ_BUFFER_2, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00984	        PAUSEUS 1  
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00985	    NEXT I
	NEXT?WCL	_I, 001h, L00080
	LABEL?L	L00081	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00986	    FLASH_CS = 1                      'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00987	    if TEMP_WRITE_ADDR_L == 65024  then    'EXECUTES IF THE THE LOW WORD OF THE WRITE_ADDRESS IS NOT GOING TO OVERFLOW BY ADDING 512
	CMPNE?WCL	_TEMP_WRITE_ADDR_L, 0FE00h, L00082

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00988	        TEMP_WRITE_ADDR_H = TEMP_WRITE_ADDR_H + 1 'INCREMENT THE HIGH ADDRESS BY 1
	ADD?WCW	_TEMP_WRITE_ADDR_H, 001h, _TEMP_WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00989	        TEMP_WRITE_ADDR_L = 0
	MOVE?CW	000h, _TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00990	    ELSE                                          'EXECUTES IF THE THE LOW WORD OF THE WRITE_ADDRESS IS GOING TO OVERFLOW BY ADDING 512
	GOTO?L	L00083
	LABEL?L	L00082	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00991	        TEMP_WRITE_ADDR_L = TEMP_WRITE_ADDR_L + 512  'ADD 512 (MOVE TO THE NEXT SECTOR
	ADD?WCW	_TEMP_WRITE_ADDR_L, 00200h, _TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00992	    endif 
	LABEL?L	L00083	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00993	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00995	SECTOR_ERASE:

	LABEL?L	_SECTOR_ERASE	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00996	    ERASE_SECTOR_COUNT = ((WRITE_ADDR_H) + 1)
	ADD?WCW	_WRITE_ADDR_H, 001h, _ERASE_SECTOR_COUNT

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00997	    gosub INIT_SPI
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	00998	    for I = 0 TO ERASE_SECTOR_COUNT
	MOVE?CW	000h, _I
	LABEL?L	L00084	
	CMPGT?WWL	_I, _ERASE_SECTOR_COUNT, L00085

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01000	        TEMP_WRITE_ADDR_H = I * 4
	MUL?WCW	_I, 004h, _TEMP_WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01001	        TEMP_WRITE_ADDR_L = 0
	MOVE?CW	000h, _TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01003	        FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01004	        PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01006	        SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01007	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01009	        FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE                
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01010	        PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01012	        FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE                 
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01013	        SSP1BUF = SECTOR_ERASE_CMD
	MOVE?CB	_SECTOR_ERASE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01014	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01016	        SSP1BUF = TEMP_WRITE_ADDR_H.BYTE1
	MOVE?BB	_TEMP_WRITE_ADDR_H??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01017	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01019	        SSP1BUF = TEMP_WRITE_ADDR_H.BYTE0
	MOVE?BB	_TEMP_WRITE_ADDR_H??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01020	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01022	        SSP1BUF = TEMP_WRITE_ADDR_L.BYTE1
	MOVE?BB	_TEMP_WRITE_ADDR_L??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01023	        pauseus 1   
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01025	        FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE   
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01027	        STATUS_REG_DATA.0 = 1
	MOVE?CT	001h, _STATUS_REG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01028	        WHILE STATUS_REG_DATA.0 == 1
	LABEL?L	L00086	
	CMPNE?TCL	_STATUS_REG_DATA??0, 001h, L00087

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01029	            FLASH_CS = 0
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01030	            PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01031	            SSP1BUF = STATUS_REGISTER_1_ADDR
	MOVE?CB	_STATUS_REGISTER_1_ADDR, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01032	            pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01033	            SSP1BUF = 0
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01034	            pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01035	            STATUS_REG_DATA = SSP1BUF
	MOVE?BB	SSP1BUF, _STATUS_REG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01036	            PAUSEUS 1
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01037	            FLASH_CS = 1
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01041	            PAUSE 50
	PAUSE?C	032h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01042	        WEND
	GOTO?L	L00086
	LABEL?L	L00087	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01043	    NEXT I
	NEXT?WCL	_I, 001h, L00084
	LABEL?L	L00085	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01044	    META_ADDR = 0       
	MOVE?CW	000h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01045	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01047	BULK_ERASE:                         'BULK ERASES THE FLASH MEMORY

	LABEL?L	_BULK_ERASE	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01048	    gosub INIT_SPI
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01049	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01050	    SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01051	    pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01052	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE                
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01053	    pauseus 1  
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01054	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE                 
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01055	    SSP1BUF = BULK_ERASE_CMD
	MOVE?CB	_BULK_ERASE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01056	    pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE                      
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01057	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE   
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01058	    pause 1000                      'WAIT FOR BULK ERASE TO BEGIN
	PAUSE?C	003E8h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01059	    STATUS_REG_DATA.0 = 1
	MOVE?CT	001h, _STATUS_REG_DATA??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01060	    WHILE STATUS_REG_DATA.0 == 1
	LABEL?L	L00088	
	CMPNE?TCL	_STATUS_REG_DATA??0, 001h, L00089

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01061	        FLASH_CS = 0
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01062	        SSP1BUF = STATUS_REGISTER_1_ADDR
	MOVE?CB	_STATUS_REGISTER_1_ADDR, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01063	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01064	        SSP1BUF = 0
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01065	        pauseus 1                          'WAIT FOR TRANSMISSION TO COMPLETE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01066	        STATUS_REG_DATA = SSP1BUF
	MOVE?BB	SSP1BUF, _STATUS_REG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01067	        FLASH_CS = 1
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01071	        PAUSE 1000
	PAUSE?C	003E8h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01072	    WEND
	GOTO?L	L00088
	LABEL?L	L00089	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01073	    META_ADDR = 0
	MOVE?CW	000h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01074	return    
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01077	CALIBRATE_UART:

	LABEL?L	_CALIBRATE_UART	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01078	    for I = 0 to 10
	MOVE?CW	000h, _I
	LABEL?L	L00090	
	CMPGT?WCL	_I, 00Ah, L00091

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01079	        TX_DATA = 0
	MOVE?CB	000h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01080	        gosub UART_TX_VAR_115200
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01081	    next I
	NEXT?WCL	_I, 001h, L00090
	LABEL?L	L00091	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01082	return	
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01083	UART_CRLF:

	LABEL?L	_UART_CRLF	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01084	    TX_DATA = 13  
	MOVE?CB	00Dh, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01085	    gosub UART_TX_VAR_115200  
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01086	    PAUSE 1
	PAUSE?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01087	    TX_DATA = 10
	MOVE?CB	00Ah, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01088	    gosub UART_TX_VAR_115200     
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01089	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01091	COMM_ERROR_BLINK:

	LABEL?L	_COMM_ERROR_BLINK	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01092	    GRN_LED = 0
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01093	    FOR LED_COUNTER = 1 TO 3
	MOVE?CW	001h, _LED_COUNTER
	LABEL?L	L00092	
	CMPGT?WCL	_LED_COUNTER, 003h, L00093

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01094	        RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01095	        PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01096	        BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01097	        PAUSE 25
	PAUSE?C	019h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01098	        RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01099	        PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01100	        BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01101	        PAUSE 25
	PAUSE?C	019h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01102	    NEXT LED_COUNTER
	NEXT?WCL	_LED_COUNTER, 001h, L00092
	LABEL?L	L00093	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01103	RETURN  
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01105	TX_HEX_BYTE_115200:                     'CONVERTS VALUE IN TX_BYTE VARIABLE TO HEXADECIMAL STRING AND TRANSMITS IT VIA UART (ASCII) (NOT US

	LABEL?L	_TX_HEX_BYTE_115200	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01106		FOR HEX_DIGIT_COUNTER = 0 TO 1      'LOOPS THROUGH BOTH DIGITS OF THE HEX BYTE
	MOVE?CB	000h, _HEX_DIGIT_COUNTER
	LABEL?L	L00094	
	CMPGT?BCL	_HEX_DIGIT_COUNTER, 001h, L00095

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01107			IF HEX_DIGIT_COUNTER == 0 THEN  'EXECUTES IF THE PROGRAM IS CURRENTLY DETERMINING HOW LARGE THE 16'S PLACE DIGIT SHOULD BE
	CMPNE?BCL	_HEX_DIGIT_COUNTER, 000h, L00096

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01108				HEX_INDEX = TX_BYTE/16      'DETERMINES WHICH CHARACTER TO LOOK UP IN THE SELECT CASE
	DIV?BCB	_TX_BYTE, 010h, _HEX_INDEX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01109			ELSE                            'EXECUTES IF THE PROGRAM IS CURRENTLY DETERMINING HOW LARGE THE 1'S PLACE DIGIT SHOULD BE
	GOTO?L	L00097
	LABEL?L	L00096	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01110				HEX_INDEX = TX_BYTE // 16   'DETERMINES WHICH CHARACTER TO LOOK UP IN THE SELECT CASE
	MOD?BCB	_TX_BYTE, 010h, _HEX_INDEX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01111				ENDIF
	LABEL?L	L00097	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01113			SELECT CASE HEX_INDEX           'LOOK UP WHICH ASCII CHARACTER CORRESPONDS TO THE HEX_INDEX (EX. HEX_INDEX = 14, ASCII EQUIVALENT IS "E")

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01114				CASE 0
	CMPNE?BCL	_HEX_INDEX, 000h, L00100

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01115					TX_DATA = "0"
	MOVE?CB	030h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01116				CASE 1
	GOTO?L	L00099
	LABEL?L	L00100	
	CMPNE?BCL	_HEX_INDEX, 001h, L00101

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01117					TX_DATA = "1"
	MOVE?CB	031h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01118				CASE 2
	GOTO?L	L00099
	LABEL?L	L00101	
	CMPNE?BCL	_HEX_INDEX, 002h, L00102

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01119					TX_DATA = "2"
	MOVE?CB	032h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01120				CASE 3
	GOTO?L	L00099
	LABEL?L	L00102	
	CMPNE?BCL	_HEX_INDEX, 003h, L00103

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01121					TX_DATA = "3"
	MOVE?CB	033h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01122				CASE 4
	GOTO?L	L00099
	LABEL?L	L00103	
	CMPNE?BCL	_HEX_INDEX, 004h, L00104

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01123					TX_DATA = "4"
	MOVE?CB	034h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01124				CASE 5
	GOTO?L	L00099
	LABEL?L	L00104	
	CMPNE?BCL	_HEX_INDEX, 005h, L00105

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01125					TX_DATA = "5"
	MOVE?CB	035h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01126				CASE 6
	GOTO?L	L00099
	LABEL?L	L00105	
	CMPNE?BCL	_HEX_INDEX, 006h, L00106

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01127					TX_DATA = "6"
	MOVE?CB	036h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01128				CASE 7
	GOTO?L	L00099
	LABEL?L	L00106	
	CMPNE?BCL	_HEX_INDEX, 007h, L00107

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01129					TX_DATA = "7"
	MOVE?CB	037h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01130				CASE 8
	GOTO?L	L00099
	LABEL?L	L00107	
	CMPNE?BCL	_HEX_INDEX, 008h, L00108

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01131					TX_DATA = "8"
	MOVE?CB	038h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01132				CASE 9
	GOTO?L	L00099
	LABEL?L	L00108	
	CMPNE?BCL	_HEX_INDEX, 009h, L00109

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01133					TX_DATA = "9"
	MOVE?CB	039h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01134				CASE 10
	GOTO?L	L00099
	LABEL?L	L00109	
	CMPNE?BCL	_HEX_INDEX, 00Ah, L00110

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01135					TX_DATA = "A"
	MOVE?CB	041h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01136				CASE 11
	GOTO?L	L00099
	LABEL?L	L00110	
	CMPNE?BCL	_HEX_INDEX, 00Bh, L00111

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01137					TX_DATA = "B"
	MOVE?CB	042h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01138				CASE 12
	GOTO?L	L00099
	LABEL?L	L00111	
	CMPNE?BCL	_HEX_INDEX, 00Ch, L00112

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01139					TX_DATA = "C"
	MOVE?CB	043h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01140				CASE 13
	GOTO?L	L00099
	LABEL?L	L00112	
	CMPNE?BCL	_HEX_INDEX, 00Dh, L00113

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01141					TX_DATA = "D"
	MOVE?CB	044h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01142				CASE 14
	GOTO?L	L00099
	LABEL?L	L00113	
	CMPNE?BCL	_HEX_INDEX, 00Eh, L00114

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01143					TX_DATA = "E"
	MOVE?CB	045h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01144				CASE 15
	GOTO?L	L00099
	LABEL?L	L00114	
	CMPNE?BCL	_HEX_INDEX, 00Fh, L00115

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01145					TX_DATA = "F"
	MOVE?CB	046h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01146				END SELECT	
	LABEL?L	L00115	
	LABEL?L	L00099	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01147			gosub UART_TX_VAR_115200        'TRANMSIT THE VALUE OF TX_BYTE AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01148		NEXT HEX_DIGIT_COUNTER              'LOOP
	NEXT?BCL	_HEX_DIGIT_COUNTER, 001h, L00094
	LABEL?L	L00095	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01149	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01151	UART_TX_VAR_115200:                     'TRANSMITS VALUE OF TX_DATA VARIABLE OVER UART AT 115200 BAUD (BIT BANGED)

	LABEL?L	_UART_TX_VAR_115200	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01152		OUTPUT UART_TX                      'Change UART_TX from INPUT to OUTPUT (Set as INPUT when UART not is use to avoid programming conflicts
	OUTPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01153	    UART_TX = 0							'START BIT
	MOVE?CT	000h, _UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01154		pauseus UART_PERIOD_VAR_115200		'DELAY TO REACH APPROXIMATE PULSE WIDTH
	PAUSEUS?C	_UART_PERIOD_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01155		gosub waste_time                	'USED FOR PULSE WIDTH TUNING
	GOSUB?L	_waste_time

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01156		gosub waste_time                	'USED FOR PULSE WIDTH TUNING
	GOSUB?L	_waste_time

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01157	    for BIT_INDEX = 0 to 7              'LOOPS THROUGH EACH BIT OF THE VARIABLE
	MOVE?CB	000h, _BIT_INDEX
	LABEL?L	L00116	
	CMPGT?BCL	_BIT_INDEX, 007h, L00117

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01158			UART_TX = TX_DATA.0[BIT_INDEX]  'LOOKUP BIT STATE LSB FIRST
	AOUT?TBT	_TX_DATA??0, _BIT_INDEX, _UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01159			pauseus UART_PERIOD_VAR_115200  'DELAY TO REACH APPROXIMATE PULSE WIDTH
	PAUSEUS?C	_UART_PERIOD_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01160			gosub waste_time                'USED FOR PULSE WIDTH TUNING
	GOSUB?L	_waste_time

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01161			next BIT_INDEX
	NEXT?BCL	_BIT_INDEX, 001h, L00116
	LABEL?L	L00117	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01162		pauseus 3                           'DELAY TO REACH APPROXIMATE PULSE WIDTH
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01163	    UART_TX = 1      			        'STOP BIT
	MOVE?CT	001h, _UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01164		pauseus UART_PERIOD_VAR_115200      'DELAY TO REACH APPROXIMATE PULSE WIDTH
	PAUSEUS?C	_UART_PERIOD_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01165		gosub waste_time                	'USED FOR PULSE WIDTH TUNING
	GOSUB?L	_waste_time

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01166	    gosub waste_time                    'USED FOR PULSE WIDTH TUNING
	GOSUB?L	_waste_time

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01167	    INPUT UART_TX                       'Change UART_TX back to INPUT (Set as INPUT when UART not is use to avoid programming conflicts)
	INPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01168	    PAUSEUS 2
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01169	return                         
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01171	WASTE_TIME:                            'DUMMY INSTRUCTION CYCLE FOR ACCURATE CLOCKING ON UART

	LABEL?L	_waste_time	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01172	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01175	SAVE_TEST_PARAMS:                      'RECEIVES TEST PARAMETERS FROM THE PC AND STORES THE VALUES IN THE PICS EEPROM FOR FUTURE REFERENCE

	LABEL?L	_SAVE_TEST_PARAMS	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01176	    IF DATA_OUT_BYPASS=1 THEN BYPASS8
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS8

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01177	    GOSUB CLR                          'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01178	    OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01179	    SEROUT DSP, N9600, [POSCMD, LINE1,"WAITING FOR DATA"]  'NOTIFY THE USER THAT THE MODULE IS WAITING FOR DATA
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1
	SEROUT?C	057h
	SEROUT?C	041h
	SEROUT?C	049h
	SEROUT?C	054h
	SEROUT?C	049h
	SEROUT?C	04Eh
	SEROUT?C	047h
	SEROUT?C	020h
	SEROUT?C	046h
	SEROUT?C	04Fh
	SEROUT?C	052h
	SEROUT?C	020h
	SEROUT?C	044h
	SEROUT?C	041h
	SEROUT?C	054h
	SEROUT?C	041h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01180	    INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01181	BYPASS8:

	LABEL?L	_BYPASS8	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01182	    PARAM_COUNTER = 0
	MOVE?CB	000h, _PARAM_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01183	    WHILE PARAM_COUNTER < NUM_PARAMS
	LABEL?L	L00118	
	CMPGE?BCL	_PARAM_COUNTER, _NUM_PARAMS, L00119

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01184	        GET_PARAM:

	LABEL?L	_GET_PARAM	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01185	        serin2 UART_RX, 6, [WAIT("01234"), HEX4 TEMP_RX_BUFFER]
	SERIN2DPIN?T	_UART_RX
	SERIN2MODE?C	006h

	LABEL?L	L00002	
	SERIN2WAIT?CL	030h, L00002
	SERIN2WAIT?CL	031h, L00002
	SERIN2WAIT?CL	032h, L00002
	SERIN2WAIT?CL	033h, L00002
	SERIN2WAIT?CL	034h, L00002
	SERIN2COUNT?C	004h
	SERIN2HEX?W	_TEMP_RX_BUFFER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01186	        BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01187	        SEROUT2 UART_TX, 6, [HEX4 TEMP_RX_BUFFER]              
	SEROUT2DPIN?T	_UART_TX
	SEROUT2MODE?C	006h
	SEROUT2PACE?C	000h
	SEROUT2COUNT?C	004h
	SEROUT2NUM?W	_TEMP_RX_BUFFER
	SEROUT2HEX?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01188	        serin2 UART_RX, 6, [WAIT("A"), ACKNOWLEDGE_BYTE]
	SERIN2DPIN?T	_UART_RX
	SERIN2MODE?C	006h

	LABEL?L	L00003	
	SERIN2WAIT?CL	041h, L00003
	SERIN2?B	_ACKNOWLEDGE_BYTE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01189	        BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01190	        IF ACKNOWLEDGE_BYTE == "N" THEN
	CMPNE?BCL	_ACKNOWLEDGE_BYTE, 04Eh, L00120

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01191	            GOTO GET_PARAM
	GOTO?L	_GET_PARAM

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01192	        ENDIF 
	LABEL?L	L00120	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01193	        TEST_PARAMS[PARAM_COUNTER] = TEMP_RX_BUFFER
	AIN?WWB	_TEMP_RX_BUFFER, _TEST_PARAMS, _PARAM_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01194	        PARAM_COUNTER = PARAM_COUNTER + 1    
	ADD?BCB	_PARAM_COUNTER, 001h, _PARAM_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01195	    WEND
	GOTO?L	L00118
	LABEL?L	L00119	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01198	    FOR I = 0 TO NUM_PARAMS - 1 STEP 2
	MOVE?CW	000h, _I
	LABEL?L	L00122	
	CMPGT?WCL	_I, 00Bh, L00123

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01199	        WRITE I, WORD TEST_PARAMS[I]
	WRITEADDRESS?W	_I
	AOUT?WWW	_TEST_PARAMS, _I, T1
	WRITEW?W	T1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01200	        PAUSE 10
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01201	    NEXT I
	NEXT?WCL	_I, 002h, L00122
	LABEL?L	L00123	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01203	    FOR I = 1 TO 4                         'BLINK THE GREEN LED 4 TIMES TO NOTIFY THE USER THAT IT SUCCESSFULLY RECEIVED THE TEST PARAMETER
	MOVE?CW	001h, _I
	LABEL?L	L00124	
	CMPGT?WCL	_I, 004h, L00125

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01204	        GRN_LED = 1
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01205	        PAUSE 350
	PAUSE?C	0015Eh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01206	        GRN_LED = 0
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01207	        PAUSE 350
	PAUSE?C	0015Eh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01208	    NEXT I
	NEXT?WCL	_I, 001h, L00124
	LABEL?L	L00125	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01209	    BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01210	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01212	GET_TEST_PARAMS:

	LABEL?L	_GET_TEST_PARAMS	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01214	    ACCEL_GYRO_SAMPLE_RATE = 0            
	MOVE?CW	000h, _ACCEL_GYRO_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01215	    MAG_SAMPLE_RATE = 0
	MOVE?CW	000h, _MAG_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01216	    TEST_DURATION = 0
	MOVE?CW	000h, _TEST_DURATION

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01217	    ACCEL_SENSITIVITY = 0
	MOVE?CW	000h, _ACCEL_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01218	    GYRO_SENSITIVITY = 0
	MOVE?CW	000h, _GYRO_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01219	    ACCEL_FILTER = 0
	MOVE?CW	000h, _ACCEL_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01220	    GYRO_FILTER = 0
	MOVE?CW	000h, _GYRO_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01222	    READ 0, WORD ACCEL_GYRO_SAMPLE_RATE   'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	000h
	READW?W	_ACCEL_GYRO_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01223	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01224	    READ 2, WORD MAG_SAMPLE_RATE          'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	002h
	READW?W	_MAG_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01225	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01226	    READ 4, WORD TEST_DURATION            'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	004h
	READW?W	_TEST_DURATION

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01227	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01228	    READ 6, WORD ACCEL_SENSITIVITY        'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	006h
	READW?W	_ACCEL_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01229	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01230	    READ 8, WORD GYRO_SENSITIVITY         'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	008h
	READW?W	_GYRO_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01231	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01232	    READ 10, WORD ACCEL_FILTER            'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	00Ah
	READW?W	_ACCEL_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01233	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01234	    READ 12, WORD GYRO_FILTER             'READ 1 WORD (2 BYTES) TO THE PIC'S EEPROM STARTING AT ADDRESS 0
	READADDRESS?C	00Ch
	READW?W	_GYRO_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01235	    PAUSE 10                              'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01236	    GOSUB CLR                             'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01237	    IF ACCEL_GYRO_SAMPLE_RATE == 65535 THEN      'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 0FFFFh, L00126

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01238	       ACCEL_GYRO_SAMPLE_RATE = DEF_ACCEL_GYRO_SAMPLE_RATE
	MOVE?CW	_DEF_ACCEL_GYRO_SAMPLE_RATE, _ACCEL_GYRO_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01239	    ENDIF    
	LABEL?L	L00126	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01240	    IF MAG_SAMPLE_RATE == 65535 THEN             'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_MAG_SAMPLE_RATE, 0FFFFh, L00128

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01241	       MAG_SAMPLE_RATE= DEF_MAG_SAMPLE_RATE
	MOVE?CW	_DEF_MAG_SAMPLE_RATE, _MAG_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01242	    ENDIF  
	LABEL?L	L00128	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01243	    IF TEST_DURATION == 65535 THEN               'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_TEST_DURATION, 0FFFFh, L00130

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01244	       TEST_DURATION= DEF_TEST_DURATION
	MOVE?CW	_DEF_TEST_DURATION, _TEST_DURATION

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01245	    ENDIF
	LABEL?L	L00130	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01246	    IF ACCEL_SENSITIVITY == 65535 THEN           'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_ACCEL_SENSITIVITY, 0FFFFh, L00132

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01247	       ACCEL_SENSITIVITY = DEF_ACCEL_SENSITIVITY
	MOVE?CW	_DEF_ACCEL_SENSITIVITY, _ACCEL_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01248	    ENDIF    
	LABEL?L	L00132	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01249	    IF GYRO_SENSITIVITY == 65535 THEN            'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_GYRO_SENSITIVITY, 0FFFFh, L00134

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01250	       GYRO_SENSITIVITY= DEF_GYRO_SENSITIVITY
	MOVE?CW	_DEF_GYRO_SENSITIVITY, _GYRO_SENSITIVITY

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01251	    ENDIF  
	LABEL?L	L00134	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01252	    IF ACCEL_FILTER == 65535 THEN                'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_ACCEL_FILTER, 0FFFFh, L00136

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01253	       ACCEL_FILTER = DEF_ACCEL_FILTER
	MOVE?CW	_DEF_ACCEL_FILTER, _ACCEL_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01254	    ENDIF 
	LABEL?L	L00136	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01255	    IF GYRO_FILTER == 65535 THEN                 'IF THERE WAS NO DATA IN THE EEPROM, RESTORE DEFUALTS
	CMPNE?WCL	_GYRO_FILTER, 0FFFFh, L00138

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01256	       GYRO_FILTER = DEF_GYRO_FILTER
	MOVE?CW	_DEF_GYRO_FILTER, _GYRO_FILTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01257	    ENDIF    
	LABEL?L	L00138	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01261	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01263	SEND_TEST_PARAMS:                                                                                   

	LABEL?L	_SEND_TEST_PARAMS	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01264	    GOSUB GET_TEST_PARAMS
	GOSUB?L	_GET_TEST_PARAMS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01266	    TX_DATA = NUM_OF_TESTS                              'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_NUM_OF_TESTS, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01267	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01268	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01270	    TX_DATA = ACCEL_GYRO_SAMPLE_RATE.BYTE1              'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_GYRO_SAMPLE_RATE??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01271	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01272	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01273	    TX_DATA = ACCEL_GYRO_SAMPLE_RATE.BYTE0              'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_GYRO_SAMPLE_RATE??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01274	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01275	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01277	    TX_DATA = MAG_SAMPLE_RATE.BYTE1                     'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_MAG_SAMPLE_RATE??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01278	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01279	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01280	    TX_DATA = MAG_SAMPLE_RATE.BYTE0                     'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_MAG_SAMPLE_RATE??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01281	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01282	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01284	    TX_DATA = TEST_DURATION.BYTE1                       'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_TEST_DURATION??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01285	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01286	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01287	    TX_DATA = TEST_DURATION.BYTE0                       'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_TEST_DURATION??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01288	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01289	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01291	    TX_DATA = ACCEL_SENSITIVITY.BYTE1                   'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_SENSITIVITY??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01292	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01293	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01294	    TX_DATA = ACCEL_SENSITIVITY.BYTE0                   'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_SENSITIVITY??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01295	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD \
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01296	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01298	    TX_DATA = GYRO_SENSITIVITY.BYTE1                    'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_GYRO_SENSITIVITY??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01299	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01300	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01301	    TX_DATA = GYRO_SENSITIVITY.BYTE0                    'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_GYRO_SENSITIVITY??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01302	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01303	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01305	    TX_DATA = ACCEL_FILTER.BYTE1                        'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_FILTER??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01306	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01307	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01308	    TX_DATA = ACCEL_FILTER.BYTE0                        'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_ACCEL_FILTER??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01309	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01310	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01312	    TX_DATA = GYRO_FILTER.BYTE1                         'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_GYRO_FILTER??BYTE1, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01313	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01314	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01315	    TX_DATA = GYRO_FILTER.BYTE0                         'SET UART TRANSMISSION VARIABLE TO THE NUMBER OF TESTS THAT ARE ABOUT TO BE TRANSMI
	MOVE?BB	_GYRO_FILTER??BYTE0, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01316	    gosub UART_TX_VAR_115200                            'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01317	    PAUSEUS 5
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01318	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01320	TIMEOUT_LABEL:                'EXECUTES IF NO DATA IS RECEIVED FROM THE PC AFTER A CERTAIN AMOUNT OF TIME

	LABEL?L	_TIMEOUT_LABEL	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01321	    GRN_LED = 0               'TURN OFF THE GREEN LED
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01322	    FOR I = 1 TO 4            'BLINK RED 4 TIMES TO NOTIFY THE USER THAT NO DATA WAS RECEIVED FROM THE PC
	MOVE?CW	001h, _I
	LABEL?L	L00140	
	CMPGT?WCL	_I, 004h, L00141

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01323	        RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01324	        PAUSE 350
	PAUSE?C	0015Eh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01325	        RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01326	        PAUSE 350
	PAUSE?C	0015Eh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01327	    NEXT I
	NEXT?WCL	_I, 001h, L00140
	LABEL?L	L00141	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01328	    BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01332	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01333	STR_TO_HEX:                                  'CONVERTS ASCII CHARACTER TO DECIMAL AND STORES THE RESULT IN HEX_RETURN

	LABEL?L	_STR_TO_HEX	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01334	     select CASE RAW_RX_DATA[HEX_INDEX]      'SELECT WHICH CHARACTER TO CONVERT BASED ON THE VALUE AT THE HEX_INDEX OF THE RAW_RX_DATA ARRA
	MOVE?CW	000h, T1
	AOUT?BBB	_RAW_RX_DATA, _HEX_INDEX, T1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01335	         case "0"
	CMPNE?WCL	T1, 030h, L00144

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01336	              HEX_RETURN = 0 
	MOVE?CB	000h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01337	         case "1"
	GOTO?L	L00143
	LABEL?L	L00144	
	CMPNE?WCL	T1, 031h, L00145

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01338	              HEX_RETURN = 1 
	MOVE?CB	001h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01339	         case "2"
	GOTO?L	L00143
	LABEL?L	L00145	
	CMPNE?WCL	T1, 032h, L00146

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01340	              HEX_RETURN = 2 
	MOVE?CB	002h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01341	         case "3"
	GOTO?L	L00143
	LABEL?L	L00146	
	CMPNE?WCL	T1, 033h, L00147

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01342	              HEX_RETURN = 3
	MOVE?CB	003h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01343	         case "4"
	GOTO?L	L00143
	LABEL?L	L00147	
	CMPNE?WCL	T1, 034h, L00148

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01344	              HEX_RETURN = 4 
	MOVE?CB	004h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01345	         case "5"
	GOTO?L	L00143
	LABEL?L	L00148	
	CMPNE?WCL	T1, 035h, L00149

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01346	              HEX_RETURN = 5
	MOVE?CB	005h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01347	         case "6"
	GOTO?L	L00143
	LABEL?L	L00149	
	CMPNE?WCL	T1, 036h, L00150

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01348	              HEX_RETURN = 6 
	MOVE?CB	006h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01349	         case "7"
	GOTO?L	L00143
	LABEL?L	L00150	
	CMPNE?WCL	T1, 037h, L00151

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01350	              HEX_RETURN = 7
	MOVE?CB	007h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01351	         case "8"
	GOTO?L	L00143
	LABEL?L	L00151	
	CMPNE?WCL	T1, 038h, L00152

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01352	              HEX_RETURN = 8 
	MOVE?CB	008h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01353	         case "9"
	GOTO?L	L00143
	LABEL?L	L00152	
	CMPNE?WCL	T1, 039h, L00153

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01354	              HEX_RETURN = 9
	MOVE?CB	009h, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01355	         case "A"
	GOTO?L	L00143
	LABEL?L	L00153	
	CMPNE?WCL	T1, 041h, L00154

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01356	              HEX_RETURN = 10
	MOVE?CB	00Ah, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01357	         case "B"
	GOTO?L	L00143
	LABEL?L	L00154	
	CMPNE?WCL	T1, 042h, L00155

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01358	              HEX_RETURN = 11 
	MOVE?CB	00Bh, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01359	         case "C"
	GOTO?L	L00143
	LABEL?L	L00155	
	CMPNE?WCL	T1, 043h, L00156

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01360	              HEX_RETURN = 12
	MOVE?CB	00Ch, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01361	         case "D"
	GOTO?L	L00143
	LABEL?L	L00156	
	CMPNE?WCL	T1, 044h, L00157

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01362	              HEX_RETURN = 13 
	MOVE?CB	00Dh, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01363	         case "E"
	GOTO?L	L00143
	LABEL?L	L00157	
	CMPNE?WCL	T1, 045h, L00158

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01364	              HEX_RETURN = 14
	MOVE?CB	00Eh, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01365	         case "F"
	GOTO?L	L00143
	LABEL?L	L00158	
	CMPNE?WCL	T1, 046h, L00159

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01366	              HEX_RETURN = 15
	MOVE?CB	00Fh, _HEX_RETURN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01367	      END SELECT
	LABEL?L	L00159	
	LABEL?L	L00143	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01368	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01369	INIT_NAVIG_VARS:                      'INITIALIZES META_ADDRESS AND WRITE_ADDRESS_H/WRITE_ADDRESS_L SO MULTIPLE TEST CAN BE RUN DESPITE POW

	LABEL?L	_INIT_NAVIG_VARS	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01370	    gosub READ_METADATA               'READ THE METADATA ARRAY (ADDRESS 0-504) AND STORE THE DATA IN META_BUFFER_1 (DATA AT ADDRESSES 0-251
	GOSUB?L	_READ_METADATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01371	    META_ADDR = 500                   'START BY LOOKING AT THE HIGHEST META_ADDR
	MOVE?CW	001F4h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01372	    ADDR_LOOP:                        'LOOP THAT DETERMINES WHAT THE LAST USED META_ADDRESS WAS BEFORE THE POWER CYCLE

	LABEL?L	_ADDR_LOOP	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01374	    if META_ADDR < 248 then       'EXECUTES IF THE META_ADDRESS IS POINTING TO DATA THAT WOULD BE STORED IN THE META_BUFFER_1
	CMPGE?WCL	_META_ADDR, 0F8h, L00160

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01375	        IF (META_BUFFER_1[META_ADDR] == 255) AND (META_BUFFER_1[META_ADDR + 1] == 255) AND (META_BUFFER_1[META_ADDR + 2] == 255) AND (META_
	AOUT?BWB	_META_BUFFER_1, _META_ADDR, T1
	CMPEQ?BCB	T1, 0FFh, T1
	ADD?WCW	_META_ADDR, 001h, T2
	AOUT?BWB	_META_BUFFER_1, T2, T2
	CMPEQ?BCB	T2, 0FFh, T2
	LAND?BBW	T1, T2, T2
	ADD?WCW	_META_ADDR, 002h, T3
	AOUT?BWB	_META_BUFFER_1, T3, T3
	CMPEQ?BCB	T3, 0FFh, T3
	LAND?WBW	T2, T3, T3
	ADD?WCW	_META_ADDR, 003h, T4
	AOUT?BWB	_META_BUFFER_1, T4, T4
	CMPEQ?BCB	T4, 0FFh, T4
	LAND?WBW	T3, T4, T4
	CMPF?WL	T4, L00162

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01377	            IF META_ADDR > 3 THEN           'EXECUTES IF THE META_ADDR IS GREATER THAN 3 (4 CAN BE SUBTRACTED FROM IT)
	CMPLE?WCL	_META_ADDR, 003h, L00164

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01378	               META_ADDR = META_ADDR - 4    'SUBTRACT 4 FROM THE META ADDRESS TO CHECK IF THERE WAS A TEST LOCATION STORED IN THE NEXT PORT
	SUB?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01379	            ELSE                            'EXECUTES IF THE META_ADDR = 0 MEANING THERE ARE NO TESTS
	GOTO?L	L00165
	LABEL?L	L00164	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01380	               WRITE_ADDR_H = 0                                'RESET WRITE ADDRESSES TO BEGINNING OF FLASH ALLOCATED DATA 
	MOVE?CW	000h, _WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01381	               WRITE_ADDR_L = 512                              
	MOVE?CW	00200h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01382	               META_ADDR = 0
	MOVE?CW	000h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01383	               GOTO ADDRESS_SET 
	GOTO?L	_ADDRESS_SET

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01384	            ENDIF
	LABEL?L	L00165	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01385	            GOTO ADDR_LOOP                  'LOOP AND EVALUATE THE DATA AT THE NEW META_ADDR
	GOTO?L	_ADDR_LOOP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01386	        ELSE                               'EXECUTES IF THERE IS A TEST LOCATION STORED IN THE CURRENT META_ADDR
	GOTO?L	L00163
	LABEL?L	L00162	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01387	            WRITE_ADDR_H.BYTE1 = META_BUFFER_1[META_ADDR]
	AOUT?BWB	_META_BUFFER_1, _META_ADDR, _WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01388	            WRITE_ADDR_H.BYTE0 = META_BUFFER_1[META_ADDR + 1]
	ADD?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01389	            WRITE_ADDR_l.BYTE1 = META_BUFFER_1[META_ADDR + 2]
	ADD?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01390	            WRITE_ADDR_l.BYTE0 = META_BUFFER_1[META_ADDR + 3] 
	ADD?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01391	            META_ADDR = META_ADDR + 4
	ADD?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01392	            GOTO ADDRESS_SET
	GOTO?L	_ADDRESS_SET

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01393	        endif
	LABEL?L	L00163	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01394	    else                          'EXECUTES IF THE META_ADDRESS IS POINTING TO DATA THAT WOULD BE STORED IN THE META_BUFFER_2
	GOTO?L	L00161
	LABEL?L	L00160	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01395	        IF (META_BUFFER_2[META_ADDR - 252] == 255) AND (META_BUFFER_2[META_ADDR + 1 - 252] == 255) AND (META_BUFFER_2[META_ADDR + 2 - 252] 
	SUB?WCW	_META_ADDR, 0FCh, T1
	AOUT?BWB	_META_BUFFER_2, T1, T1
	CMPEQ?BCB	T1, 0FFh, T1
	ADD?WCW	_META_ADDR, 001h, T2
	SUB?WCW	T2, 0FCh, T2
	AOUT?BWB	_META_BUFFER_2, T2, T2
	CMPEQ?BCB	T2, 0FFh, T2
	LAND?BBW	T1, T2, T2
	ADD?WCW	_META_ADDR, 002h, T3
	SUB?WCW	T3, 0FCh, T3
	AOUT?BWB	_META_BUFFER_2, T3, T3
	CMPEQ?BCB	T3, 0FFh, T3
	LAND?WBW	T2, T3, T3
	ADD?WCW	_META_ADDR, 003h, T4
	SUB?WCW	T4, 0FCh, T4
	AOUT?BWB	_META_BUFFER_2, T4, T4
	CMPEQ?BCB	T4, 0FFh, T4
	LAND?WBW	T3, T4, T4
	CMPF?WL	T4, L00166

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01396	           META_ADDR = META_ADDR - 4    'SUBTRACT 4 FROM THE META ADDRESS TO CHECK IF THERE WAS A TEST LOCATION STORED IN THE NEXT PORTION 
	SUB?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01397	           GOTO ADDR_LOOP                 'LOOP AND EVALUATE THE DATA AT THE NEW META_ADDR
	GOTO?L	_ADDR_LOOP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01398	        ELSE                              'EXECUTES IF THERE IS A TEST LOCATION STORED IN THE CURRENT META_ADDR
	GOTO?L	L00167
	LABEL?L	L00166	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01399	            WRITE_ADDR_H.BYTE1 = META_BUFFER_2[META_ADDR - 252]
	SUB?WCW	_META_ADDR, 0FCh, T1
	AOUT?BWB	_META_BUFFER_2, T1, _WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01400	            WRITE_ADDR_H.BYTE0 = META_BUFFER_2[META_ADDR + 1 - 252]
	ADD?WCW	_META_ADDR, 001h, T1
	SUB?WCW	T1, 0FCh, T1
	AOUT?BWB	_META_BUFFER_2, T1, _WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01401	            WRITE_ADDR_l.BYTE1 = META_BUFFER_2[META_ADDR + 2 - 252]
	ADD?WCW	_META_ADDR, 002h, T1
	SUB?WCW	T1, 0FCh, T1
	AOUT?BWB	_META_BUFFER_2, T1, _WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01402	            WRITE_ADDR_l.BYTE0 = META_BUFFER_2[META_ADDR + 3 - 252] 
	ADD?WCW	_META_ADDR, 003h, T1
	SUB?WCW	T1, 0FCh, T1
	AOUT?BWB	_META_BUFFER_2, T1, _WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01403	            META_ADDR = META_ADDR + 4
	ADD?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01404	            GOTO ADDRESS_SET            
	GOTO?L	_ADDRESS_SET

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01405	        endif
	LABEL?L	L00167	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01406	    endif
	LABEL?L	L00161	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01408	    ADDRESS_SET:

	LABEL?L	_ADDRESS_SET	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01430	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01432	STORE_METADATA:                     'STORES THE LOCATION OF WHERE THE DATA THAT IS ABOUT TO BE COLLECTED WILL BE STORED (START ADDRESS OF T

	LABEL?L	_STORE_METADATA	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01433	    GOSUB INIT_SPI
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01434	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01435	    SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01436	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01437	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01438	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01439	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01440	    SSP1BUF = PP_4B_ADDR_CMD        'SEND THE BLOCK WRITE, 4 BYTE ADDRESS COMMAND ON THE SPI BUS
	MOVE?CB	_PP_4B_ADDR_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01441	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01442	    SSP1BUF = 0                     'SEND 0 AS THE MSB OF THE MSW OF THE ADDRESS
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01443	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01444	    SSP1BUF = 0                     'SEND 0 AS THE LSB OF THE MSW OF THE ADDRESS
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01445	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01446	    SSP1BUF = META_ADDR.BYTE1       'SEND THE HIGH BYTE OF THE META_ADDR AS THE MSB OF THE LSW OF THE ADDRESS
	MOVE?BB	_META_ADDR??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01447	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01448	    SSP1BUF = META_ADDR.BYTE0       'SEND THE LOW BYTE OF THE META_ADDR AS THE LSB OF THE LSW OF THE ADDRESS
	MOVE?BB	_META_ADDR??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01449	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01450	    SSP1BUF = WRITE_ADDR_H.BYTE1    'SAVE THE HIGH BYTE OF THE MSW OF WHERE THE TEST THAT IS ABOUT TO BE EXECUTED WILL BE STORED
	MOVE?BB	_WRITE_ADDR_H??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01451	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01452	    SSP1BUF = WRITE_ADDR_H.BYTE0    'SAVE THE LOW BYTE OF THE MSW OF WHERE THE TEST THAT IS ABOUT TO BE EXECUTED WILL BE STORED
	MOVE?BB	_WRITE_ADDR_H??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01453	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01454	    SSP1BUF = WRITE_ADDR_L.BYTE1    'SAVE THE HIGH BYTE OF THE LSW OF WHERE THE TEST THAT IS ABOUT TO BE EXECUTED WILL BE STORED
	MOVE?BB	_WRITE_ADDR_L??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01455	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01456	    SSP1BUF = WRITE_ADDR_L.BYTE0    'SAVE THE LOW BYTE OF THE LSW OF WHERE THE TEST THAT IS ABOUT TO BE EXECUTED WILL BE STORED
	MOVE?BB	_WRITE_ADDR_L??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01457	    PAUSEUS 1                       'PAUSE TO ALLOW THE PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01458	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE  
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01459	    META_ADDR = META_ADDR + 4       'AUTOINCREMENT THE META_ADDR SO THE NEXT TEST WILL LOCATION WILL STORE IN THE NEXT PORTION OF THE METAD
	ADD?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01460	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01462	READ_METADATA:                      'READS THE META DATA SECTOR (ADDRESS 0-503 OF FLASH) AND STORES DATA INTO 2 META DATA BUFFERS (1 SINGLE

	LABEL?L	_READ_METADATA	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01463	    GOSUB INIT_SPI
	GOSUB?L	_INIT_SPI

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01464	    FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE                    
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01465	    SSP1BUF = READ_4B_ADDR_CMD      'SEND READ COMMAND TO FLASH
	MOVE?CB	_READ_4B_ADDR_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01466	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01467	    SSP1BUF = 0                     'SEND 0 (MSB OF MSW OF ADDRESS)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01468	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01469	    SSP1BUF = 0                     'SEND 0 (LSB OF MSW OF ADDRESS)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01470	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01471	    SSP1BUF = 0                     'SEND 0 (MSB OF LSW OF ADDRESS)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01472	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01473	    SSP1BUF = 0                     'SEND 0 (LSB OF LSW OF ADDRESS)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01474	    PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01475	    FOR I = 0 TO 251                'LOOPS TO READ 252 BYTES
	MOVE?CW	000h, _I
	LABEL?L	L00168	
	CMPGT?WCL	_I, 0FBh, L00169

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01476	        SSP1BUF = 0                 'SEND 0 (DUMMY CLOCK CYCLE)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01477	        PAUSEUS 1                   'PAUSE TO ALLOW THE DATA TO TRANSMIT
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01478	        META_BUFFER_1[I] = SSP1BUF  'STORE THE RECEIVED DATA
	AIN?BBW	SSP1BUF, _META_BUFFER_1, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01479	    NEXT I
	NEXT?WCL	_I, 001h, L00168
	LABEL?L	L00169	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01480	    FOR I = 0 TO 251
	MOVE?CW	000h, _I
	LABEL?L	L00170	
	CMPGT?WCL	_I, 0FBh, L00171

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01481	        SSP1BUF = 0                 'SEND 0 (DUMMY CLOCK CYCLE)
	MOVE?CB	000h, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01482	        PAUSEUS 1                   'PAUSE TO ALLOW THE DATA TO TRANSMIT
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01483	        META_BUFFER_2[I] = SSP1BUF  'STORE THE RECEIVED DATA  
	AIN?BBW	SSP1BUF, _META_BUFFER_2, _I

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01484	    NEXT I
	NEXT?WCL	_I, 001h, L00170
	LABEL?L	L00171	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01485	    FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01486	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01488	PRINT_METADATA:                  'READS AND PRINTS (VIA UART TO PC) THE META DATA SECTOR (ADDRESS 0-503 OF FLASH)

	LABEL?L	_PRINT_METADATA	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01489	    GOSUB READ_METADATA          'READS THE METADATA SECTOR AND STORES THE DATA IN META_BUFFER_1 AND META_BUFFER_2
	GOSUB?L	_READ_METADATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01491	    for I = 0 to 251             'PRINTS THE EACH VALUE OF META_BUFFER_1 TO THE PC VIA UART
	MOVE?CW	000h, _I
	LABEL?L	L00172	
	CMPGT?WCL	_I, 0FBh, L00173

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01492	        TX_BYTE = META_BUFFER_1[I] 'SET UART TRANSMISSION VARIABLE EQUAL TO THE DATA IN THE CURRENT ADDRESS OF THE META_BUFFER_1
	AOUT?BWB	_META_BUFFER_1, _I, _TX_BYTE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01493	        GOSUB TX_HEX_BYTE_115200   'TRANSMIT THE VALUE OF TX_DATA AT 115200 BAUD 
	GOSUB?L	_TX_HEX_BYTE_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01494	        next I                      
	NEXT?WCL	_I, 001h, L00172
	LABEL?L	L00173	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01495	    for I = 0 to 251             'PRINTS THE EACH VALUE OF META_BUFFER_2 TO THE PC VIA UART
	MOVE?CW	000h, _I
	LABEL?L	L00174	
	CMPGT?WCL	_I, 0FBh, L00175

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01496	        TX_BYTE = META_BUFFER_2[I] 'SET UART TRANSMISSION VARIABLE EQUAL TO THE DATA IN THE CURRENT ADDRESS OF THE META_BUFFER_2   
	AOUT?BWB	_META_BUFFER_2, _I, _TX_BYTE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01497	        GOSUB TX_HEX_BYTE_115200   'TRANSMIT THE VALUE OF TX_DATA AT 115200 BAUD   
	GOSUB?L	_TX_HEX_BYTE_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01498	        next I  
	NEXT?WCL	_I, 001h, L00174
	LABEL?L	L00175	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01499	    GOSUB UART_CRLF                    
	GOSUB?L	_UART_CRLF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01500	return 
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01502	SEND_DATA_TO_PC:                'TRANSMITS ALL TESTS FROM THE FLASH MEMORY TO THE PC VIA UART WITH A DELIMITER FOR THE RECIEVING JAVA PROGR

	LABEL?L	_SEND_DATA_TO_PC	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01503	    gosub INIT_NAVIG_VARS
	GOSUB?L	_INIT_NAVIG_VARS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01505	    TEMP_WRITE_ADDR_H = 0       'START THE TRANSMISSION WHERE THE FIRST TEST DATA IS STORED
	MOVE?CW	000h, _TEMP_WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01506	    TEMP_WRITE_ADDR_L = 512     '^^^
	MOVE?CW	00200h, _TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01508	    IF META_ADDR = 0  THEN                                   'EXECUTES IF THERE ARE NO TESTS SAVED ON THE FLASH
	CMPNE?WCL	_META_ADDR, 000h, L00176

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01509	       IF DATA_OUT_BYPASS=1 THEN BYPASS13
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS13

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01510	       GOSUB CLR                                             'CLEAR THE LCD
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01511	       OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01512	       serout DSP, N9600, [POSCMD, LINE2, "NO TEST DATA FOUND"] 'PRINT TO THE LCD TO NOTIFY THE USER THAT NO TESTING DATA HAS BEEN FOUND
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE2
	SEROUT?C	04Eh
	SEROUT?C	04Fh
	SEROUT?C	020h
	SEROUT?C	054h
	SEROUT?C	045h
	SEROUT?C	053h
	SEROUT?C	054h
	SEROUT?C	020h
	SEROUT?C	044h
	SEROUT?C	041h
	SEROUT?C	054h
	SEROUT?C	041h
	SEROUT?C	020h
	SEROUT?C	046h
	SEROUT?C	04Fh
	SEROUT?C	055h
	SEROUT?C	04Eh
	SEROUT?C	044h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01513	       INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01514	BYPASS13:

	LABEL?L	_BYPASS13	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01515	       FOR LED_COUNTER = 1 TO 5
	MOVE?CW	001h, _LED_COUNTER
	LABEL?L	L00178	
	CMPGT?WCL	_LED_COUNTER, 005h, L00179

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01516	             RED_LED = 1                                     'BLINK GREEN LED
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01517	             PAUSE 500                                       '^^^
	PAUSE?C	001F4h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01518	             RED_LED = 0                                     '^^^
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01519	             PAUSE 500                                       '^^^                                                                          
	PAUSE?C	001F4h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01520	       NEXT LED_COUNTER
	NEXT?WCL	_LED_COUNTER, 001h, L00178
	LABEL?L	L00179	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01521	       BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01523	    ELSE                                                     'EXECUTES IF THERE ARE TESTS SAVED ON THE FLASH
	GOTO?L	L00177
	LABEL?L	L00176	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01524	        for I = 1 to 50                                      'SEND 50 NULL CHARACTERS TO ALL UART DONGLE TO LATCH TO THE BAUD RATE
	MOVE?CW	001h, _I
	LABEL?L	L00180	
	CMPGT?WCL	_I, 032h, L00181

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01525	            TX_DATA = 0                                      'SET UART TRANSMISSION VARIABLE TO 0 (NULL CHARACTER)
	MOVE?CB	000h, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01526	            gosub UART_TX_VAR_115200                         'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01527	        next I  
	NEXT?WCL	_I, 001h, L00180
	LABEL?L	L00181	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01528	        NUM_OF_TESTS = META_ADDR/4                          'CALCULATES THE NUMBER OF TESTS STORED IN THE FLASH MEMORY
	DIV?WCB	_META_ADDR, 004h, _NUM_OF_TESTS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01529	        IF DATA_OUT_BYPASS=1 THEN BYPASS14
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS14

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01530	        OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01531	        serout DSP, N9600, [POSCMD, LINE3, #NUM_OF_TESTS]   'PRINT THE NUMBER OF TEST STORED IN THE FLASH TO THE LCD   
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE3
	SEROUTD?B	_NUM_OF_TESTS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01532	        INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01533	BYPASS14:

	LABEL?L	_BYPASS14	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01534	        GOSUB SEND_TEST_PARAMS
	GOSUB?L	_SEND_TEST_PARAMS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01535	        META_ADDR = 0                                       'START AT THE BEGINNING OF THE METADATA SECTOR
	MOVE?CW	000h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01536	        GOSUB READ_METADATA                                 'READ THE METADATA SECTOR AND STORE IT IN META)BUFFER_1 AND 2
	GOSUB?L	_READ_METADATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01538	        FOR TEST_TX_COUNTER = 1 TO NUM_OF_TESTS             'EXECUTES FOR EACH TEST STORED IN THE FLASH
	MOVE?CW	001h, _TEST_TX_COUNTER
	LABEL?L	L00182	
	CMPGT?WBL	_TEST_TX_COUNTER, _NUM_OF_TESTS, L00183

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01539	            IF META_ADDR == 0 THEN
	CMPNE?WCL	_META_ADDR, 000h, L00184

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01540	                TEMP_WRITE_ADDR_H = 0
	MOVE?CW	000h, _TEMP_WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01541	                TEMP_WRITE_ADDR_L = 512
	MOVE?CW	00200h, _TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01543	                END_WRITE_ADDR_H.BYTE1 = META_BUFFER_1[META_ADDR]
	AOUT?BWB	_META_BUFFER_1, _META_ADDR, _END_WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01544	                END_WRITE_ADDR_H.BYTE0 = META_BUFFER_1[META_ADDR + 1]
	ADD?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01545	                END_WRITE_ADDR_L.BYTE1 = META_BUFFER_1[META_ADDR + 2]
	ADD?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01546	                END_WRITE_ADDR_L.BYTE0 = META_BUFFER_1[META_ADDR + 3]
	ADD?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01547	            ELSEIF META_ADDR <= 248 THEN                             'EXECUTES IF THE CURRENT TEST ADDRESS WOULD BE STORED IN META_BUFFER_1
	GOTO?L	L00185
	LABEL?L	L00184	
	CMPGT?WCL	_META_ADDR, 0F8h, L00186

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01548	                TEMP_WRITE_ADDR_H.byte1 = META_BUFFER_1[META_ADDR - 4] 'SET THE START ADDRESS OF THE TRANSMISSION TO THE ADDRESS STORED IN 
	SUB?WCW	_META_ADDR, 004h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _TEMP_WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01549	                TEMP_WRITE_ADDR_H.byte0 = META_BUFFER_1[META_ADDR - 3]'^^^
	SUB?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _TEMP_WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01550	                TEMP_WRITE_ADDR_L.byte1 = META_BUFFER_1[META_ADDR - 2] '^^^
	SUB?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _TEMP_WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01551	                TEMP_WRITE_ADDR_L.byte0 = META_BUFFER_1[META_ADDR - 1] '^^^
	SUB?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _TEMP_WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01553	                END_WRITE_ADDR_H.BYTE1 = META_BUFFER_1[META_ADDR]
	AOUT?BWB	_META_BUFFER_1, _META_ADDR, _END_WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01554	                END_WRITE_ADDR_H.BYTE0 = META_BUFFER_1[META_ADDR + 1]
	ADD?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01555	                END_WRITE_ADDR_L.BYTE1 = META_BUFFER_1[META_ADDR + 2]
	ADD?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01556	                END_WRITE_ADDR_L.BYTE0 = META_BUFFER_1[META_ADDR + 3]
	ADD?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_1, T1, _END_WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01557	            ELSE                                            'EXECUTES IF THE CURRENT TEST ADDRESS WOULD BE STORED IN META_BUFFER_2
	GOTO?L	L00185
	LABEL?L	L00186	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01558	                TEMP_WRITE_ADDR_H.byte1 = META_BUFFER_2[META_ADDR - 4] 'SET THE START ADDRESS OF THE TRANSMISSION TO THE ADDRESS STORED IN 
	SUB?WCW	_META_ADDR, 004h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _TEMP_WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01559	                TEMP_WRITE_ADDR_H.byte0 = META_BUFFER_2[META_ADDR - 3]'^^^
	SUB?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _TEMP_WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01560	                TEMP_WRITE_ADDR_L.byte1 = META_BUFFER_2[META_ADDR - 2] '^^^
	SUB?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _TEMP_WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01561	                TEMP_WRITE_ADDR_L.byte0 = META_BUFFER_2[META_ADDR - 1] '^^^
	SUB?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _TEMP_WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01563	                END_WRITE_ADDR_H.BYTE1 = META_BUFFER_2[META_ADDR]
	AOUT?BWB	_META_BUFFER_2, _META_ADDR, _END_WRITE_ADDR_H??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01564	                END_WRITE_ADDR_H.BYTE0 = META_BUFFER_2[META_ADDR + 1]
	ADD?WCW	_META_ADDR, 001h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _END_WRITE_ADDR_H??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01565	                END_WRITE_ADDR_L.BYTE1 = META_BUFFER_2[META_ADDR + 2]
	ADD?WCW	_META_ADDR, 002h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _END_WRITE_ADDR_L??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01566	                END_WRITE_ADDR_L.BYTE0 = META_BUFFER_2[META_ADDR + 3]
	ADD?WCW	_META_ADDR, 003h, T1
	AOUT?BWB	_META_BUFFER_2, T1, _END_WRITE_ADDR_L??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01567	            ENDIF
	LABEL?L	L00185	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01568	            IF DATA_OUT_BYPASS=1 THEN BYPASS15
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS15

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01569	            GOSUB CLR
	GOSUB?L	_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01570	            OUTPUT DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01571	            serout DSP, N9600, [POSCMD, LINE3, #TEMP_WRITE_ADDR_H,",", #TEMP_WRITE_ADDR_L]  'PRINT THE STARTING ADDRESS TO THE LCD (DEBUG)
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE3
	SEROUTD?W	_TEMP_WRITE_ADDR_H
	SEROUT?C	02Ch
	SEROUTD?W	_TEMP_WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01572	            INPUT DSP
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01573	BYPASS15:

	LABEL?L	_BYPASS15	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01574	            for I = 0 to 9                                'SENDS 0-9 AS A TEST DELIMITER FOR THE JAVA PROGRAM
	MOVE?CW	000h, _I
	LABEL?L	L00188	
	CMPGT?WCL	_I, 009h, L00189

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01575	                TX_DATA = I                               'SET UART TRANSMISSION VARIABLE TO THE VALUE OF I (DELIMITER)
	MOVE?WB	_I, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01576	                gosub UART_TX_VAR_115200                  'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01577	            next I  
	NEXT?WCL	_I, 001h, L00188
	LABEL?L	L00189	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01579	            WHILE TEMP_WRITE_ADDR_H < END_WRITE_ADDR_H OR TEMP_WRITE_ADDR_L < END_WRITE_ADDR_L  
	LABEL?L	L00190	
	CMPLT?WWB	_TEMP_WRITE_ADDR_H, _END_WRITE_ADDR_H, T1
	CMPLT?WWB	_TEMP_WRITE_ADDR_L, _END_WRITE_ADDR_L, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00191

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01581	                gosub READ_FLASH_AUTO_INC                    'READ A SECTOR OF THE FLASH AND STORE THE DATA IN READ_BUFFER_1 AND READ_BUFFE
	GOSUB?L	_READ_FLASH_AUTO_INC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01582	                for I = 0 to 251                            'LOOPS THROUGH EACH VALUE OF THE READ_BUFFER_1
	MOVE?CW	000h, _I
	LABEL?L	L00192	
	CMPGT?WCL	_I, 0FBh, L00193

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01583	                    TX_DATA = READ_BUFFER_1[I]              'SET UART TRANSMISSION VARIABLE TO THE DATA BYTE AT THE CURRENT ADDRESS OF THE 
	AOUT?BWB	_READ_BUFFER_1, _I, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01584	                    GOSUB UART_TX_VAR_115200                'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01585	               	next I
	NEXT?WCL	_I, 001h, L00192
	LABEL?L	L00193	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01586	                if PB == 1 OR RCVR_D1 = 1 then EXIT_SEND_DATA_TO_PC
	CMPEQ?TCB	_PB, 001h, T1
	CMPEQ?TCB	_RCVR_D1, 001h, T2
	LOR?BBL	T1, T2, _EXIT_SEND_DATA_TO_PC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01587	                for I = 0 to 251                           'LOOPS THROUGH EACH VALUE OF THE READ_BUFFER_2
	MOVE?CW	000h, _I
	LABEL?L	L00194	
	CMPGT?WCL	_I, 0FBh, L00195

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01588	                    TX_DATA = READ_BUFFER_2[I]             'SET UART TRANSMISSION VARIABLE TO THE DATA BYTE AT THE CURRENT ADDRESS OF THE R
	AOUT?BWB	_READ_BUFFER_2, _I, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01589	                    GOSUB UART_TX_VAR_115200               'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01590	                next I
	NEXT?WCL	_I, 001h, L00194
	LABEL?L	L00195	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01591	            WEND
	GOTO?L	L00190
	LABEL?L	L00191	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01592	            META_ADDR = META_ADDR + 4                     'MOVE TO THE NEXT META_ADDRESS
	ADD?WCW	_META_ADDR, 004h, _META_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01593	            for I = 9 to 0 step -1                               'SENDS 0-9 AS A TEST DELIMITER FOR THE JAVA PROGRAM
	MOVE?CW	009h, _I
	LABEL?L	L00196	
	CMPLT?WCL	_I, 000h, L00197

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01594	                TX_DATA = I                               'SET UART TRANSMISSION VARIABLE TO THE VALUE OF I (DELIMITER)
	MOVE?WB	_I, _TX_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01595	                gosub UART_TX_VAR_115200                  'TRANSMITS THE VALUE OF TX_DATA TO THE PC VIA UART AT 115200 BAUD
	GOSUB?L	_UART_TX_VAR_115200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01596	            next I  
	NEXTM?WCL	_I, 001h, L00196
	LABEL?L	L00197	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01597	         NEXT TEST_TX_COUNTER   
	NEXT?WCL	_TEST_TX_COUNTER, 001h, L00182
	LABEL?L	L00183	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01598	    ENDIF
	LABEL?L	L00177	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01599	EXIT_SEND_DATA_TO_PC:

	LABEL?L	_EXIT_SEND_DATA_TO_PC	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01600	    BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01601	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01604	LED_COUNTDOWN:                         'LED SEQUENCE THAT BLINKS BEFORE A TEST BEGINS

	LABEL?L	_LED_COUNTDOWN	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01605	  	GRN_LED = 1
	MOVE?CT	001h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01606		pause 750
	PAUSE?C	002EEh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01607		GRN_LED = 0 
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01608		pause 250
	PAUSE?C	0FAh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01609		RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01610		pause 750
	PAUSE?C	002EEh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01611		RED_LED = 0 
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01612		pause 250
	PAUSE?C	0FAh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01613		BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01614		pause 750
	PAUSE?C	002EEh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01615		BLUE_LED = 0 
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01616		pause 250  
	PAUSE?C	0FAh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01617	return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01619	INIT_TMR0_VARS:

	LABEL?L	_INIT_TMR0_VARS	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01620	    SELECT CASE ACCEL_GYRO_SAMPLE_RATE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01622	    CASE 60
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 03Ch, L00200

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01623	        T0CON_CONFIG_DATA = %10000001            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	081h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01625	        TMR0_TICK_THRESHOLD = TMR0_THRESH_60_60
	MOVE?CW	_TMR0_THRESH_60_60, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01626	    CASE 120
	GOTO?L	L00199
	LABEL?L	L00200	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 078h, L00201

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01627	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01629	        TMR0_TICK_THRESHOLD = TMR0_THRESH_120_120
	MOVE?CW	_TMR0_THRESH_120_120, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01630	    CASE 240
	GOTO?L	L00199
	LABEL?L	L00201	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 0F0h, L00202

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01631	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01633	        TMR0_TICK_THRESHOLD = TMR0_THRESH_240_24
	MOVE?CW	_TMR0_THRESH_240_24, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01634	    CASE 480
	GOTO?L	L00199
	LABEL?L	L00202	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 001E0h, L00203

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01635	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01637	        TMR0_TICK_THRESHOLD = TMR0_THRESH_480_48
	MOVE?CW	_TMR0_THRESH_480_48, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01638	    CASE 500
	GOTO?L	L00199
	LABEL?L	L00203	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 001F4h, L00204

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01639	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01641	        TMR0_TICK_THRESHOLD = TMR0_THRESH_500_50
	MOVE?CW	_TMR0_THRESH_500_50, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01642	    CASE 960
	GOTO?L	L00199
	LABEL?L	L00204	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 003C0h, L00205

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01643	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01645	        TMR0_TICK_THRESHOLD = TMR0_THRESH_960_96
	MOVE?CW	_TMR0_THRESH_960_96, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01646	    CASE 1000
	GOTO?L	L00199
	LABEL?L	L00205	
	CMPNE?WCL	_ACCEL_GYRO_SAMPLE_RATE, 003E8h, L00206

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01647	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01649	        TMR0_TICK_THRESHOLD = TMR0_THRESH_1000_100
	MOVE?CW	_TMR0_THRESH_1000_100, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01650	    CASE ELSE
	GOTO?L	L00199
	LABEL?L	L00206	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01651	        T0CON_CONFIG_DATA = %10000000            'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE,
	MOVE?CB	080h, _T0CON_CONFIG_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01653	        TMR0_TICK_THRESHOLD = TMR0_THRESH_120_120
	MOVE?CW	_TMR0_THRESH_120_120, _TMR0_TICK_THRESHOLD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01654	    END SELECT
	LABEL?L	L00199	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01655	    TMR0H = (65535 - TMR0_TICK_THRESHOLD) / 256     'SET HIGH BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	SUB?CWW	0FFFFh, _TMR0_TICK_THRESHOLD, T1
	DIV?WCB	T1, 00100h, TMR0H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01656	    TMR0L = (65535 - TMR0_TICK_THRESHOLD) // 256    'SET LOW BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	SUB?CWW	0FFFFh, _TMR0_TICK_THRESHOLD, T1
	MOD?WCB	T1, 00100h, TMR0L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01657	    INTCON.2 = 0                                    'RESET TMR0 OVERFLOW INTERRUPT
	MOVE?CT	000h, _INTCON??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01658	RETURN
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01659	DISABLE_TMR0 

	LABEL?L	_DISABLE_TMR0	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01660	    T0CON = %00000000   
	MOVE?CB	000h, T0CON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01661	    INTCON.2 = 0                                    'RESET TMR0 OVERFLOW INTERRUPT
	MOVE?CT	000h, _INTCON??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01662	RETURN  
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01665	COLLECT_DATA:                       'COLLECT DATA FROM MPU AND STORE IT IN THE FLASH MEMORY BASED ON THE PARAMETER CONSTANTS DEFINED AT THE

	LABEL?L	_COLLECT_DATA	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01667	    GOSUB INIT_TMR0_VARS            'INITIALIZE VARIABLES THAT DETERMINE THE PRESCALER AND SAMPLE RATE FOR SAMPLING DATA
	GOSUB?L	_INIT_TMR0_VARS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01669	    if REMOTE_FLAG == 0 THEN
	CMPNE?TCL	_REMOTE_FLAG, 000h, L00207

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01670	        gosub LED_COUNTDOWN             'LED COUNTDOWN TO THE BEGINNING OF THE TEST
	GOSUB?L	_LED_COUNTDOWN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01671	        ENDIF
	LABEL?L	L00207	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01672	    BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01673	    GRN_LED = 0
	MOVE?CT	000h, _GRN_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01674	    RED_LED = 0                     'TURN ON THE RED LED TO NOTIFY THE USER THAT DATA IS BEING COLLECTED
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01675	    SET_COUNTER = 0                 'RESET COUNTER THAT DETERMINES WHEN TO MOVE TO THE NEXT SECTOR
	MOVE?CB	000h, _SET_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01677	    ON interrupt goto SAMPLE_DATA                    'SPECIFIES THE SUBROUTINE TO EXECUTE WHEN AN INTERRUPT IS DETECTED
	ONINT?LL	_SAMPLE_DATA, L00004

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01678	    INTCON = %10100000                               'ENABLES GLOBAL INTERRUPTS AND TMR0 INTERRUPT SPECIFICALLY 
	ICALL?L	L00004
	MOVE?CB	0A0h, INTCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01679	    SECOND_COUNTER = 1
	ICALL?L	L00004
	MOVE?CW	001h, _SECOND_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01680	    SAMPLE_NUM = 1
	ICALL?L	L00004
	MOVE?CW	001h, _SAMPLE_NUM

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01681	    TEMP_REMOTE_FLAG = 0
	ICALL?L	L00004
	MOVE?CT	000h, _TEMP_REMOTE_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01684	    OUTPUT UART_TX                                   'SET PIC'S UART TX PIN TO OUTPUT SO IT CAN BE USED TO MONITOR INTERRUPT TIMING
	ICALL?L	L00004
	OUTPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01685	ENABLE
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01686	    T0CON = T0CON_CONFIG_DATA                       'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE, 
	ICALL?L	L00004
	MOVE?BB	_T0CON_CONFIG_DATA, T0CON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01690	    INT_EN_FLAG = 1
	ICALL?L	L00004
	MOVE?CT	001h, _INT_EN_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01691	    IF REMOTE_FLAG == 1 THEN
	ICALL?L	L00004
	CMPNE?TCL	_REMOTE_FLAG, 001h, L00209

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01692	        WHILE REMOTE_FLAG == 1                      'LOOPS FOR EACH SECOND AS DEFINED BY TEST_DURATION
	ICALL?L	L00004
	LABEL?L	L00211	
	CMPNE?TCL	_REMOTE_FLAG, 001h, L00212

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01693	            ENABLE
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01694	            WHILE SAMPLE_NUM <= ACCEL_GYRO_SAMPLE_RATE  'EXECUTES FOR EACH SAMPLE THAT NEEDS TO BE TAKEN PER SECOND
	ICALL?L	L00004
	LABEL?L	L00213	
	CMPGT?WWL	_SAMPLE_NUM, _ACCEL_GYRO_SAMPLE_RATE, L00214

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01697	                IF RCVR_D0 == 1 && TEMP_REMOTE_FLAG == 1 THEN
	ICALL?L	L00004
	CMPEQ?TCB	_RCVR_D0, 001h, T1
	CMPEQ?TCB	_TEMP_REMOTE_FLAG, 001h, T2
	LAND?BBW	T1, T2, T2
	CMPF?WL	T2, L00215

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01698	                    goto STOP_TEST
	ICALL?L	L00004
	GOTO?L	_STOP_TEST

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01699	                ELSEIF REMOTE_FLAG == 0 && TEMP_REMOTE_FLAG != 1 THEN
	ICALL?L	L00004
	GOTO?L	L00216
	LABEL?L	L00215	
	CMPEQ?TCB	_REMOTE_FLAG, 000h, T1
	CMPNE?TCB	_TEMP_REMOTE_FLAG, 001h, T2
	LAND?BBW	T1, T2, T2
	CMPF?WL	T2, L00217

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01700	                    TEMP_REMOTE_FLAG = 1
	ICALL?L	L00004
	MOVE?CT	001h, _TEMP_REMOTE_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01701	                endif
	ICALL?L	L00004
	LABEL?L	L00216	
	LABEL?L	L00217	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01703	            WEND
	ICALL?L	L00004
	GOTO?L	L00213
	LABEL?L	L00214	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01704	            DISABLE
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01705	            SAMPLE_NUM = 1
	MOVE?CW	001h, _SAMPLE_NUM

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01706	            SECOND_COUNTER = SECOND_COUNTER + 1
	ADD?WCW	_SECOND_COUNTER, 001h, _SECOND_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01708	CALIBRATION_RED_LED_CONTROL:

	LABEL?L	_CALIBRATION_RED_LED_CONTROL	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01709	                IF SECOND_COUNTER = 3 THEN          'Turn RED_LED "ON" for 60 seconds
	CMPNE?WCL	_SECOND_COUNTER, 003h, L00219

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01710	                    RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01711	                    ENDIF
	LABEL?L	L00219	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01712	                IF SECOND_COUNTER = 6 THEN        'Turn RED_LED "OFF" (Stays "OFF" for remainder of test)
	CMPNE?WCL	_SECOND_COUNTER, 006h, L00221

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01713	                    RED_LED = 0
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01714	                    ENDIF
	LABEL?L	L00221	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01715	        WEND
	GOTO?L	L00211
	LABEL?L	L00212	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01716	    ELSE
	GOTO?L	L00210
	LABEL?L	L00209	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01717	        WHILE SECOND_COUNTER <= TEST_DURATION           'LOOPS FOR EACH SECOND AS DEFINED BY TEST_DURATION
	LABEL?L	L00223	
	CMPGT?WWL	_SECOND_COUNTER, _TEST_DURATION, L00224

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01718	            ENABLE
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01719	            WHILE SAMPLE_NUM <= ACCEL_GYRO_SAMPLE_RATE  'EXECUTES FOR EACH SAMPLE THAT NEEDS TO BE TAKEN PER SECOND
	ICALL?L	L00004
	LABEL?L	L00225	
	CMPGT?WWL	_SAMPLE_NUM, _ACCEL_GYRO_SAMPLE_RATE, L00226

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01720	            WEND
	ICALL?L	L00004
	GOTO?L	L00225
	LABEL?L	L00226	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01721	            DISABLE
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01722	            SAMPLE_NUM = 1
	MOVE?CW	001h, _SAMPLE_NUM

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01723	            SECOND_COUNTER = SECOND_COUNTER + 1
	ADD?WCW	_SECOND_COUNTER, 001h, _SECOND_COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01724	                IF SECOND_COUNTER = 3 THEN
	CMPNE?WCL	_SECOND_COUNTER, 003h, L00227

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01725	                    RED_LED = 1
	MOVE?CT	001h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01726	                    ENDIF
	LABEL?L	L00227	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01727	        WEND
	GOTO?L	L00223
	LABEL?L	L00224	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01728	    ENDIF
	LABEL?L	L00210	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01729	    STOP_TEST:

	LABEL?L	_STOP_TEST	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01730	    GOSUB DISABLE_TMR0
	GOSUB?L	_DISABLE_TMR0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01731	DISABLE  'DISABLES INTERRUPTS UNTIL AN "ENABLE" KEYWORD IS ENCOUNTERED
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01732	    INPUT UART_TX                                                                'PIC'S UART TX PIN (CONNECTS TO PC'S RX PIN); must be conf
	INPUT?T	_UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01736	    BYTES_LEFT_IN_SECTOR = 511 - (WRITE_ADDR_L // 512)                           'CALCULATES HOW MANY EMPTY BYTES ARE LEFT IN THE CURRENT S
	MOD?WCW	_WRITE_ADDR_L, 00200h, T1
	SUB?CWW	001FFh, T1, _BYTES_LEFT_IN_SECTOR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01737	    WRITE_ADDR_L = WRITE_ADDR_L + BYTES_LEFT_IN_SECTOR                           'INCREMENT THE WRITE_ADDR_L TO THE END OF THE CURRENT SECT
	ADD?WWW	_WRITE_ADDR_L, _BYTES_LEFT_IN_SECTOR, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01738	    IF WRITE_ADDR_L == 65535 THEN                                                'EXECUTES IF THE END OF THE CURRENT SECTOR IS ABOUT TO OVE
	CMPNE?WCL	_WRITE_ADDR_L, 0FFFFh, L00229

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01739	       WRITE_ADDR_L = 0                                                          'RESET THE LOW WORD OF THE WRITE ADDRESS
	MOVE?CW	000h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01740	       WRITE_ADDR_H = WRITE_ADDR_H + 1                                           'INCREMENT THE HIGH ADDRESS BY 1 (MOVE TO THE BEGINNING OF
	ADD?WCW	_WRITE_ADDR_H, 001h, _WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01741	    ELSE                                                                         'EXECUTES IF THE WRITE_ADDR_L IS NOT ABOUT TO OVERFLOW
	GOTO?L	L00230
	LABEL?L	L00229	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01742	       WRITE_ADDR_L = WRITE_ADDR_L + 1                                           'MOVE TO THE BEGINNING OF THE NEXT SECTOR
	ADD?WCW	_WRITE_ADDR_L, 001h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01743	    ENDIF
	LABEL?L	L00230	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01745	    PAUSE 10
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01746	    GOSUB STORE_METADATA            'STORE THE CURRENT WRITE ADDRESS IN THE METADATA SECTOR SO THE PROGRAM CAN LATER DETERMINE WHERE THE DA
	GOSUB?L	_STORE_METADATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01747	    PAUSE 10
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01749	    RED_LED = 0                                                                  'TURN THE RED LED OFF TO NOTIFY THE USER THAT THE TEST IS 
	MOVE?CT	000h, _RED_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01750	return   
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01755	disable                             'DISABLES INTERRUPTS SO THE FOLLOWING OPERATION CANNOT BE INTERRUPTED UNTIL "ENABLE" IS CALLED
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01756	SAMPLE_DATA:                            'THIS IS THE INTERRUPT HANDLER SUBROUTINE

	LABEL?L	_SAMPLE_DATA	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01757	    TMR0H = (65535 - TMR0_TICK_THRESHOLD) / 256     'SET HIGH BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	SUB?CWW	0FFFFh, _TMR0_TICK_THRESHOLD, T1
	DIV?WCB	T1, 00100h, TMR0H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01758	    TMR0L = (65535 - TMR0_TICK_THRESHOLD) // 256    'SET LOW BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	SUB?CWW	0FFFFh, _TMR0_TICK_THRESHOLD, T1
	MOD?WCB	T1, 00100h, TMR0L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01759	    INTCON.2 = 0                                    'RESET TMR0 OVERFLOW INTERRUPT
	MOVE?CT	000h, _INTCON??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01762	    IF RCVR_D0 == 1 AND SECOND_COUNTER > 2 THEN
	CMPEQ?TCB	_RCVR_D0, 001h, T1
	CMPGT?WCB	_SECOND_COUNTER, 002h, T2
	LAND?BBW	T1, T2, T2
	CMPF?WL	T2, L00231

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01763	        GOSUB PROCESS_RCVR_D0
	GOSUB?L	_PROCESS_RCVR_D0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01764	        REMOTE_FLAG = 0
	MOVE?CT	000h, _REMOTE_FLAG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01765	    ENDIF
	LABEL?L	L00231	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01766	    IF INIT_FLAG == 1 AND INT_EN_FLAG == 1 THEN
	CMPEQ?TCB	_INIT_FLAG, 001h, T1
	CMPEQ?TCB	_INT_EN_FLAG, 001h, T2
	LAND?BBW	T1, T2, T2
	CMPF?WL	T2, L00233

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01768	        UART_TX = 1
	MOVE?CT	001h, _UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01790	        IF (SAMPLE_NUM // (ACCEL_GYRO_SAMPLE_RATE/MAG_SAMPLE_RATE)) == 1 OR (ACCEL_GYRO_SAMPLE_RATE ==  MAG_SAMPLE_RATE) THEN 'EXECUTES IF 
	DIV?WWW	_ACCEL_GYRO_SAMPLE_RATE, _MAG_SAMPLE_RATE, T1
	MOD?WWW	_SAMPLE_NUM, T1, T1
	CMPEQ?WCB	T1, 001h, T1
	CMPEQ?WWB	_ACCEL_GYRO_SAMPLE_RATE, _MAG_SAMPLE_RATE, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00235

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01794	                SSP2CON2.0 = 1                     'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01795	                while SSP2CON2.0 == 1              'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00237	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00238

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01796	                wend                               'ISSUE A START COMMAND ON THE I2C BUS
	GOTO?L	L00237
	LABEL?L	L00238	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01799	                SSP2BUF = MPU_ADDR_W               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_W, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01800	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00239	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00240

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01801	                WEND
	GOTO?L	L00239
	LABEL?L	L00240	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01802	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01803	                SSP2BUF = ACCEL_XOUT_H_ADDR        'SEND THE FIRST ACCEL REGISTER ADDRESS ON THE I2C BUS (ADDRESS WILL AUTOINCREMENT WHEN B
	MOVE?CB	_ACCEL_XOUT_H_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01804	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00241	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00242

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01805	                WEND
	GOTO?L	L00241
	LABEL?L	L00242	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01806	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01809	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01810	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00243	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00244

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01811	                wend 
	GOTO?L	L00243
	LABEL?L	L00244	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01814	                SSP2BUF = MPU_ADDR_r               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_R, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01815	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00245	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00246

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01816	                WEND
	GOTO?L	L00245
	LABEL?L	L00246	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01817	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01818	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01819	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00247	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00248

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01820	                WEND
	GOTO?L	L00247
	LABEL?L	L00248	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01821	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01822	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01823	                RAW_ACCEL_XOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_XOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01824	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01825	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01826	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00249	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00250

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01827	                WEND
	GOTO?L	L00249
	LABEL?L	L00250	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01828	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01829	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01830	                RAW_ACCEL_XOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_XOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01831	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01832	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01833	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00251	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00252

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01834	                WEND
	GOTO?L	L00251
	LABEL?L	L00252	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01835	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01836	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01837	                RAW_ACCEL_YOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_YOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01838	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01839	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01840	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00253	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00254

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01841	                WEND
	GOTO?L	L00253
	LABEL?L	L00254	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01842	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01843	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01844	                RAW_ACCEL_YOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_YOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01845	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01846	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01847	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00255	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00256

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01848	                WEND
	GOTO?L	L00255
	LABEL?L	L00256	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01849	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01850	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01851	                RAW_ACCEL_ZOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_ZOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01852	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01853	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01854	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00257	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00258

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01855	                WEND
	GOTO?L	L00257
	LABEL?L	L00258	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01856	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01857	                SSP2CON2.5 = 1                     'TELL THE PIC TO NOT ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO NOT 
	MOVE?CT	001h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01858	                RAW_ACCEL_ZOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_ZOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01859	                PAUSEUS 3                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01862	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01863	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00259	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00260

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01864	                wend
	GOTO?L	L00259
	LABEL?L	L00260	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01865	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01871	                SSP2CON2.0 = 1                     'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01872	                while SSP2CON2.0 == 1              'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00261	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00262

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01873	                wend                               'ISSUE A START COMMAND ON THE I2C BUS
	GOTO?L	L00261
	LABEL?L	L00262	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01876	                SSP2BUF = MPU_ADDR_W               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_W, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01877	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00263	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00264

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01878	                WEND
	GOTO?L	L00263
	LABEL?L	L00264	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01879	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01880	                SSP2BUF = GYRO_XOUT_H_ADDR         'SEND THE FIRST GYRO REGISTER ADDRESS ON THE I2C BUS (ADDRESS WILL AUTOINCREMENT WHEN BL
	MOVE?CB	_GYRO_XOUT_H_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01881	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00265	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00266

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01882	                WEND
	GOTO?L	L00265
	LABEL?L	L00266	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01883	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01886	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01887	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00267	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00268

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01888	                wend 
	GOTO?L	L00267
	LABEL?L	L00268	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01891	                SSP2BUF = MPU_ADDR_r               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_R, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01892	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00269	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00270

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01893	                WEND
	GOTO?L	L00269
	LABEL?L	L00270	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01894	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01895	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01896	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00271	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00272

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01897	                WEND
	GOTO?L	L00271
	LABEL?L	L00272	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01898	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01899	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01900	                RAW_GYRO_XOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_XOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01901	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01902	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01903	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00273	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00274

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01904	                WEND
	GOTO?L	L00273
	LABEL?L	L00274	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01905	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01906	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01907	                RAW_GYRO_XOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_XOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01908	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01909	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01910	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00275	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00276

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01911	                WEND
	GOTO?L	L00275
	LABEL?L	L00276	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01912	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01913	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01914	                RAW_GYRO_YOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_YOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01915	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01916	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01917	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00277	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00278

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01918	                WEND
	GOTO?L	L00277
	LABEL?L	L00278	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01919	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01920	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01921	                RAW_GYRO_YOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_YOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01922	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01923	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01924	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00279	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00280

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01925	                WEND
	GOTO?L	L00279
	LABEL?L	L00280	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01926	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01927	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01928	                RAW_GYRO_ZOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_ZOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01929	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01930	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01931	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00281	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00282

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01932	                WEND
	GOTO?L	L00281
	LABEL?L	L00282	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01933	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01934	                SSP2CON2.5 = 1                     'TELL THE PIC TO NOT ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO NOT 
	MOVE?CT	001h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01935	                RAW_GYRO_ZOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_ZOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01936	                PAUSEUS 3                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01939	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01940	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00283	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00284

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01941	                wend
	GOTO?L	L00283
	LABEL?L	L00284	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01942	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01947	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01948	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00285	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00286

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01949	                wend 
	GOTO?L	L00285
	LABEL?L	L00286	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01952	                SSP2BUF = MAG_ADDR_W
	MOVE?CB	_MAG_ADDR_W, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01953	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00287	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00288

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01954	                WEND
	GOTO?L	L00287
	LABEL?L	L00288	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01955	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01956	                SSP2BUF = MAG_XOUT_L_ADDR          'SEND THE FIRST MAG REGISTER ADDRESS ON THE I2C BUS (ADDRESS WILL AUTOINCREMENT WHEN BLO
	MOVE?CB	_MAG_XOUT_L_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01957	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00289	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00290

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01958	                WEND
	GOTO?L	L00289
	LABEL?L	L00290	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01959	                PAUSEUS 2                          'PAUSE REQUIRED TO ENSURE PREVIOUS INSTRUCTION FULLY EXECUTED
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01962	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01963	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00291	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00292

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01964	                wend 
	GOTO?L	L00291
	LABEL?L	L00292	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01967	                SSP2BUF = MAG_ADDR_R
	MOVE?CB	_MAG_ADDR_R, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01968	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00293	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00294

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01969	                WEND
	GOTO?L	L00293
	LABEL?L	L00294	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01970	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01971	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01972	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00295	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00296

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01973	                WEND
	GOTO?L	L00295
	LABEL?L	L00296	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01974	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01975	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01976	                RAW_MAG_XOUT.BYTE0 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_XOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01977	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01978	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01979	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00297	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00298

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01980	                WEND
	GOTO?L	L00297
	LABEL?L	L00298	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01981	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01982	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01983	                RAW_MAG_XOUT.BYTE1 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_XOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01984	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01985	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01986	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00299	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00300

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01987	                WEND
	GOTO?L	L00299
	LABEL?L	L00300	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01988	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01989	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01990	                RAW_MAG_YOUT.BYTE0 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_YOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01991	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01992	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01993	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00301	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00302

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01994	                WEND
	GOTO?L	L00301
	LABEL?L	L00302	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01995	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01996	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01997	                RAW_MAG_YOUT.BYTE1 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_YOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01998	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	01999	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02000	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00303	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00304

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02001	                WEND
	GOTO?L	L00303
	LABEL?L	L00304	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02002	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02003	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02004	                RAW_MAG_ZOUT.BYTE0 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_ZOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02005	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02006	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02007	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00305	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00306

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02008	                WEND
	GOTO?L	L00305
	LABEL?L	L00306	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02009	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02010	                SSP2CON2.5 = 1                     'TELL THE PIC TO NOT ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO NOT 
	MOVE?CT	001h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02011	                RAW_MAG_ZOUT.BYTE1 = SSP2BUF       'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_MAG_ZOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02012	                PAUSEUS 3                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02015	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02016	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00307	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00308

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02017	                wend
	GOTO?L	L00307
	LABEL?L	L00308	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02018	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02021	                I2C_SLAVE_W_ADDR = MAG_ADDR_W
	MOVE?CB	_MAG_ADDR_W, _I2C_SLAVE_W_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02022	                I2C_REG_ADDR = CNTL1_ADDR
	MOVE?CB	_CNTL1_ADDR, _I2C_REG_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02023	                I2C_DATA = CNTL1_CONFIG_DATA
	MOVE?CB	_CNTL1_CONFIG_DATA, _I2C_DATA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02026	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02027	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00309	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00310

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02028	                wend 
	GOTO?L	L00309
	LABEL?L	L00310	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02031	                SSP2BUF = I2C_SLAVE_W_ADDR   'SEND THE PASSED IN I2C SLAVE WRITE ADDRESS ON THE I2C BUS
	MOVE?BB	_I2C_SLAVE_W_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02032	                while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00311	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00312

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02033	                WEND
	GOTO?L	L00311
	LABEL?L	L00312	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02034	                PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02035	                SSP2BUF = I2C_REG_ADDR       'SEND THE PASSED IN REGISTER ADDRESS ON THE I2C BUS
	MOVE?BB	_I2C_REG_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02036	                while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00313	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00314

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02037	                WEND
	GOTO?L	L00313
	LABEL?L	L00314	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02038	                PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02039	                SSP2BUF = I2C_DATA           'SEND THE PASSED IN DATA ON THE I2C BUS
	MOVE?BB	_I2C_DATA, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02040	                PAUSEUS 1                    'PAUSE TO ENSURE DATA TRANSMISSION FLAG IS SET (ANOMALY)
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02041	                while SSP2STAT.0 == 1        'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00315	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00316

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02042	                WEND                         
	GOTO?L	L00315
	LABEL?L	L00316	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02043	                PAUSEUS 2                    'PAUSE TO ENSURE DATA IS FULLY SENT (ANOMALY)
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02046	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02047	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00317	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00318

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02048	                wend
	GOTO?L	L00317
	LABEL?L	L00318	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02049	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02053	                FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02054	                SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02055	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02056	                FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02057	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02058	                FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE                        
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02059	                SSP1BUF = PP_4B_ADDR_CMD        'SEND THE BLOCK WRITE, 4 BYTE ADDRESS COMMAND ON THE SPI BUS
	MOVE?CB	_PP_4B_ADDR_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02060	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02061	                SSP1BUF = WRITE_ADDR_H.byte1    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_H??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02062	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02063	                SSP1BUF = WRITE_ADDR_H.byte0    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_H??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02064	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02065	                SSP1BUF = WRITE_ADDR_L.byte1    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_L??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02066	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02067	                SSP1BUF = WRITE_ADDR_L.byte0    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_L??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02068	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02071	                SSP1BUF = RAW_ACCEL_XOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_XOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02072	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02073	                SSP1BUF = RAW_ACCEL_XOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_XOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02074	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02075	                SSP1BUF = RAW_ACCEL_YOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_YOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02076	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02077	                SSP1BUF = RAW_ACCEL_YOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_YOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02078	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02079	                SSP1BUF = RAW_ACCEL_ZOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_ZOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02080	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02081	                SSP1BUF = RAW_ACCEL_ZOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_ZOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02082	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02085	                SSP1BUF = RAW_GYRO_XOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_XOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02086	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02087	                SSP1BUF = RAW_GYRO_XOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_XOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02088	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02089	                SSP1BUF = RAW_GYRO_YOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_YOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02090	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02091	                SSP1BUF = RAW_GYRO_YOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_YOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02092	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02093	                SSP1BUF = RAW_GYRO_ZOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_ZOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02094	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02095	                SSP1BUF = RAW_GYRO_ZOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_ZOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02096	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02099	                SSP1BUF = RAW_MAG_XOUT.byte1    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_XOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02100	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02101	                SSP1BUF = RAW_MAG_XOUT.byte0    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_XOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02102	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02103	                SSP1BUF = RAW_MAG_YOUT.byte1    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_YOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02104	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02105	                SSP1BUF = RAW_MAG_YOUT.byte0    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_YOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02106	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02107	                SSP1BUF = RAW_MAG_ZOUT.byte1    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_ZOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02108	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02109	                SSP1BUF = RAW_MAG_ZOUT.byte0    'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_MAG_ZOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02110	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCITON TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02111	                FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE                       
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02113	                if WRITE_ADDR_L + 18 == 65528 then
	ADD?WCW	_WRITE_ADDR_L, 012h, T1
	CMPNE?WCL	T1, 0FFF8h, L00319

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02114	                    WRITE_ADDR_H = WRITE_ADDR_H + 1
	ADD?WCW	_WRITE_ADDR_H, 001h, _WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02115	                    WRITE_ADDR_L = 0
	MOVE?CW	000h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02116	                elseif (WRITE_ADDR_L + 18) // 512 == 504 then
	GOTO?L	L00320
	LABEL?L	L00319	
	ADD?WCW	_WRITE_ADDR_L, 012h, T1
	MOD?WCW	T1, 00200h, T1
	CMPNE?WCL	T1, 001F8h, L00321

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02117	                    WRITE_ADDR_L = WRITE_ADDR_L + 8 + 18
	ADD?WCW	_WRITE_ADDR_L, 008h, T1
	ADD?WCW	T1, 012h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02118	                else
	GOTO?L	L00320
	LABEL?L	L00321	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02119	                    WRITE_ADDR_L = WRITE_ADDR_L + 18'ADD 18 TO THE WRITE ADDRESS SINCE 18 BYTES WERE JUST WRITTEN TO THE FLASH
	ADD?WCW	_WRITE_ADDR_L, 012h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02120	                    endif
	LABEL?L	L00320	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02122	        ELSE                                     'EXECUTES IF ONLY THE ACCEL/GYRO SHOULD BE READ ON THIS SAMPLE
	GOTO?L	L00236
	LABEL?L	L00235	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02127	                SSP2CON2.0 = 1                     'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02128	                while SSP2CON2.0 == 1              'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00323	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00324

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02129	                wend                               'ISSUE A START COMMAND ON THE I2C BUS
	GOTO?L	L00323
	LABEL?L	L00324	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02132	                SSP2BUF = MPU_ADDR_W               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_W, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02133	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00325	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00326

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02134	                WEND
	GOTO?L	L00325
	LABEL?L	L00326	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02135	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02136	                SSP2BUF = ACCEL_XOUT_H_ADDR        'SEND THE FIRST ACCEL REGISTER ADDRESS ON THE I2C BUS (ADDRESS WILL AUTOINCREMENT WHEN B
	MOVE?CB	_ACCEL_XOUT_H_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02137	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00327	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00328

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02138	                WEND
	GOTO?L	L00327
	LABEL?L	L00328	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02139	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02142	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02143	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00329	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00330

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02144	                wend 
	GOTO?L	L00329
	LABEL?L	L00330	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02147	                SSP2BUF = MPU_ADDR_r               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_R, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02148	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00331	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00332

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02149	                WEND
	GOTO?L	L00331
	LABEL?L	L00332	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02150	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02151	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02152	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00333	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00334

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02153	                WEND
	GOTO?L	L00333
	LABEL?L	L00334	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02154	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02155	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02156	                RAW_ACCEL_XOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_XOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02157	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02158	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02159	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00335	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00336

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02160	                WEND
	GOTO?L	L00335
	LABEL?L	L00336	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02161	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02162	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02163	                RAW_ACCEL_XOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_XOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02164	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02165	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02166	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00337	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00338

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02167	                WEND
	GOTO?L	L00337
	LABEL?L	L00338	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02168	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02169	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02170	                RAW_ACCEL_YOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_YOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02171	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02172	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02173	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00339	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00340

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02174	                WEND
	GOTO?L	L00339
	LABEL?L	L00340	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02175	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02176	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02177	                RAW_ACCEL_YOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_YOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02178	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02179	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02180	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00341	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00342

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02181	                WEND
	GOTO?L	L00341
	LABEL?L	L00342	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02182	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02183	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02184	                RAW_ACCEL_ZOUT.BYTE1 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_ZOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02185	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02186	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02187	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00343	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00344

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02188	                WEND
	GOTO?L	L00343
	LABEL?L	L00344	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02189	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02190	                SSP2CON2.5 = 1                     'TELL THE PIC TO NOT ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO NOT 
	MOVE?CT	001h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02191	                RAW_ACCEL_ZOUT.BYTE0 = SSP2BUF     'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_ACCEL_ZOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02192	                PAUSEUS 3                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02195	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02196	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00345	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00346

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02197	                wend
	GOTO?L	L00345
	LABEL?L	L00346	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02198	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02204	                SSP2CON2.0 = 1                     'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02205	                while SSP2CON2.0 == 1              'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00347	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00348

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02206	                wend                               'ISSUE A START COMMAND ON THE I2C BUS
	GOTO?L	L00347
	LABEL?L	L00348	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02209	                SSP2BUF = MPU_ADDR_W               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_W, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02210	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00349	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00350

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02211	                WEND
	GOTO?L	L00349
	LABEL?L	L00350	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02212	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02213	                SSP2BUF = GYRO_XOUT_H_ADDR         'SEND THE FIRST GYRO REGISTER ADDRESS ON THE I2C BUS (ADDRESS WILL AUTOINCREMENT WHEN BL
	MOVE?CB	_GYRO_XOUT_H_ADDR, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02214	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00351	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00352

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02215	                WEND
	GOTO?L	L00351
	LABEL?L	L00352	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02216	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02219	                SSP2CON2.0 = 1                      'SET BIT TO ISSUE START COMMAND
	MOVE?CT	001h, _SSP2CON2??0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02220	                while SSP2CON2.0 == 1               'LOOP UNTIL THE START IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00353	
	CMPNE?TCL	_SSP2CON2??0, 001h, L00354

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02221	                wend 
	GOTO?L	L00353
	LABEL?L	L00354	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02224	                SSP2BUF = MPU_ADDR_r               'SEND THE MPU WRITE ADDRESS ON THE I2C BUS
	MOVE?CB	_MPU_ADDR_R, SSP2BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02225	                while SSP2STAT.0 == 1              'LOOP UNTIL THE DATA IS SENT
	LABEL?L	L00355	
	CMPNE?TCL	_SSP2STAT??0, 001h, L00356

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02226	                WEND
	GOTO?L	L00355
	LABEL?L	L00356	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02227	                PAUSEUS 2                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	002h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02228	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02229	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00357	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00358

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02230	                WEND
	GOTO?L	L00357
	LABEL?L	L00358	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02231	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02232	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02233	                RAW_GYRO_XOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_XOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02234	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02235	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02236	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00359	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00360

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02237	                WEND
	GOTO?L	L00359
	LABEL?L	L00360	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02238	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02239	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02240	                RAW_GYRO_XOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_XOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02241	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02242	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02243	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00361	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00362

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02244	                WEND
	GOTO?L	L00361
	LABEL?L	L00362	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02245	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02246	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02247	                RAW_GYRO_YOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_YOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02248	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02249	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02250	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00363	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00364

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02251	                WEND
	GOTO?L	L00363
	LABEL?L	L00364	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02252	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02253	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02254	                RAW_GYRO_YOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_YOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02255	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02256	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02257	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00365	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00366

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02258	                WEND
	GOTO?L	L00365
	LABEL?L	L00366	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02259	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02260	                SSP2CON2.5 = 0                     'TELL THE PIC TO ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO SEND MOR
	MOVE?CT	000h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02261	                RAW_GYRO_ZOUT.BYTE1 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_ZOUT??BYTE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02262	                PAUSEUS 5                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	005h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02263	                SSP2CON2.3 = 1                     'SET THE PIC FOR I2C RECEIVER MODE TO SHIFT IN 1 BYTE AND STORE IT IN THE SSP2BUF
	MOVE?CT	001h, _SSP2CON2??3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02264	                WHILE SSP2STAT.0 == 0              'LOOP UNTIL THE DATA IS RECEIVED
	LABEL?L	L00367	
	CMPNE?TCL	_SSP2STAT??0, 000h, L00368

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02265	                WEND
	GOTO?L	L00367
	LABEL?L	L00368	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02266	                SSP2CON2.4 = 1                     'SEND AN ACKNOWLEDGE CLOCK CYCLE
	MOVE?CT	001h, _SSP2CON2??4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02267	                SSP2CON2.5 = 1                     'TELL THE PIC TO NOT ACKNOWLEDGE ON THE ACKNOWLEDGE CLOCK CYCLE SO THE MPU KNOWS TO NOT 
	MOVE?CT	001h, _SSP2CON2??5

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02268	                RAW_GYRO_ZOUT.BYTE0 = SSP2BUF      'STORE THE RECEIEVED DATA
	MOVE?BB	SSP2BUF, _RAW_GYRO_ZOUT??BYTE0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02269	                PAUSEUS 3                          'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02272	                SSP2CON2.2 = 1                      'SET BIT TO ISSUE STOP COMMAND
	MOVE?CT	001h, _SSP2CON2??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02273	                while SSP2CON2.2 == 1               'LOOP UNTIL THE STOP IS ISSUED AND THE MSSP MODULE AUTOMATICALLY CLEARS THE BIT
	LABEL?L	L00369	
	CMPNE?TCL	_SSP2CON2??2, 001h, L00370

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02274	                wend
	GOTO?L	L00369
	LABEL?L	L00370	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02275	                PAUSEUS 3                           'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	003h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02278	                FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02279	                SSP1BUF = WRITE_ENABLE_CMD      'SEND THE WRITE ENABLE COMMAND ON THE SPI BUS
	MOVE?CB	_WRITE_ENABLE_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02280	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02281	                FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02282	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02283	                FLASH_CS = 0                    'CS GOES LOW TO START A SEQUENCE                        
	MOVE?CT	000h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02284	                SSP1BUF = PP_4B_ADDR_CMD        'SEND THE BLOCK WRITE, 4 BYTE ADDRESS COMMAND ON THE SPI BUS
	MOVE?CB	_PP_4B_ADDR_CMD, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02285	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02286	                SSP1BUF = WRITE_ADDR_H.byte1    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_H??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02287	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02288	                SSP1BUF = WRITE_ADDR_H.byte0    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_H??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02289	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02290	                SSP1BUF = WRITE_ADDR_L.byte1    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_L??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02291	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02292	                SSP1BUF = WRITE_ADDR_L.byte0    'SEND 1 BYTE OF THE DESIRED WRITE ADDRESS TO THE FLASH MEMORY
	MOVE?BB	_WRITE_ADDR_L??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02293	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02296	                SSP1BUF = RAW_ACCEL_XOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_XOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02297	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02298	                SSP1BUF = RAW_ACCEL_XOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_XOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02299	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02300	                SSP1BUF = RAW_ACCEL_YOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_YOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02301	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02302	                SSP1BUF = RAW_ACCEL_YOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_YOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02303	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02304	                SSP1BUF = RAW_ACCEL_ZOUT.byte1  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_ZOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02305	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02306	                SSP1BUF = RAW_ACCEL_ZOUT.byte0  'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_ACCEL_ZOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02307	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02310	                SSP1BUF = RAW_GYRO_XOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_XOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02311	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02312	                SSP1BUF = RAW_GYRO_XOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_XOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02313	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02314	                SSP1BUF = RAW_GYRO_YOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_YOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02315	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02316	                SSP1BUF = RAW_GYRO_YOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_YOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02317	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02318	                SSP1BUF = RAW_GYRO_ZOUT.byte1   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_ZOUT??BYTE1, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02319	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02320	                SSP1BUF = RAW_GYRO_ZOUT.byte0   'SEND 1 BYTE TO THE FLASH MEMORY
	MOVE?BB	_RAW_GYRO_ZOUT??BYTE0, SSP1BUF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02321	                PAUSEUS 1                       'PAUSE TO ALLOW PREVIOUS INSTRUCTION TO FULLY EXECUTE
	PAUSEUS?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02323	                FLASH_CS = 1                    'CS GOES HIGH TO END A SEQUENCE 
	MOVE?CT	001h, _FLASH_CS

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02325	                if WRITE_ADDR_L + 12 == 65528 then
	ADD?WCW	_WRITE_ADDR_L, 00Ch, T1
	CMPNE?WCL	T1, 0FFF8h, L00371

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02326	                    WRITE_ADDR_H = WRITE_ADDR_H + 1
	ADD?WCW	_WRITE_ADDR_H, 001h, _WRITE_ADDR_H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02327	                    WRITE_ADDR_L = 0
	MOVE?CW	000h, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02328	                elseif (WRITE_ADDR_L + 12) // 512 == 504 then
	GOTO?L	L00372
	LABEL?L	L00371	
	ADD?WCW	_WRITE_ADDR_L, 00Ch, T1
	MOD?WCW	T1, 00200h, T1
	CMPNE?WCL	T1, 001F8h, L00373

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02329	                    WRITE_ADDR_L = WRITE_ADDR_L + 8 + 12
	ADD?WCW	_WRITE_ADDR_L, 008h, T1
	ADD?WCW	T1, 00Ch, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02330	                else
	GOTO?L	L00372
	LABEL?L	L00373	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02331	                    WRITE_ADDR_L = WRITE_ADDR_L + 12'ADD 12 TO THE WRITE ADDRESS SINCE 12 BYTES WERE JUST WRITTEN TO THE FLASH
	ADD?WCW	_WRITE_ADDR_L, 00Ch, _WRITE_ADDR_L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02332	                endif
	LABEL?L	L00372	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02333	        ENDIF
	LABEL?L	L00236	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02334	        UART_TX = 0
	MOVE?CT	000h, _UART_TX

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02335	        SAMPLE_NUM = SAMPLE_NUM + 1             'INCREMENT SAMPLE_NUM VARIABLE SO PROGRAM KNOWS THAT A SAMPLE WAS TAKEN 
	ADD?WCW	_SAMPLE_NUM, 001h, _SAMPLE_NUM

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02336	    ENDIF
	LABEL?L	L00233	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02337	    resume                                  'SENDS PROGRAM BACK TO WHERE THE INTERRUPT OCCURRED
	RESUME?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02338	enable                                  'ENABLES INTERRUPTS UPON EXITING THE INTERRUPT HANDLER (MUST BE IMMEDIATELY AFTER "RESUME")
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02342	CLR:												'CLEAR THE ENTIRE LCD

	LABEL?L	_CLR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02343	    IF DATA_OUT_BYPASS=1 THEN BYPASS_CLR
	ICALL?L	L00004
	CMPEQ?CCL	_DATA_OUT_BYPASS, 001h, _BYPASS_CLR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02344		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02345	    SerOut DSP,N9600,[CLRLCD]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_CLRLCD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02346		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02347	    PAUSE 10                                        'DELAY ALLOWS FOR FULL RESET
	ICALL?L	L00004
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02348	BYPASS_CLR:

	LABEL?L	_BYPASS_CLR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02349	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02350	BACKLITEON:											'TURN ON THE LCD BACKLIGHT

	LABEL?L	_BACKLITEON	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02351		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02352	    SerOut DSP,N9600,[LITEON]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_LITEON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02353		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02354	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02355	BACKLITEOFF:										'TURN OFF THE LCD BACKLIGHT

	LABEL?L	_BACKLITEOFF	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02356		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02357	    SerOut DSP,N9600,[LITEOFF]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_LITEOFF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02358		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02359	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02360	LINE_1:												'SEND THE CURSOR TO LINE #1

	LABEL?L	_LINE_1	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02361		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02362	    SerOut DSP,N9600,[POSCMD,LINE1]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02363		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02364	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02365	LINE_2:												'SEND THE CURSOR TO LINE #2

	LABEL?L	_LINE_2	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02366		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02367	    SerOut DSP,N9600,[POSCMD,LINE2]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02368		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02369	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02370	LINE_3:												'SEND THE CURSOR TO LINE #3

	LABEL?L	_LINE_3	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02371		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02372	    SerOut DSP,N9600,[POSCMD,LINE3]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE3

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02373		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02374	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02375	LINE_4:												'SEND THE CURSOR TO LINE #4

	LABEL?L	_LINE_4	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02376		OUTPUT DSP
	ICALL?L	L00004
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02377	    SerOut DSP,N9600,[POSCMD,LINE4]
	ICALL?L	L00004
	SERPIN?T	_DSP
	SERMODE?C	_N9600
	SEROUT?C	_POSCMD
	SEROUT?C	_LINE4

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02378		INPUT DSP
	ICALL?L	L00004
	INPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02379	    Return
	ICALL?L	L00004
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02384	PROCESS_RCVR_D0:

	LABEL?L	_PROCESS_RCVR_D0	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02385	PROCESS_RCVR_D0_LOOP:

	LABEL?L	_PROCESS_RCVR_D0_LOOP	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02386	    PAUSEUS 50
	ICALL?L	L00004
	PAUSEUS?C	032h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02387	    IF RCVR_D0 = 1 then PROCESS_RCVR_D0_LOOP
	ICALL?L	L00004
	CMPEQ?TCL	_RCVR_D0, 001h, _PROCESS_RCVR_D0_LOOP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\MPU-5X\MPU-5X (ADM) HANDSHAKE REV-A.PBP	02388	RETURN
	ICALL?L	L00004
	RETURN?	

	END
