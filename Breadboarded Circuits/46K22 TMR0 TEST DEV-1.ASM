
; PICBASIC PRO(TM) Compiler 3.1.1.4, (c) 1997, 2018 ME Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        "Error: PM does not support this device.  Use MPASM."
        NOLIST
    else
        LIST
        LIST p = 18F46K22, r = dec, w = -311, w = -230, f = inhx32
        INCLUDE "P18F46K22.INC"	; MPASM  Header
        NOLIST
    endif
        LIST
EEPROM_START	EQU	0F00000h
BLOCK_SIZE	EQU	64


PBP_HARDWAREDEF  macro
  endm


    CONFIG  FOSC = INTIO67        ; Internal oscillator block
    CONFIG  PLLCFG = OFF          ; Oscillator used directly
    CONFIG  PRICLKEN = OFF        ; Primary clock can be disabled by software
    CONFIG  FCMEN = OFF           ; Fail-Safe Clock Monitor disabled
    CONFIG  IESO = OFF            ; Oscillator Switchover mode disabled
    CONFIG  PWRTEN = OFF          ; Power up timer disabled
    CONFIG  BOREN = SBORDIS       ; Brown-out Reset enabled in hardware only (SBOREN is disabled)
    CONFIG  BORV = 190            ; VBOR set to 1.90 V nominal
    CONFIG  WDTEN = ON            ; WDT is always enabled. SWDTEN bit has no effect
    CONFIG  WDTPS = 32768         ; 1:32768
    CONFIG  CCP2MX = PORTC1       ; CCP2 input/output is multiplexed with RC1
    CONFIG  PBADEN = OFF          ; PORTB<5:0> pins are configured as digital I/O on Reset
    CONFIG  CCP3MX = PORTB5       ; P3A/CCP3 input/output is multiplexed with RB5
    CONFIG  HFOFST = ON           ; HFINTOSC output and ready status are not delayed by the oscillator stable status
    CONFIG  T3CMX = PORTC0        ; T3CKI is on RC0
    CONFIG  P2BMX = PORTD2        ; P2B is on RD2
    CONFIG  MCLRE = EXTMCLR       ; MCLR pin enabled, RE3 input pin disabled
    CONFIG  STVREN = ON           ; Stack full/underflow will cause Reset
    CONFIG  LVP = OFF             ; Single-Supply ICSP disabled
    CONFIG  XINST = OFF           ; Instruction set extension and Indexed Addressing mode disabled (Legacy mode)
    CONFIG  DEBUG = OFF           ; Disabled
    CONFIG  CP0 = OFF             ; Block 0 (000800-003FFFh) not code-protected
    CONFIG  CP1 = OFF             ; Block 1 (004000-007FFFh) not code-protected
    CONFIG  CP2 = OFF             ; Block 2 (008000-00BFFFh) not code-protected
    CONFIG  CP3 = OFF             ; Block 3 (00C000-00FFFFh) not code-protected
    CONFIG  CPB = OFF             ; Boot block (000000-0007FFh) not code-protected
    CONFIG  CPD = OFF             ; Data EEPROM not code-protected
    CONFIG  WRT0 = OFF            ; Block 0 (000800-003FFFh) not write-protected
    CONFIG  WRT1 = OFF            ; Block 1 (004000-007FFFh) not write-protected
    CONFIG  WRT2 = OFF            ; Block 2 (008000-00BFFFh) not write-protected
    CONFIG  WRT3 = OFF            ; Block 3 (00C000-00FFFFh) not write-protected
    CONFIG  WRTC = OFF            ; Configuration registers (300000-3000FFh) not write-protected
    CONFIG  WRTB = OFF            ; Boot Block (000000-0007FFh) not write-protected
    CONFIG  WRTD = OFF            ; Data EEPROM not write-protected
    CONFIG  EBTR0 = OFF           ; Block 0 (000800-003FFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR1 = OFF           ; Block 1 (004000-007FFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR2 = OFF           ; Block 2 (008000-00BFFFh) not protected from table reads executed in other blocks
    CONFIG  EBTR3 = OFF           ; Block 3 (00C000-00FFFFh) not protected from table reads executed in other blocks
    CONFIG  EBTRB = OFF           ; Boot Block (000000-0007FFh) not protected from table reads executed in other blocks



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00400	DEFINE  ADC_CHANNELS  1
#define		ADC_CHANNELS		  1
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00037	define OSC 32        
#define		OSC		 32        

RAM_START       		EQU	00000h
RAM_END         		EQU	00F37h
RAM_BANKS       		EQU	00010h
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANK8_START     		EQU	00800h
BANK8_END       		EQU	008FFh
BANK9_START     		EQU	00900h
BANK9_END       		EQU	009FFh
BANK10_START    		EQU	00A00h
BANK10_END      		EQU	00AFFh
BANK11_START    		EQU	00B00h
BANK11_END      		EQU	00BFFh
BANK12_START    		EQU	00C00h
BANK12_END      		EQU	00CFFh
BANK13_START    		EQU	00D00h
BANK13_END      		EQU	00DFFh
BANK14_START    		EQU	00E00h
BANK14_END      		EQU	00EFFh
BANK15_START    		EQU	00F00h
BANK15_END      		EQU	00F37h
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00027	A00001	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 001h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00012	A00002	R0      VAR     WORD BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00013	A00004	R1      VAR     WORD BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00014	A00006	R2      VAR     WORD BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00015	A00008	R3      VAR     WORD BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00016	A0000A	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00017	A0000C	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00018	A0000E	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00019	A00010	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00020	A00012	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 012h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00023	A00014	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00026	A00015	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00021	A00016	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00024	A00017	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00022	A00018	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 018h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.RAM	00025	A00019	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 019h
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00401	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00402	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00403	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00404	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
#define _BLUE_LED        	_PORTD??1
#define _INT_PIN         	_PORTD??0
#define _PORTD??1        	 PORTD, 001h
#define _PORTD??0        	 PORTD, 000h
#define _INTCON??2       	 INTCON, 002h

; Constants.
_T2400           		EQU	00000h
_T1200           		EQU	00001h
_T9600           		EQU	00002h
_T300            		EQU	00003h
_N2400           		EQU	00004h
_N1200           		EQU	00005h
_N9600           		EQU	00006h
_N300            		EQU	00007h
_OT2400          		EQU	00008h
_OT1200          		EQU	00009h
_OT9600          		EQU	0000Ah
_OT300           		EQU	0000Bh
_ON2400          		EQU	0000Ch
_ON1200          		EQU	0000Dh
_ON9600          		EQU	0000Eh
_ON300           		EQU	0000Fh
_MSBPRE          		EQU	00000h
_LSBPRE          		EQU	00001h
_MSBPOST         		EQU	00002h
_LSBPOST         		EQU	00003h
_LSBFIRST        		EQU	00000h
_MSBFIRST        		EQU	00001h
_CLS             		EQU	00000h
_HOME            		EQU	00001h
_BELL            		EQU	00007h
_BKSP            		EQU	00008h
_TAB             		EQU	00009h
_CR              		EQU	0000Dh
_UnitOn          		EQU	00012h
_UnitOff         		EQU	0001Ah
_UnitsOff        		EQU	0001Ch
_LightsOn        		EQU	00014h
_LightsOff       		EQU	00010h
_Dim             		EQU	0001Eh
_Bright          		EQU	00016h
_TMR0_TICK_THRESHOLD		EQU	08235h

; EEPROM data.


	INCLUDE	"46K22 TMR0 TEST DEV-1.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPIC18.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00036	#HEADER
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00061	#CONFIG
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00373	BANKA   $0000, $005F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00374	BANK0   $0060, $00FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00375	BANK1   $0100, $01FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00376	BANK2   $0200, $02FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00377	BANK3   $0300, $03FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00378	BANK4   $0400, $04FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00379	BANK5   $0500, $05FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00380	BANK6   $0600, $06FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00381	BANK7   $0700, $07FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00382	BANK8   $0800, $08FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00383	BANK9   $0900, $09FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00384	BANK10  $0A00, $0AFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00385	BANK11  $0B00, $0BFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00386	BANK12  $0C00, $0CFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00387	BANK13  $0D00, $0DFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00388	BANK14  $0E00, $0EFF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00389	BANK15  $0F00, $0F37
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00395	    INCLUDE "PBPPI18L.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00396	#ELSE
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00397	    LIBRARY  "PBPPIC18"

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00398	    INCLUDE "PBPPIC18.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00399	#ENDIF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00400	DEFINE  ADC_CHANNELS  1
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K22.PBPINC	00408	#HEADER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00036	include "MODEDEFS.BAS"
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00014	Symbol T2400  = 0       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00015	Symbol T1200  = 1       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00016	Symbol T9600  = 2       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00017	Symbol T300   = 3       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00019	Symbol N2400  = 4       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00020	Symbol N1200  = 5       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00021	Symbol N9600  = 6       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00022	Symbol N300   = 7       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00024	Symbol OT2400 = 8       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00025	Symbol OT1200 = 9       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00026	Symbol OT9600 = 10      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00027	Symbol OT300  = 11      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00029	Symbol ON2400 = 12      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00030	Symbol ON1200 = 13      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00031	Symbol ON9600 = 14      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00032	Symbol ON300  = 15      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00036	Symbol MSBPRE = 0       ' MSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00037	Symbol LSBPRE = 1       ' LSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00038	Symbol MSBPOST = 2      ' MSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00039	Symbol LSBPOST = 3      ' LSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00042	Symbol LSBFIRST = 0     ' LSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00043	Symbol MSBFIRST = 1     ' MSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00047	Symbol CLS = 0
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00048	Symbol HOME = 1
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00049	Symbol BELL = 7
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00050	Symbol BKSP = 8
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00051	Symbol TAB = 9
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00052	Symbol CR = 13
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00056	Symbol UnitOn = %10010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00057	Symbol UnitOff = %11010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00058	Symbol UnitsOff = %11100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00059	Symbol LightsOn = %10100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00060	Symbol LightsOff = %10000
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00061	Symbol Dim = %11110
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00062	Symbol Bright = %10110
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00037	define OSC 32        

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00039	OSCCON = %11101000		'USE CRYSTAL OSCILLATOR AT 8 MHZ
	MOVE?CB	0E8h, OSCCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00040	OSCCON2 = %10000000		'ENABLE 4xPLL
	MOVE?CB	080h, OSCCON2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00041	OSCTUNE = %01000000		'ENABLE 4xPLL FOR INTOSC
	MOVE?CB	040h, OSCTUNE

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00042	INTCON = %00000000      'DISABLE ALL INTERRUPTS, ENABLED LATER IN INIT_TMR0 SUBROUTINE
	MOVE?CB	000h, INTCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00043	WPUB = %00000000        'DISABLE PULLUPS ON PORTB
	MOVE?CB	000h, WPUB

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00044	ANSELA = %00000000      'SET ALL A PORTS TO DIGITAL
	MOVE?CB	000h, ANSELA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00045	ANSELB = %00000000      'SET ALL B PORTS TO DIGITAL
	MOVE?CB	000h, ANSELB

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00046	ANSELC = %00000000      'SET ALL C PORTS TO DIGITAL
	MOVE?CB	000h, ANSELC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00047	TRISE = %00000001       'DISABLE PULLUPS ON PORTE
	MOVE?CB	001h, TRISE
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00053	TMR0_TICK_THRESHOLD     CON     33333       'THIS IS THE NUMBER THAT TMR0 WILL COUNT TO BEFORE ROLLING OVER 

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00057	INIT:

	LABEL?L	_INIT	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00058	    ON interrupt goto INTERRUPT_HANDLER              'SPECIFIES THE SUBROUTINE TO EXECUTE WHEN AN INTERRUPT IS DETECTED
	ONINT?LL	_INTERRUPT_HANDLER, L00001

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00059	    INTCON = %10100000                               'ENABLES GLOBAL INTERRUPTS AND TMR0 INTERRUPT SPECIFICALLY
	ICALL?L	L00001
	MOVE?CB	0A0h, INTCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00060	    disable
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00062	    OUTPUT BLUE_LED
	OUTPUT?T	_BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00063	    output INT_PIN 
	OUTPUT?T	_INT_PIN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00065	    INT_PIN = 0
	MOVE?CT	000h, _INT_PIN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00066	    BLUE_LED = 1
	MOVE?CT	001h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00067	    PAUSE 100
	PAUSE?C	064h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00068	    BLUE_LED = 0
	MOVE?CT	000h, _BLUE_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00069	MAIN:    

	LABEL?L	_MAIN	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00070	    enable
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00071	    GOSUB INIT_TMR0                           'INITIALIZE TMR0 VALUES FOR GIVEN SAMPLE RATE
	ICALL?L	L00001
	GOSUB?L	_INIT_TMR0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00072	    while(1)
	ICALL?L	L00001
	LABEL?L	L00002	
	CMPF?CL	001h, L00003

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00073	        wend
	ICALL?L	L00001
	GOTO?L	L00002
	LABEL?L	L00003	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00076	disable
	DISABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00077	INTERRUPT_HANDLER:  '**NOTE: YOU CANNOT EXECUTE A SUBROUTINE WITHIN THE INTERRUPT HANDLER

	LABEL?L	_INTERRUPT_HANDLER	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00078	    TMR0H = (65535 - TMR0_TICK_THRESHOLD) / 256     'SET HIGH BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	MOVE?CB	07Dh, TMR0H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00079	    TMR0L = (65535 - TMR0_TICK_THRESHOLD) // 256    'SET LOW BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	MOD?CCB	07DCAh, 00100h, TMR0L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00080	    INTCON.2 = 0                                                       'RESET TMR0 OVERFLOW INTERRUPT
	MOVE?CT	000h, _INTCON??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00081	    INT_pin = 1
	MOVE?CT	001h, _INT_PIN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00082	    INT_PIN = 0
	MOVE?CT	000h, _INT_PIN

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00083	    resume     
	RESUME?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00084	enable
	ENABLE?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00086	INIT_TMR0:

	LABEL?L	_INIT_TMR0	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00087	    T0CON = %10000000                               'ENABLES TIMER0, SETS AS 16-BIT, SET CLKOUT (T0CKI PIN) AS SOURCE, 
	ICALL?L	L00001
	MOVE?CB	080h, T0CON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00090	    TMR0H = (65535 - TMR0_TICK_THRESHOLD) / 256     'SET HIGH BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	ICALL?L	L00001
	MOVE?CB	07Dh, TMR0H

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00091	    TMR0L = (65535 - TMR0_TICK_THRESHOLD) // 256    'SET LOW BYTE OF TMR0 VALUE SO IT OVERFLOWS AT THE DESIRED PERIOD
	ICALL?L	L00001
	MOD?CCB	07DCAh, 00100h, TMR0L

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00092	    INTCON.2 = 0    
	ICALL?L	L00001
	MOVE?CT	000h, _INTCON??2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\NTH SOLUTIONS\URICCHIO\PBP3\46K22 TMR0 TEST DEV-1.PBP	00093	    RETURN
	ICALL?L	L00001
	RETURN?	

	END
