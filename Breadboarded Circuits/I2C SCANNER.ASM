
; PICBASIC PRO(TM) Compiler 3.1.1.4, (c) 1997, 2018 ME Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        include 'M16F688.INC'	; PM header
        XALL
        NOLIST
    else
        LIST
        LIST p = 16F688, r = dec, w = -302, c = 255
        INCLUDE "P16F688.INC"	; MPASM  Header
        NOLIST
    endif
        LIST


PBP_HARDWAREDEF  macro
  endm


    __config _INTRC_OSC_NOCLKOUT & _WDT_ON & _MCLRE_ON & _CP_OFF



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00138	DEFINE  CODE_SIZE 4
#define		CODE_SIZE		 4
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00012	define OSC 8
#define		OSC		 8

RAM_START       		EQU	00020h
RAM_END         		EQU	0016Fh
RAM_BANKS       		EQU	00003h
BANK0_START     		EQU	00020h
BANK0_END       		EQU	0007Fh
BANK1_START     		EQU	000A0h
BANK1_END       		EQU	000EFh
BANK2_START     		EQU	00120h
BANK2_END       		EQU	0016Fh
EEPROM_START    		EQU	02100h
EEPROM_END      		EQU	021FFh

; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00012	A00020	R0      VAR     WORD BANK0 SYSTEM       ' System Register
R0              		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00013	A00022	R1      VAR     WORD BANK0 SYSTEM       ' System Register
R1              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00014	A00024	R2      VAR     WORD BANK0 SYSTEM       ' System Register
R2              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00015	A00026	R3      VAR     WORD BANK0 SYSTEM       ' System Register
R3              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00016	A00028	R4      VAR     WORD BANK0 SYSTEM       ' System Register
R4              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00017	A0002A	R5      VAR     WORD BANK0 SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00018	A0002C	R6      VAR     WORD BANK0 SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00019	A0002E	R7      VAR     WORD BANK0 SYSTEM       ' System Register
R7              		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00020	A00030	R8      VAR     WORD BANK0 SYSTEM       ' System Register
R8              		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00026	A00032	FLAGS   VAR     BYTE BANK0 SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 012h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00025	A00033	GOP     VAR     BYTE BANK0 SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 013h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00022	A00034	RM1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00024	A00035	RM2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00021	A00036	RR1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00023	A00037	RR2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00038	A00038	VALID				var		word
_VALID           		EQU	RAM_START + 018h
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00036	A0003A	COUNTER 			VAR     byte
_COUNTER         		EQU	RAM_START + 01Ah
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00035	A0003B	I					var		byte
_I               		EQU	RAM_START + 01Bh
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00037	A0003C	I2C_ADDR			var		byte
_I2C_ADDR        		EQU	RAM_START + 01Ch
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00139	PORTL   VAR     PORTA
_PORTL           		EQU	 PORTA
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00140	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00141	TRISL   VAR     TRISA
_TRISL           		EQU	 TRISA
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00142	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
#define _LED             	_PORTC??2
#define _SDA             	_PORTA??5
#define _SCL             	_PORTA??4
#define _DSP             	_PORTA??0
#define _PORTC??2        	 PORTC, 002h
#define _PORTA??5        	 PORTA, 005h
#define _PORTA??4        	 PORTA, 004h
#define _PORTA??0        	 PORTA, 000h

; Constants.
_T2400           		EQU	00000h
_T1200           		EQU	00001h
_T9600           		EQU	00002h
_T300            		EQU	00003h
_N2400           		EQU	00004h
_N1200           		EQU	00005h
_N9600           		EQU	00006h
_N300            		EQU	00007h
_OT2400          		EQU	00008h
_OT1200          		EQU	00009h
_OT9600          		EQU	0000Ah
_OT300           		EQU	0000Bh
_ON2400          		EQU	0000Ch
_ON1200          		EQU	0000Dh
_ON9600          		EQU	0000Eh
_ON300           		EQU	0000Fh
_MSBPRE          		EQU	00000h
_LSBPRE          		EQU	00001h
_MSBPOST         		EQU	00002h
_LSBPOST         		EQU	00003h
_LSBFIRST        		EQU	00000h
_MSBFIRST        		EQU	00001h
_CLS             		EQU	00000h
_HOME            		EQU	00001h
_BELL            		EQU	00007h
_BKSP            		EQU	00008h
_TAB             		EQU	00009h
_CR              		EQU	0000Dh
_UnitOn          		EQU	00012h
_UnitOff         		EQU	0001Ah
_UnitsOff        		EQU	0001Ch
_LightsOn        		EQU	00014h
_LightsOff       		EQU	00010h
_Dim             		EQU	0001Eh
_Bright          		EQU	00016h
	INCLUDE	"I2C SCANNER.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00036	#HEADER
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00060	#CONFIG
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00129	BANK0   $0020, $007F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00130	BANK1   $00A0, $00EF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00131	BANK2   $0120, $016F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00133	EEPROM  $2100, $21FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00135	    #ERROR "-n option (PBPL) is not supported for this device."
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00136	#ENDIF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00137	LIBRARY "PBPPIC14"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00138	DEFINE  CODE_SIZE 4

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00143	include "PBPPIC14.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F688.PBPINC	00147	#HEADER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00011	include "MODEDEFS.BAS"
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00014	Symbol T2400  = 0       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00015	Symbol T1200  = 1       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00016	Symbol T9600  = 2       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00017	Symbol T300   = 3       ' Driven True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00019	Symbol N2400  = 4       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00020	Symbol N1200  = 5       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00021	Symbol N9600  = 6       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00022	Symbol N300   = 7       ' Driven Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00024	Symbol OT2400 = 8       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00025	Symbol OT1200 = 9       ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00026	Symbol OT9600 = 10      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00027	Symbol OT300  = 11      ' Open True
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00029	Symbol ON2400 = 12      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00030	Symbol ON1200 = 13      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00031	Symbol ON9600 = 14      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00032	Symbol ON300  = 15      ' Open Inverted
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00036	Symbol MSBPRE = 0       ' MSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00037	Symbol LSBPRE = 1       ' LSB first, sample before clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00038	Symbol MSBPOST = 2      ' MSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00039	Symbol LSBPOST = 3      ' LSB first, sample after clock
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00042	Symbol LSBFIRST = 0     ' LSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00043	Symbol MSBFIRST = 1     ' MSB first
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00047	Symbol CLS = 0
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00048	Symbol HOME = 1
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00049	Symbol BELL = 7
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00050	Symbol BKSP = 8
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00051	Symbol TAB = 9
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00052	Symbol CR = 13
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00056	Symbol UnitOn = %10010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00057	Symbol UnitOff = %11010
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00058	Symbol UnitsOff = %11100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00059	Symbol LightsOn = %10100
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00060	Symbol LightsOff = %10000
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00061	Symbol Dim = %11110
; C:\PROGRAM FILES (X86)\PBP3\MODEDEFS.BAS	00062	Symbol Bright = %10110
; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00012	define OSC 8

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00013	OPTION_REG =%00000000     'Disable all PORTA pullups, set prescaler for WDT to 1:1
	MOVE?CB	000h, OPTION_REG

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00014	INTCON = %00000000        'Disable all interrupts
	MOVE?CB	000h, INTCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00015	PIE1 = %00000000          'Disable other Interrupts
	MOVE?CB	000h, PIE1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00016	PIR1 = %00000000          'Reset all flags
	MOVE?CB	000h, PIR1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00017	OSCCON = %01110111        '8MHz, set sytem to run on HFINTOSC
	MOVE?CB	077h, OSCCON

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00018	ANSEL = %00100000         
	MOVE?CB	020h, ANSEL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00019	TRISA = %00000000         'Set all Port A pins to output
	MOVE?CB	000h, TRISA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00020	TRISC = %00000000         'Set all Port C pins to output
	MOVE?CB	000h, TRISC

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00021	WPUA = %00000000
	MOVE?CB	000h, WPUA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00022	IOCA = %00000000          'Disable PORT A interrupt on change
	MOVE?CB	000h, IOCA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00023	CMCON0 = %00000111        'Disable Comparator
	MOVE?CB	007h, CMCON0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00024	ADCON0 = %00000000        'Disable A/D
	MOVE?CB	000h, ADCON0

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00040	output LED
	OUTPUT?T	_LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00041	output SCL
	OUTPUT?T	_SCL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00042	output SDA
	OUTPUT?T	_SDA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00043	output DSP
	OUTPUT?T	_DSP

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00045	gosub INIT_LCD
	GOSUB?L	_INIT_LCD

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00046	gosub clr
	GOSUB?L	_clr

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00047	gosub Line1
	GOSUB?L	_Line1

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00048	gosub blink_cur
	GOSUB?L	_blink_cur

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00049	counter = 0
	MOVE?CB	000h, _COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00050	serout dsp,T9600,["I2C Scanner"]
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	049h
	SEROUT?C	032h
	SEROUT?C	043h
	SEROUT?C	020h
	SEROUT?C	053h
	SEROUT?C	063h
	SEROUT?C	061h
	SEROUT?C	06Eh
	SEROUT?C	06Eh
	SEROUT?C	065h
	SEROUT?C	072h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00051	pause 2000
	PAUSE?C	007D0h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00052	gosub CRLF
	GOSUB?L	_CRLF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00053	input SDA: input SCL
	INPUT?T	_SDA

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00053	input SDA: input SCL
	INPUT?T	_SCL

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00054	main:

	LABEL?L	_main	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00055		gosub init_blink
	GOSUB?L	_init_blink

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00056		for I2C_ADDR = 0 to 254 step 2
	MOVE?CB	000h, _I2C_ADDR
	LABEL?L	L00001	
	CMPGT?BCL	_I2C_ADDR, 0FEh, L00002

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00057			Valid = I2C_ADDR
	MOVE?BW	_I2C_ADDR, _VALID

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00058			i2cwrite SDA,SCL,I2C_ADDR,[0],Not_found
	I2CDATA?T	_SDA
	I2CCLOCK?T	_SCL
	I2CWRITE?BL	_I2C_ADDR, _Not_found
	I2CWRITES?CL	000h, _Not_found

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00059			NEXT_ADDR:

	LABEL?L	_NEXT_ADDR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00060			if Valid < 1000 then
	CMPGE?WCL	_VALID, 003E8h, L00003

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00061				counter = counter + 1
	ADD?BCB	_COUNTER, 001h, _COUNTER

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00062				if COUNTER = 5 THEN
	CMPNE?BCL	_COUNTER, 005h, L00005

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00063					gosub Line2
	GOSUB?L	_Line2

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00064					endif
	LABEL?L	L00005	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00065				serout dsp,T9600,[#I2C_ADDR," "]
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUTD?B	_I2C_ADDR
	SEROUT?C	020h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00066				gosub CRLF
	GOSUB?L	_CRLF

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00067				endif
	LABEL?L	L00003	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00068			next I2C_addr
	NEXT?BCL	_I2C_ADDR, 002h, L00001
	LABEL?L	L00002	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00069		if COUNTER = 0 then
	CMPNE?BCL	_COUNTER, 000h, L00007

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00070			serout dsp,T9600,["No Device Found"]
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	04Eh
	SEROUT?C	06Fh
	SEROUT?C	020h
	SEROUT?C	044h
	SEROUT?C	065h
	SEROUT?C	076h
	SEROUT?C	069h
	SEROUT?C	063h
	SEROUT?C	065h
	SEROUT?C	020h
	SEROUT?C	046h
	SEROUT?C	06Fh
	SEROUT?C	075h
	SEROUT?C	06Eh
	SEROUT?C	064h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00071			endif
	LABEL?L	L00007	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00072		end
	END?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00074	NOT_FOUND:

	LABEL?L	_Not_found	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00075		VALID = 1000
	MOVE?CW	003E8h, _VALID

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00076		goto NEXt_ADDR
	GOTO?L	_NEXT_ADDR

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00077		return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00080	INIT_LCD:

	LABEL?L	_INIT_LCD	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00081		gosub CLR:pause 25: gosub CLR
	GOSUB?L	_clr

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00081		gosub CLR:pause 25: gosub CLR
	PAUSE?C	019h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00081		gosub CLR:pause 25: gosub CLR
	GOSUB?L	_clr

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00082		return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00083	CLR:

	LABEL?L	_clr	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00084	    serout DSP,T9600,[$FE,$01]      'Clear LCD and move cursor to home
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	0FEh
	SEROUT?C	001h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00085	    pause 10
	PAUSE?C	00Ah

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00086	    return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00087	LINE1:

	LABEL?L	_Line1	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00088	    serout DSP,T9600,[$FE,$80]      'Move cursor to Line 1
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	0FEh
	SEROUT?C	080h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00089	    return    
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00090	LINE2:

	LABEL?L	_Line2	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00091	    serout DSP,T9600,[$FE,$C0]      'Move cursor to Line 2
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	0FEh
	SEROUT?C	0C0h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00092	    return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00093	BLINK_CUR:

	LABEL?L	_blink_cur	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00094	    serout DSP,T9600,[$FE,$0D]      'Show blinking cursor
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	0FEh
	SEROUT?C	00Dh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00095	    return
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00096	DIS_CUR:

	LABEL?L	_DIS_CUR	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00097	    serout DSP,T9600,[$FE,$0C]      'Hide blinking cursor
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	0FEh
	SEROUT?C	00Ch

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00098	    return	 	
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00101	CRLF:

	LABEL?L	_CRLF	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00102	   serout DSP,T9600,[10,13]      'Show blinking cursor
	SERPIN?T	_DSP
	SERMODE?C	_T9600
	SEROUT?C	00Ah
	SEROUT?C	00Dh

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00103	   return  	
	RETURN?	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00105	INIT_BLINK:

	LABEL?L	_init_blink	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00106		for I = 0 to 1
	MOVE?CB	000h, _I
	LABEL?L	L00009	
	CMPGT?BCL	_I, 001h, L00010

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00107				LED = 1
	MOVE?CT	001h, _LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00108				pause 100
	PAUSE?C	064h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00109				LED = 0
	MOVE?CT	000h, _LED

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00110				pause 100
	PAUSE?C	064h

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00111				next I 
	NEXT?BCL	_I, 001h, L00009
	LABEL?L	L00010	

; C:\USERS\ANDREW MCENTEE\DOCUMENTS\DEVELOPMENT\PBP3\16F688 PROGRAMS\I2C SCANNER.PBP	00112		return
	RETURN?	

	END
